---
tags:
  - AIQA
  - 自學心法
---
# 背景說明 
- 代號部分： Q 為哈爸提問，A 為 AI 回答，Ｍ是我對這個問題的相關註解，T 為模型提供的思考過程
- 本文版本： 20250330


## 版本歷史
- 20250330: Q6.3


# 方法小結
## 情境
- G1: gemini 2.0 think 01-21
- G2: gemini 2.5 pro 03-25

# QA
```dataview 
TABLE WITHOUT ID Q FROM "主題/法律判決書/AIQA-法律判決書" 
```

## Q1.1-設計判決書的 meta data
- M::New chat
- Q::Q1.1:我想設計判決書的 meta data，使用 json 格式，請給我建議規格
- A::好的，針對判決書的 metadata 設計，以下提供一個 JSON 格式的建議規格。這個規格力求通用性、完整性與易用性，你可以根據你的具體需求進行調整和擴展。

**JSON 判決書 Metadata 規格建議**

```json
{
  "documentType": "判決書",
  "version": "1.0",  // 版本號，方便未來規格更新
  "metadata": {
    "案件資訊": {
      "案件編號": "法院代碼-年度-字別-案號",  // 例如：臺灣高等法院 110 年度上訴字第 1234 號，建議使用標準案件編號格式
      "案件類型": "民事/刑事/行政/其他",  // 例如：民事訴訟、刑事訴訟、行政訴訟、家事事件、少年事件等
      "案由": "案件主要爭議點簡述",  // 例如：損害賠償、詐欺、違反交通管理處罰條例、離婚等
      "審級": "一審/二審/三審/更審", // 一審、二審（上訴審）、三審（最高法院）、更審
      "年度": 2023 // 案件年度
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院", //  完整法院名稱
      "法院層級": "高等法院/地方法院/最高法院/行政法院/智慧財產法院/其他", // 法院的層級
      "法院代碼": "TPH" //  法院代碼 (若有標準代碼系統)
    },
    "判決資訊": {
      "判決日期": "2023-10-26", //  YYYY-MM-DD 格式
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他", //  簡述判決結果，例如：駁回、有罪、無罪、勝訴、敗訴、撤銷、變更等
      "判決主文": "完整判決主文內容 (可考慮是否需要完整收錄，或僅摘要)", // 如果需要完整收錄判決主文，則放入此處，否則可考慮僅摘要或留空
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官"
        }
      ],
      "檢察官": [ // 刑事案件可能會有檢察官
        {
          "姓名": "陳大同",
          "職稱": "檢察官"
        }
      ],
      "律師": { // 當事人委任律師資訊
        "原告": [
          {
            "姓名": "張三",
            "事務所": "XX 律師事務所"
          }
        ],
        "被告": [
          {
            "姓名": "李四",
            "事務所": "YY 律師事務所"
          }
        ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五", // 自然人或法人名稱
          "類型": "自然人/法人", //  區分自然人或法人
          "統一編號": "12345678" // 若為法人，可加入統一編號
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人"
        }
      ],
      "關係人": [ //  其他訴訟關係人，例如：參加人、證人等 (可選)
        {
          "名稱": "錢七",
          "類型": "自然人",
          "關係": "證人"
        }
      ]
    },
    "法律依據": {
      "法條": [ //  判決書中引用的主要法條
        "民法第 184 條",
        "刑法第 339 條"
      ],
      "解釋": [ //  判決書中引用的重要解釋令函或判例 (可選)
        "最高法院 100 年度台上字第 1234 號判例",
        "法務部 (法) 律字第 xxx 號函釋"
      ]
    },
    "文件資訊": {
      "語言": "中文", //  文件語言
      "格式": "PDF/DOCX/TXT", //  文件格式
      "創建日期": "2023-10-26", //  文件創建日期 (可能與判決日期相同或稍後)
      "修改日期": "2023-10-27", //  文件最後修改日期 (若有)
      "文件來源": "法院網站/法律資料庫/其他", //  文件來源
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf" //  原始檔案名稱 (可選)
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "侵權行為", "車禍"], //  方便檢索的關鍵字
      "摘要": "本判決認定被告因過失駕駛造成原告損害，判決被告應負損害賠償責任。", //  判決摘要 (可選)
      "相關連結": [ //  連結到相關資源 (可選)
        "https://example.com/related_case_law",
        "https://example.com/court_website"
      ],
      "公開程度": "公開/部分公開/不公開", //  判決書的公開程度 (若適用)
      "備註": "其他需要記錄的備註事項" //  任何額外資訊
    }
  }
}
```

**欄位說明與注意事項:**

* **`documentType`**:  文件類型，固定為 "判決書"。
* **`version`**: 版本號，方便未來規格更新和管理。
* **`metadata`**: 主要的 metadata 資訊都放在這個物件下，方便組織。
* **`案件資訊`**: 案件的基本識別資訊，例如案件編號、類型、案由、審級等。
    * **`案件編號`**:  非常重要，建議使用標準的案件編號格式，以便於系統識別和關聯。
    * **`案件類型`**:  使用標準化的案件類型分類，方便統計和分析。
    * **`案由`**:  簡潔明瞭地描述案件的爭議焦點。
    * **`審級`**:  標明判決書的審級，有助於理解判決的法律位階。
* **`法院資訊`**:  提供法院的相關資訊。
    * **`法院名稱`**:  使用法院的全稱。
    * **`法院層級`**:  使用標準化的法院層級分類。
    * **`法院代碼`**:  如果存在標準的法院代碼系統，建議加入，方便系統間的資料交換。
* **`判決資訊`**:  關於判決本身的資訊。
    * **`判決日期`**:  務必使用標準的 `YYYY-MM-DD` 格式。
    * **`判決結果`**:  簡述判決的核心結果，方便快速了解判決方向。
    * **`判決主文`**:  是否需要完整收錄判決主文可以根據需求決定，如果為了方便檢索和分析，可以考慮收錄，但如果只是 metadata 索引，則摘要或留空即可。
    * **`法官`、`檢察官`、`律師`**:  提供參與判決的重要人員資訊，可以擴展加入職稱等更詳細的資訊。
* **`當事人資訊`**:  記錄案件的當事人資訊。
    * **`原告`、`被告`、`關係人`**:  使用陣列形式，因為案件可能有多個原告或被告。
    * **`名稱`**:  記錄自然人姓名或法人名稱。
    * **`類型`**:  區分自然人或法人，方便後續分析。
    * **`統一編號`**:  法人可以加入統一編號，方便唯一識別。
    * **`關係`**:  關係人可以加入與案件的關係描述，例如證人、參加人等。
* **`法律依據`**:  記錄判決書中引用的法律依據。
    * **`法條`**:  列出判決書中直接引用的主要法條，方便法律研究和分析。
    * **`解釋`**:  記錄重要的解釋令函或判例，提升判決的法律價值分析。
* **`文件資訊`**:  關於判決書文件本身的資訊。
    * **`語言`、`格式`**:  描述文件特性。
    * **`創建日期`、`修改日期`**:  記錄文件的時間資訊。
    * **`文件來源`**:  標明文件來源，有助於追溯文件出處和可信度。
    * **`檔案名稱`**:  可選，記錄原始檔案名稱，方便文件管理。
* **`其他資訊`**:  一些輔助性的 metadata。
    * **`關鍵字`**:  使用者可以自訂關鍵字，方便檢索和分類。
    * **`摘要`**:  提供判決書的簡短摘要，方便快速了解內容。
    * **`相關連結`**:  可以連結到相關的法律資源或法院網站。
    * **`公開程度`**:  若判決書有公開程度的區分，可以加入此欄位。
    * **`備註`**:  提供彈性的備註欄位，記錄任何其他需要補充的資訊。

**如何使用這個規格:**

1. **解析判決書**:  你需要解析判決書的內容，提取出上述各個 metadata 欄位的值。這可能需要使用 OCR 技術 (光學字元辨識) 和自然語言處理 (NLP) 技術來自動化提取，或者人工標註。
2. **生成 JSON**:  將提取出的 metadata 值按照上述 JSON 格式填入，生成 JSON 字串。
3. **儲存與應用**:  你可以將生成的 JSON metadata 儲存到資料庫中，方便後續的檢索、分析、關聯等應用。例如：
    * **法律資料庫**:  用於判決書的索引和檢索。
    * **法律知識圖譜**:  用於建立判決書之間的關聯，以及與法條、案例的關聯。
    * **法律分析工具**:  用於分析判決趨勢、法官風格、案件類型分佈等。

**客製化建議:**

* **根據你的需求增減欄位**:  你可以根據你的具體應用場景，增減或修改欄位。例如，如果你需要更詳細的當事人地址資訊，可以加入地址相關欄位。
* **使用更精細的分類**:  案件類型、法院層級、判決結果等欄位，你可以根據你的需求使用更精細的分類體系。
* **本地化**:  欄位名稱和說明可以根據你的語言環境進行調整，例如使用英文或其他語言。
* **資料驗證**:  在資料輸入階段，建議加入資料驗證機制，確保 metadata 的準確性和完整性。

希望這個建議規格對你有幫助！ 如果你有更具體的需求或問題，歡迎隨時提出，我可以再進一步調整和完善。

## Q1.2-內容的 meta data
- M::
- Q::Q1.2:我希望另有一份判決書內容的 meta data, 萃取出關鍵的資訊，需符合判決書常用架構，這個 meta data 主要希望我能運用這個，以及上面的 meta data, 做判決書的可視化，其中一個重要功能是把關鍵的資訊，能夠對應到判決內容的文本，包含關鍵字，案例類別等資訊
- A::好的，為了更進一步萃取判決書內容的關鍵資訊，並符合判決書常用架構，以便進行可視化，以下提供一份針對「判決書內容」的 metadata JSON 規格建議。這個規格會著重於將關鍵資訊與判決書文本內容連結，方便您進行可視化應用。

**JSON 判決書內容 Metadata 規格建議 (Content Metadata)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與前一份 metadata 的案件編號對應，作為關聯鍵
  "version": "1.0",
  "contentMetadata": {
    "事實概要": { // 對應判決書的「事實」、「事實及理由」等段落
      "keywords": ["關鍵字1", "關鍵字2", "...", "關鍵字n"], // 關鍵字詞彙列表
      "keySentences": [ // 重要的句子或段落 (可選擇性加入)
        {
          "text": "描述事實的關鍵句子...",
          "startIndex": 123, // 句子在判決書全文中的起始字元位置 (或段落/句子編號)
          "endIndex": 456  // 句子在判決書全文中的結束字元位置 (或段落/句子編號)
        },
        {
          "text": "另一個重要的事實描述...",
          "startIndex": 789,
          "endIndex": 1011
        }
      ],
      "案例類別": ["類別1", "類別2"], //  案件所屬的案例類別 (例如：車禍事故、契約糾紛)
      "爭議焦點": ["爭議點1", "爭議點2"], //  案件的主要爭議焦點
      "相關法條": ["法條1", "法條2"] //  此段落中提及的法條 (若與法律依據 metadata 不同，可補充)
    },
    "當事人主張": { // 對應判決書中原告、被告等當事人的主張段落
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ // 原告主要論點 (可選擇性加入)
          {
            "argument": "原告主張的核心論點...",
            "startIndex": 1500,
            "endIndex": 2000
          }
        ]
      },
      "被告主張": {
        "keywords": ["被告關鍵字1", "被告關鍵字2"],
        "keyArguments": [ // 被告主要論點 (可選擇性加入)
          {
            "argument": "被告主張的核心論點...",
            "startIndex": 2500,
            "endIndex": 3000
          }
        ]
      }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": { // 對應判決書的「理由」、「判斷理由」等核心段落
      "法律概念": ["法律概念1", "法律概念2"], //  判決理由中使用的重要法律概念 (例如：侵權行為、過失責任)
      "法律原則": ["法律原則1", "法律原則2"], //  判決理由中引用的法律原則 (例如：比例原則、誠實信用原則)
      "判決邏輯": [ //  法院的判決邏輯或推理過程 (可選擇性加入，若能結構化分析更好)
        {
          "step": "步驟一：分析事實...",
          "startIndex": 3500,
          "endIndex": 4000
        },
        {
          "step": "步驟二：適用法律...",
          "startIndex": 4200,
          "endIndex": 4700
        }
      ],
      "引用案例": [ //  判決理由中引用的其他案例 (若有)
        {
          "案件編號": "最高法院-年度-字別-案號",
          "startIndex": 5000,
          "endIndex": 5500
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"] //  判決理由中關鍵的法條 (可能與法律依據 metadata 相同或更聚焦)
    },
    "判決結果": { // 對應判決書的「主文」、「結論」等段落
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他", //  更細緻的判決結果分類
      "判決要點": "判決結果的重點摘要", //  對判決結果進行簡要概括
      "startIndex": 6000, //  判決結果段落在判決書全文中的起始位置
      "endIndex": 6500  //  判決結果段落在判決書全文中的結束位置
    },
    "其他內容": { //  其他判決書中可能出現的段落，例如「程序事項」、「證據」等 (可選)
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**欄位說明與注意事項:**

* **`documentId`**:  案件編號，務必與前一份「判決書 Metadata」中的 `案件資訊.案件編號` 保持一致，作為兩份 metadata 的關聯鍵。
* **`version`**: 版本號，方便管理。
* **`contentMetadata`**:  所有內容相關的 metadata 都放在此物件下。
* **各段落區塊 (例如：`事實概要`、`當事人主張`、`法院理由`、`判決結果`):**
    * **段落名稱**:  使用貼近判決書常用結構的名稱，例如「事實概要」、「法院理由」等。你可以根據實際判決書的段落標題進行調整。
    * **`keywords`**:  針對該段落提取的關鍵字詞彙。
    * **`keySentences` / `keyArguments` / `判決邏輯` / `引用案例`**:  這些是選擇性加入的欄位，用於更精細地標註段落中的重要資訊。
        * **`text` / `argument` / `step`**:  存放關鍵的文本內容。
        * **`startIndex` / `endIndex`**:  **重點！** 這兩個欄位是用於將 metadata 與判決書文本內容連結的關鍵。你需要記錄每個關鍵資訊在判決書全文中的起始和結束位置。
            * **字元位置**:  最精確的方式是使用字元位置 (character offset)，從判決書文本的開頭計算字元數。
            * **段落/句子編號**:  如果處理上更方便，也可以使用段落編號和句子編號來定位。但字元位置通常更精確。
    * **`案例類別` / `爭議焦點` / `法律概念` / `法律原則` / `判決結果類型`**:  針對不同段落，提取特定類型的關鍵資訊，例如案例類別、爭議焦點、法律概念等。
    * **`相關法條` / `關鍵法條`**:  記錄段落中提及或關鍵的法條。

**如何運用這個規格進行可視化:**

1. **解析判決書文本**:  首先，你需要將判決書的 PDF 或其他格式轉換成純文本，並確保可以取得每個字元的精確位置 (或段落/句子編號)。
2. **資訊抽取**:  使用 NLP 技術 (例如關鍵字提取、命名實體識別、關係抽取等) 或人工標註，從判決書文本中提取出各個 metadata 欄位的值，並記錄它們在文本中的位置 (`startIndex`, `endIndex`)。
3. **生成 JSON**:  將提取出的資訊按照上述 JSON 格式組裝成 JSON 字串。
4. **可視化應用**:  在你的可視化應用中，你可以使用這個 JSON metadata 來：
    * **關鍵字高亮**:  讀取 `keywords` 和 `startIndex`/`endIndex`，在判決書文本中高亮顯示關鍵字。
    * **段落摘要**:  使用 `keySentences` 或 `判決要點` 作為段落或判決結果的摘要顯示。
    * **案例類別/爭議焦點篩選**:  根據 `案例類別` 或 `爭議焦點` 進行判決書的分類和篩選。
    * **法律概念/原則網絡**:  將 `法律概念` 和 `法律原則` 視覺化成網絡圖，展示判決書中法律概念之間的關聯。
    * **判決邏輯流程圖**:  如果 `判決邏輯` 欄位有結構化資訊，可以視覺化判決的推理流程。
    * **引用案例連結**:  將 `引用案例` 的 `案件編號` 與其他判決書的 metadata 連結，建立案例之間的關聯網絡。
    * **段落導航**:  根據 metadata 的段落結構，建立判決書的段落導航功能。

**實施建議:**

* **文本處理工具**:  選擇合適的文本處理工具和程式庫，以便於提取文本、計算字元位置、進行 NLP 分析等。
* **自動化資訊抽取**:  盡可能使用自動化的 NLP 技術來提取 metadata，提高效率。但初期可能需要人工校對和修正。
* **可視化程式庫**:  選擇適合你的可視化需求的程式庫 (例如：D3.js, ECharts, Chart.js 等)。
* **前後端整合**:  設計前端介面來呈現可視化結果，並與後端資料庫和 API 進行整合。

**客製化與擴展:**

* **更細緻的段落劃分**:  你可以根據判決書的實際結構，劃分更細緻的段落，例如將「法院理由」再細分為「法律適用」、「事實認定」、「證據判斷」等子段落。
* **加入更多資訊類型**:  例如可以加入「證據類型」、「訴訟請求」、「賠償金額」等更具體的資訊。
* **情感分析**:  可以對判決書文本進行情感分析，提取出判決書的情感傾向 (例如：支持原告、傾向被告等)，並將情感資訊加入 metadata 中進行可視化。

希望這份更詳細的「判決書內容 Metadata」規格能幫助你實現判決書的可視化應用！ 請根據你的具體需求和技術能力，逐步實施和完善這個規格。 如果有任何進一步的問題，歡迎隨時提出。

## Q1.3-寫成一份規格書 1.0
- M::
- Q::Q1.3:請將上面兩種 Meta data 的設計規格與相關設計理由，寫成一份規格書。之後我想用於提供給 LLM 請它按照這份規格來解析提供的判決書
- 
- A::好的，這是一份整合了兩種判決書 Meta data 設計規格的規格書，包含設計理由，方便您提供給 LLM 進行判決書解析。

**判決書 Meta Data 規格書 (Version 1.0)**

**1.  簡介**

本規格書旨在定義判決書的兩種 Meta data 格式，用於結構化地描述判決書的資訊，以利於判決書的檢索、分析、可視化及其他應用。本規格書包含兩種 Meta data 格式：

* **通用 Meta data (General Metadata):**  描述判決書的基礎資訊，例如案件資訊、法院資訊、判決日期等，著重於文件層級的描述。
* **內容 Meta data (Content Metadata):**  描述判決書的內容細節，例如事實概要、當事人主張、法院理由、判決結果等，著重於文本內容的結構化與關鍵資訊的提取。

這兩種 Meta data 格式可以獨立使用，也可以結合使用。結合使用時，可以透過 **案件編號 (documentId 或 案件資訊.案件編號)** 進行關聯。

**2.  目標讀者**

* 開發人員：負責開發判決書解析、Meta data 提取、資料庫儲存、可視化應用等系統的工程師。
* 語言模型 (LLM)：用於訓練或指示 LLM 按照本規格解析判決書，提取 Meta data。
* 法律研究人員、資料分析師：使用 Meta data 進行法律研究、案例分析、數據統計等專業人士。

**3.  通用 Meta data 規格 (General Metadata Specification)**

**3.1.  目的與設計理由**

通用 Meta data 的目的在於提供判決書的概括性描述，方便使用者快速了解判決書的基本資訊，並作為判決書檢索、分類、管理的基础。

設計理由：

* **文件識別與管理：**  案件編號、法院資訊、文件資訊等欄位，有助於唯一識別判決書，並進行有效的管理和歸檔。
* **快速資訊概覽：**  案件類型、案由、審級、判決結果等欄位，讓使用者在不細讀判決書全文的情況下，快速掌握案件的核心資訊。
* **資料庫索引與檢索：**  這些 Meta data 欄位可作為資料庫的索引，方便使用者根據不同條件 (例如法院、案件類型、判決日期) 檢索判決書。
* **跨系統資料交換：**  標準化的 Meta data 格式，有利於不同法律資料系統之間的資料交換與整合。

**3.2.  JSON 結構**

```json
{
  "documentType": "判決書",
  "version": "1.0",
  "metadata": {
    "案件資訊": {
      "案件編號": "法院代碼-年度-字別-案號",
      "案件類型": "民事/刑事/行政/其他",
      "案由": "案件主要爭議點簡述",
      "審級": "一審/二審/三審/更審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院/地方法院/最高法院/行政法院/智慧財產法院/其他",
      "法院代碼": "TPH"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他",
      "判決主文": "完整判決主文內容 (可選)",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官"
        }
      ],
      "檢察官": [ /* 刑事案件可能會有 */ ],
      "律師": {
        "原告": [ /* 當事人委任律師資訊 */ ],
        "被告": [ /* 當事人委任律師資訊 */ ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人/法人",
          "統一編號": "12345678" /* 若為法人 */
        }
      ],
      "被告": [ /* 當事人資訊 */ ],
      "關係人": [ /* 其他訴訟關係人 (可選) */ ]
    },
    "法律依據": {
      "法條": [ "民法第 184 條" ],
      "解釋": [ "最高法院 100 年度台上字第 1234 號判例" ] /* (可選) */
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF/DOCX/TXT",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站/法律資料庫/其他",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf" /* (可選) */
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "侵權行為", "車禍"],
      "摘要": "本判決認定被告因過失駕駛...", /* (可選) */
      "相關連結": [ "https://example.com/related_case_law" ], /* (可選) */
      "公開程度": "公開/部分公開/不公開", /* (可選) */
      "備註": "其他需要記錄的備註事項" /* (可選) */
    }
  }
}
```

**3.3.  欄位詳細說明**

| 欄位名稱                | 資料類型   | 說明                                                     | 設計理由                                                                                                | 範例                                                              |
| --------------------- | -------- | -------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| `documentType`        | String   | 文件類型，固定為 "判決書"                                    | 標識文件類型                                                                                              | "判決書"                                                             |
| `version`             | String   | 規格版本號                                                 | 方便規格更新與管理                                                                                            | "1.0"                                                               |
| `metadata`            | Object   | 主要 Meta data 資訊容器                                      | 結構化組織 Meta data                                                                                       | -                                                                   |
| `metadata.案件資訊`       | Object   | 案件基本資訊                                                 | 案件識別與分類                                                                                              | -                                                                   |
| `metadata.案件資訊.案件編號` | String   | 案件編號，例如：法院代碼-年度-字別-案號                               | 唯一識別案件，方便關聯與檢索                                                                                      | "TPH-110-上訴-1234"                                                 |
| `metadata.案件資訊.案件類型` | String   | 案件類型，例如：民事、刑事、行政等                                 | 案件分類，方便統計分析                                                                                         | "民事訴訟"                                                            |
| `metadata.案件資訊.案由`   | String   | 案件主要爭議點簡述                                             | 快速了解案件主題                                                                                              | "損害賠償"                                                             |
| `metadata.案件資訊.審級`   | String   | 審級，例如：一審、二審、三審、更審                                 | 判決法律位階識別                                                                                             | "二審"                                                               |
| `metadata.案件資訊.年度`   | Number   | 案件年度                                                   | 時間維度資訊                                                                                              | 2023                                                                |
| `metadata.法院資訊`       | Object   | 法院相關資訊                                                 | 法院識別與分類                                                                                              | -                                                                   |
| `metadata.法院資訊.法院名稱` | String   | 法院完整名稱                                                 | 完整法院名稱資訊                                                                                             | "臺灣高等法院"                                                          |
| `metadata.法院資訊.法院層級` | String   | 法院層級，例如：高等法院、地方法院等                                 | 法院體系層級分類                                                                                             | "高等法院"                                                            |
| `metadata.法院資訊.法院代碼` | String   | 法院代碼 (若有標準代碼系統)                                    | 簡潔法院識別碼，方便系統間資料交換                                                                                   | "TPH"                                                               |
| `metadata.判決資訊`       | Object   | 判決本身資訊                                                 | 判決結果與參與人員資訊                                                                                         | -                                                                   |
| `metadata.判決資訊.判決日期` | String (YYYY-MM-DD) | 判決日期                                                   | 標準日期格式，方便日期比較與排序                                                                                      | "2023-10-26"                                                          |
| `metadata.判決資訊.判決結果` | String   | 判決結果簡述，例如：駁回、有罪、無罪等                               | 快速了解判決方向                                                                                              | "原告之訴駁回"                                                          |
| `metadata.判決資訊.判決主文` | String   | 完整判決主文內容 (可選)                                       | 完整記錄判決核心內容，方便檢索與分析 (可根據需求決定是否收錄)                                                               | "原告之訴駁回。訴訟費用由原告負擔。"                                                     |
| `metadata.判決資訊.法官`   | Array of Object | 法官資訊，包含姓名、職稱                                           | 記錄法官資訊，可進行法官分析                                                                                       | `[{"姓名": "王小明", "職稱": "法官"}]`                                          |
| `metadata.判決資訊.檢察官` | Array of Object | 檢察官資訊 (刑事案件可能會有)                                     | 記錄檢察官資訊，刑事案件分析                                                                                     | `[{"姓名": "陳大同", "職稱": "檢察官"}]`                                          |
| `metadata.判決資訊.律師`   | Object   | 律師資訊，區分原告、被告律師                                     | 記錄律師資訊，方便律師分析                                                                                       | `{"原告": [{"姓名": "張三", "事務所": "XX 律師事務所"}], "被告": [{"姓名": "李四", "事務所": "YY 律師事務所"}]}` |
| `metadata.當事人資訊`     | Object   | 當事人資訊                                                 | 記錄訴訟參與者資訊                                                                                              | -                                                                   |
| `metadata.當事人資訊.原告`   | Array of Object | 原告資訊，包含名稱、類型 (自然人/法人)、統一編號 (法人可選)               | 記錄原告資訊，方便當事人分析                                                                                       | `[{"名稱": "王五", "類型": "自然人"}]`                                           |
| `metadata.當事人資訊.被告`   | Array of Object | 被告資訊，包含名稱、類型 (自然人/法人)、統一編號 (法人可選)               | 記錄被告資訊，方便當事人分析                                                                                       | `[{"名稱": "趙六", "類型": "自然人"}]`                                           |
| `metadata.當事人資訊.關係人` | Array of Object | 其他訴訟關係人資訊 (可選)，例如證人、參加人，包含名稱、類型、關係描述 | 記錄其他關係人資訊，擴展案件參與者資訊                                                                                 | `[{"名稱": "錢七", "類型": "自然人", "關係": "證人"}]`                               |
| `metadata.法律依據`       | Object   | 判決書引用的法律依據                                           | 記錄判決法律基礎                                                                                              | -                                                                   |
| `metadata.法律依據.法條`   | Array of String | 判決書中引用的主要法條                                           | 方便法律研究與分析                                                                                              | `["民法第 184 條", "刑法第 339 條"]`                                      |
| `metadata.法律依據.解釋`   | Array of String | 判決書中引用的重要解釋令函或判例 (可選)                               | 提升判決法律價值分析                                                                                           | `["最高法院 100 年度台上字第 1234 號判例"]`                                |
| `metadata.文件資訊`       | Object   | 判決書文件本身資訊                                             | 文件屬性描述                                                                                                | -                                                                   |
| `metadata.文件資訊.語言`   | String   | 文件語言                                                   | 語言資訊，方便多語言處理                                                                                         | "中文"                                                                |
| `metadata.文件資訊.格式`   | String   | 文件格式，例如：PDF, DOCX, TXT                                 | 文件格式資訊，方便文件處理                                                                                         | "PDF"                                                                 |
| `metadata.文件資訊.創建日期` | String (YYYY-MM-DD) | 文件創建日期                                                 | 時間資訊，文件管理                                                                                              | "2023-10-26"                                                          |
| `metadata.文件資訊.修改日期` | String (YYYY-MM-DD) | 文件最後修改日期 (若有)                                        | 時間資訊，文件管理                                                                                              | "2023-10-27"                                                          |
| `metadata.文件資訊.文件來源` | String   | 文件來源，例如：法院網站、法律資料庫等                                 | 追溯文件出處與可信度                                                                                           | "法院網站"                                                             |
| `metadata.文件資訊.檔案名稱` | String   | 原始檔案名稱 (可選)                                          | 方便文件管理                                                                                              | "判決書_臺灣高等法院_110上訴1234.pdf"                                       |
| `metadata.其他資訊`       | Object   | 其他輔助資訊                                                 | 擴展性資訊欄位                                                                                              | -                                                                   |
| `metadata.其他資訊.關鍵字`   | Array of String | 方便檢索的關鍵字                                               | 提升檢索效率與準確性                                                                                           | `["損害賠償", "侵權行為", "車禍"]`                                         |
| `metadata.其他資訊.摘要`   | String   | 判決摘要 (可選)                                            | 快速了解判決內容                                                                                              | "本判決認定被告因過失駕駛造成原告損害，判決被告應負損害賠償責任。"                                             |
| `metadata.其他資訊.相關連結` | Array of String | 連結到相關資源 (可選)                                          | 擴展資訊來源，建立關聯                                                                                           | `["https://example.com/related_case_law"]`                                 |
| `metadata.其他資訊.公開程度` | String   | 判決書的公開程度 (若適用)，例如：公開、部分公開、不公開                      | 判決書公開資訊管理                                                                                             | "公開"                                                                |
| `metadata.其他資訊.備註`   | String   | 其他需要記錄的備註事項                                           | 彈性資訊記錄                                                                                              | "本判決為主文摘要版本。"                                                       |

**3.4.  範例 JSON**

```json
{
  "documentType": "判決書",
  "version": "1.0",
  "metadata": {
    "案件資訊": {
      "案件編號": "TPH-110-上訴-1234",
      "案件類型": "民事訴訟",
      "案由": "損害賠償",
      "審級": "二審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回",
      "判決主文": "原告之訴駁回。訴訟費用由原告負擔。",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官"
        }
      ]
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人"
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人"
        }
      ]
    },
    "法律依據": {
      "法條": [
        "民法第 184 條"
      ]
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf"
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "車禍"],
      "摘要": "本判決認定被告於車禍事故中應負擔過失責任，但原告未能充分舉證損害金額，故駁回原告之訴。",
      "公開程度": "公開"
    }
  }
}
```

**4.  內容 Meta data 規格 (Content Metadata Specification)**

**4.1.  目的與設計理由**

內容 Meta data 的目的在於深入挖掘判決書的文本內容，提取關鍵資訊，並將 Meta data 與文本內容建立連結，以支援更精細的判決書分析和可視化應用。

設計理由：

* **結構化判決書內容：**  按照判決書常用架構 (事實概要、當事人主張、法院理由、判決結果) 組織 Meta data，方便理解判決書的邏輯結構。
* **關鍵資訊定位：**  `startIndex` 和 `endIndex` 欄位將 Meta data 與判決書文本的具體位置連結，方便使用者快速定位關鍵資訊在文本中的位置。
* **支援可視化應用：**  提取關鍵字、案例類別、爭議焦點、法律概念等資訊，為判決書可視化提供豐富的資料基礎，例如關鍵字高亮、段落摘要、案例關係網絡等。
* **深入法律分析：**  提取法律概念、法律原則、判決邏輯、引用案例等資訊，方便法律專業人士進行更深入的案例分析、法律研究。

**4.2.  JSON 結構**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "1.0",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["關鍵字1", "關鍵字2"],
      "keySentences": [ /* (可選) */
        {
          "text": "描述事實的關鍵句子...",
          "startIndex": 123,
          "endIndex": 456
        }
      ],
      "案例類別": ["類別1", "類別2"],
      "爭議焦點": ["爭議點1", "爭議點2"],
      "相關法條": ["法條1", "法條2"]
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ /* (可選) */
          {
            "argument": "原告主張的核心論點...",
            "startIndex": 1500,
            "endIndex": 2000
          }
        ]
      },
      "被告主張": { /* ... */ }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": {
      "法律概念": ["法律概念1", "法律概念2"],
      "法律原則": ["法律原則1", "法律原則2"],
      "判決邏輯": [ /* (可選，若能結構化分析更好) */
        {
          "step": "步驟一：分析事實...",
          "startIndex": 3500,
          "endIndex": 4000
        }
      ],
      "引用案例": [ /* (可選) */
        {
          "案件編號": "最高法院-年度-字別-案號",
          "startIndex": 5000,
          "endIndex": 5500
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"]
    },
    "判決結果": {
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他",
      "判決要點": "判決結果的重點摘要",
      "startIndex": 6000,
      "endIndex": 6500
    },
    "其他內容": { /* (可選) */
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**4.3.  欄位詳細說明**

| 欄位名稱                       | 資料類型             | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ---------------------------- | ------------------ | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                  | String             | 案件編號，與通用 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                     | String             | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "1.0"                                                                 |
| `contentMetadata`             | Object             | 內容 Meta data 主要容器                                                 | 結構化組織內容 Meta data                                                                                                             | -                                                                     |
| `contentMetadata.事實概要`          | Object             | 對應判決書的「事實」、「事實及理由」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.事實概要.keywords`  | Array of String    | 事實概要段落的關鍵字詞彙列表                                                    | 快速了解事實概要重點                                                                                                                             | `["車禍", "十字路口", "紅燈", "違規"]`                                     |
| `contentMetadata.事實概要.keySentences` | Array of Object    | 重要的句子或段落 (可選)，包含 `text` (文本內容), `startIndex`, `endIndex` (文本位置) | 精確標註事實概要中的重要句子，並連結到文本位置，方便高亮顯示、段落摘要等可視化應用                                                                     | `[{"text": "被告駕駛汽車行經十字路口時闖紅燈...", "startIndex": 123, "endIndex": 456}]`                            |
| `contentMetadata.事實概要.案例類別`    | Array of String    | 案件所屬的案例類別，例如：車禍事故、契約糾紛等                                         | 案件分類，方便案例分析                                                                                                                             | `["交通事故", "車禍事故"]`                                               |
| `contentMetadata.事實概要.爭議焦點`    | Array of String    | 案件的主要爭議焦點                                                         | 快速掌握案件爭議點                                                                                                                             | `["過失責任歸屬", "損害賠償範圍"]`                                          |
| `contentMetadata.事實概要.相關法條`    | Array of String    | 此段落中提及的法條 (若與法律依據 metadata 不同，可補充)                                   | 補充事實概要段落中提及的法條資訊                                                                                                   | `["道路交通管理處罰條例第XX條"]`                                          |
| `contentMetadata.當事人主張`        | Object             | 對應判決書中原告、被告等當事人的主張段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.當事人主張.原告主張`   | Object             | 原告主張段落                                                                | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.當事人主張.原告主張.keywords` | Array of String    | 原告主張段落的關鍵字詞彙列表                                                    | 快速了解原告主張重點                                                                                                                             | `["醫療費用", "精神撫慰金", "被告應賠償"]`                                 |
| `contentMetadata.當事人主張.原告主張.keyArguments` | Array of Object    | 原告主要論點 (可選)，包含 `argument` (論點內容), `startIndex`, `endIndex` (文本位置)  | 精確標註原告主張的核心論點，並連結到文本位置，方便論點摘要、可視化展示                                                                       | `[{"argument": "原告主張因車禍受傷，醫療費用共計新台幣XX元...", "startIndex": 1500, "endIndex": 2000}]` |
| `contentMetadata.當事人主張.被告主張`   | Object             | 被告主張段落 (結構同 `原告主張`)                                               | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.法院理由`          | Object             | 對應判決書的「理由」、「判斷理由」等核心段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.法院理由.法律概念`    | Array of String    | 判決理由中使用的重要法律概念，例如：侵權行為、過失責任等                                   | 提取判決書中的法律專業知識，方便法律分析                                                                                               | `["侵權行為", "過失責任", "因果關係"]`                                   |
| `contentMetadata.法院理由.法律原則`    | Array of String    | 判決理由中引用的法律原則，例如：比例原則、誠實信用原則                                   | 提取判決書中的法律原則，方便法律分析                                                                                               | `["過失相抵原則", "損害填補原則"]`                                     |
| `contentMetadata.法院理由.判決邏輯`    | Array of Object    | 法院的判決邏輯或推理過程 (可選，若能結構化分析更好)，包含 `step` (步驟描述), `startIndex`, `endIndex` | 嘗試結構化分析判決的推理過程，方便理解判決思路 (複雜度較高，可選)                                                                        | `[{"step": "法院認為，被告駕駛行為確有過失...", "startIndex": 3500, "endIndex": 4000}, {"step": "然原告主張之損害金額...", "startIndex": 4200, "endIndex": 4700}]` |
| `contentMetadata.法院理由.引用案例`    | Array of Object    | 判決理由中引用的其他案例 (若有)，包含 `案件編號`, `startIndex`, `endIndex`                          | 記錄引用案例，建立案例之間的關聯，方便案例檢索與分析                                                                                     | `[{"案件編號": "最高法院-109-台上-5432", "startIndex": 5000, "endIndex": 5500}]`                                   |
| `contentMetadata.法院理由.關鍵法條`    | Array of String    | 判決理由中關鍵的法條 (可能與法律依據 metadata 相同或更聚焦)                               | 提取判決理由中的關鍵法條，更聚焦於判決理由的法律基礎                                                                                       | `["民法第 192 條", "民法第 193 條"]`                                   |
| `contentMetadata.判決結果`          | Object             | 對應判決書的「主文」、「結論」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.判決結果.判決結果類型` | String             | 更細緻的判決結果分類，例如：勝訴、敗訴、部分勝訴、駁回、撤銷、變更、其他                              | 更精確的判決結果分類，方便統計分析                                                                                               | "駁回"                                                                |
| `contentMetadata.判決結果.判決要點`    | String             | 判決結果的重點摘要                                                         | 快速了解判決結果核心內容                                                                                                                         | "駁回原告之訴，因原告未能充分舉證損害金額。"                                               |
| `contentMetadata.判決結果.startIndex` | Number             | 判決結果段落在判決書全文中的起始位置 (字元位置或段落/句子編號)                               | 連結到文本位置，方便快速定位判決結果段落                                                                                             | 6000                                                                |
| `contentMetadata.判決結果.endIndex`   | Number             | 判決結果段落在判決書全文中的結束位置 (字元位置或段落/句子編號)                               | 連結到文本位置，方便快速定位判決結果段落                                                                                             | 6500                                                                |
| `contentMetadata.其他內容`          | Object             | 其他判決書中可能出現的段落，例如「程序事項」、「證據」等 (可選)                                | 擴展性結構，可根據具體判決書內容進行擴展                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項`     | Object             | 程序事項段落 (範例)                                                          | 範例，可根據實際需求定義                                                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項.keywords` | Array of String    | 程序事項段落的關鍵字詞彙列表 (範例)                                                   | 範例，可根據實際需求定義                                                                                                                             | `["訴訟費用", "上訴期間", "送達"]`                                     |

**4.4.  位置索引說明 (`startIndex`, `endIndex`)**

* **字元位置 (Character Offset):**  建議使用字元位置作為 `startIndex` 和 `endIndex` 的單位。從判決書文本的開頭 (字元索引 0) 開始計算，記錄每個關鍵資訊在文本中的起始和結束字元位置。這種方式最精確，但需要確保文本解析和字元計數的準確性。
* **段落/句子編號 (Paragraph/Sentence Index):**  如果處理上更方便，也可以使用段落編號或句子編號來定位。例如，可以先將判決書文本分割成段落或句子，然後記錄關鍵資訊所在的段落或句子編號。這種方式相對簡單，但精確度稍低。

**建議優先使用字元位置索引，以獲得更精確的文本連結。**

**4.5.  範例 JSON**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "1.0",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [
        {
          "text": "經查，被告駕駛汽車於民國110年1月1日上午10時許，行經本市XX路與YY路口時，不慎闖紅燈，與原告所騎乘之機車發生碰撞，致原告受傷。",
          "startIndex": 150,
          "endIndex": 300
        }
      ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"]
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["醫療費用", "精神撫慰金", "被告應賠償"],
        "keyArguments": [
          {
            "argument": "原告主張因本次車禍事故受有醫療費用新台幣5萬元、機車維修費用1萬元、精神撫慰金10萬元等損害，請求被告應賠償共計16萬元。",
            "startIndex": 500,
            "endIndex": 700
          }
        ]
      },
      "被告主張": {
        "keywords": ["已盡注意義務", "原告亦有過失", "賠償金額過高"]
      }
    },
    "法院理由": {
      "法律概念": ["侵權行為", "過失責任", "因果關係"],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [
        {
          "step": "法院審酌相關證據，認定被告駕駛行為確有違反交通規則之過失。",
          "startIndex": 1000,
          "endIndex": 1200
        },
        {
          "step": "然原告主張之精神撫慰金金額過高，法院酌減為5萬元。",
          "startIndex": 1300,
          "endIndex": 1500
        }
      ],
      "引用案例": [],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"]
    },
    "判決結果": {
      "判決結果類型": "部分勝訴",
      "判決要點": "判決被告應賠償原告醫療費用、機車維修費用及部分精神撫慰金，共計新台幣11萬元。",
      "startIndex": 1800,
      "endIndex": 2000
    }
  }
}
```

**5.  Meta data 的關聯與使用**

* **關聯方式：** 通用 Meta data 與 內容 Meta data 通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯。在資料庫中，可以將 `documentId` 作為外鍵，建立兩者之間的關聯。
* **使用場景：**
    * **判決書檢索與篩選：**  使用通用 Meta data 進行快速檢索與篩選，例如根據法院、案件類型、判決日期等條件檢索判決書。
    * **判決書可視化：**  結合通用 Meta data 與 內容 Meta data 進行多樣化的可視化呈現，例如：
        * 使用通用 Meta data 製作判決書統計圖表 (例如法院案件量統計、案件類型分佈)。
        * 使用內容 Meta data 進行關鍵字高亮、段落摘要、爭議焦點分析、法律概念網絡圖等可視化。
        * 將通用 Meta data 與 內容 Meta data 結合，例如在判決書列表頁面顯示通用 Meta data (案件編號、案由、判決結果)，點擊後進入詳細頁面，顯示內容 Meta data 及其對應的文本內容。
    * **法律知識圖譜建構：**  利用 Meta data 中的法律依據、引用案例、法律概念等資訊，建構法律知識圖譜，分析案例之間的關聯、法律概念的演進等。
    * **LLM 應用：**  將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統等應用。

**6.  規格的未來擴展**

* **更細緻的段落劃分：**  可以根據判決書的實際結構，劃分更細緻的段落，例如將「法院理由」再細分為「法律適用」、「事實認定」、「證據判斷」等子段落。
* **加入更多資訊類型：**  例如可以加入「證據類型」、「訴訟請求」、「賠償金額」等更具體的資訊。
* **多語言支援：**  考慮支援多語言的 Meta data 規格，以處理不同語言的判決書。
* **本体 (Ontology) 標準化：**  未來可以朝向更標準化的法律本体方向發展，例如使用法律本体標準來描述案件類型、法律概念等，提升 Meta data 的互操作性和語義明確性。

**7.  結論**

本規格書提供了判決書的通用 Meta data 與 內容 Meta data 設計規格，旨在建立一套結構化、標準化的判決書資訊描述體系，以支援多樣化的法律資訊應用。 透過遵循本規格書，可以有效地提升判決書資料的價值，並促進法律科技的發展。

---

**請注意：**

* 本規格書僅為建議規格，您可以根據您的具體需求進行調整和擴展。
* 在實際應用中，Meta data 的提取可能需要結合 OCR 技術、自然語言處理 (NLP) 技術以及人工標註。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的 JSON 結構和欄位說明進行解析和資料提取。

希望這份規格書對您有所幫助！

## Q1.4-繪製人事時地物關聯性 1.1
- M::
- Q::Q1.4:我希望這份規格有提供足夠的資訊與欄位，讓我能夠使用來繪製人事時地物關聯性，請修正規格
- A::好的，為了讓您的判決書 Meta data 規格更完善地支援「人事時地物」關聯性可視化，我針對規格書進行了修訂，主要增加了地點資訊欄位，並在欄位說明和使用場景中更明確地指出如何應用於「人事時地物」分析。

以下是修訂後的規格書，主要修改部分以 **粗體** 標示：

**判決書 Meta Data 規格書 (Version 1.1)**

**1.  簡介**

本規格書旨在定義判決書的兩種 Meta data 格式，用於結構化地描述判決書的資訊，以利於判決書的檢索、分析、**人事時地物關聯性可視化** 及其他應用。本規格書包含兩種 Meta data 格式：

* **通用 Meta data (General Metadata):**  描述判決書的基礎資訊，例如案件資訊、法院資訊、判決日期等，著重於文件層級的描述。
* **內容 Meta data (Content Metadata):**  描述判決書的內容細節，例如事實概要、當事人主張、法院理由、判決結果等，著重於文本內容的結構化與關鍵資訊的提取。

這兩種 Meta data 格式可以獨立使用，也可以結合使用。結合使用時，可以透過 **案件編號 (documentId 或 案件資訊.案件編號)** 進行關聯。

**2.  目標讀者**

* 開發人員：負責開發判決書解析、Meta data 提取、資料庫儲存、**人事時地物關聯性可視化** 應用等系統的工程師。
* 語言模型 (LLM)：用於訓練或指示 LLM 按照本規格解析判決書，提取 Meta data。
* 法律研究人員、資料分析師：使用 Meta data 進行法律研究、案例分析、數據統計、**人事時地物關聯性分析** 等專業人士。

**3.  通用 Meta data 規格 (General Metadata Specification)**

**3.1.  目的與設計理由**

通用 Meta data 的目的在於提供判決書的概括性描述，方便使用者快速了解判決書的基本資訊，並作為判決書檢索、分類、管理、**以及初步的人事時地物分析** 的基礎。

設計理由：

* 文件識別與管理：案件編號、法院資訊、文件資訊等欄位，有助於唯一識別判決書，並進行有效的管理和歸檔。
* 快速資訊概覽：案件類型、案由、審級、判決結果等欄位，讓使用者在不細讀判決書全文的情況下，快速掌握案件的核心資訊。
* 資料庫索引與檢索：這些 Meta data 欄位可作為資料庫的索引，方便使用者根據不同條件 (例如法院、案件類型、判決日期) 檢索判決書。
* 跨系統資料交換：標準化的 Meta data 格式，有利於不同法律資料系統之間的資料交換與整合。
* **初步人事時地物分析：**  法院資訊 (地點)、判決日期 (時間)、當事人/法官/檢察官/律師 (人物)、案件類型/案由 (事件) 等欄位，可初步支援人事時地物的關聯性分析。

**3.2.  JSON 結構**

```json
{
  "documentType": "判決書",
  "version": "1.1",
  "metadata": {
    "案件資訊": {
      "案件編號": "法院代碼-年度-字別-案號",
      "案件類型": "民事/刑事/行政/其他",
      "案由": "案件主要爭議點簡述",
      "審級": "一審/二審/三審/更審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院/地方法院/最高法院/行政法院/智慧財產法院/其他",
      "法院代碼": "TPH",
      **"法院地點": "臺灣台北市"**  // **新增：法院地點**
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他",
      "判決主文": "完整判決主文內容 (可選)",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官"
        }
      ],
      "檢察官": [ /* 刑事案件可能會有 */ ],
      "律師": {
        "原告": [ /* 當事人委任律師資訊 */ ],
        "被告": [ /* 當事人委任律師資訊 */ ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人/法人",
          "統一編號": "12345678" /* 若為法人 */
        }
      ],
      "被告": [ /* 當事人資訊 */ ],
      "關係人": [ /* 其他訴訟關係人 (可選) */ ]
    },
    "法律依據": {
      "法條": [ "民法第 184 條" ],
      "解釋": [ "最高法院 100 年度台上字第 1234 號判例" ] /* (可選) */
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF/DOCX/TXT",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站/法律資料庫/其他",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf" /* (可選) */
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "侵權行為", "車禍"],
      "摘要": "本判決認定被告因過失駕駛...", /* (可選) */
      "相關連結": [ "https://example.com/related_case_law" ], /* (可選) */
      "公開程度": "公開/部分公開/不公開", /* (可選) */
      "備註": "其他需要記錄的備註事項" /* (可選) */
    }
  }
}
```

**3.3.  欄位詳細說明**

| 欄位名稱                | 資料類型   | 說明                                                     | 設計理由                                                                                                | 範例                                                              |
| --------------------- | -------- | -------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| ... (其他欄位同 Version 1.0) ... | ...      | ...                                                        | ...                                                                                                   | ...                                                               |
| `metadata.法院資訊.法院地點` | String   | **法院所在地點，例如：城市、行政區**                                 | **提供更精確的法院地點資訊，支援地點分析與可視化**                                                                           | **"臺灣台北市", "美國紐約市曼哈頓區"**                                                     |
| ... (其他欄位同 Version 1.0) ... | ...      | ...                                                        | ...                                                                                                   | ...                                                               |

**3.4.  範例 JSON**

```json
{
  "documentType": "判決書",
  "version": "1.1",
  "metadata": {
    "案件資訊": {
      "案件編號": "TPH-110-上訴-1234",
      "案件類型": "民事訴訟",
      "案由": "損害賠償",
      "審級": "二審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH",
      **"法院地點": "臺灣台北市"**
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回",
      "判決主文": "原告之訴駁回。訴訟費用由原告負擔。",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官"
        }
      ]
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人"
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人"
        }
      ]
    },
    "法律依據": {
      "法條": [
        "民法第 184 條"
      ]
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf"
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "車禍"],
      "摘要": "本判決認定被告於車禍事故中應負擔過失責任，但原告未能充分舉證損害金額，故駁回原告之訴。",
      "公開程度": "公開"
    }
  }
}
```

**4.  內容 Meta data 規格 (Content Metadata Specification)**

**4.1.  目的與設計理由**

內容 Meta data 的目的在於深入挖掘判決書的文本內容，提取關鍵資訊，並將 Meta data 與文本內容建立連結，以支援更精細的判決書分析、**人事時地物關聯性分析與可視化** 應用。

設計理由：

* 結構化判決書內容：按照判決書常用架構 (事實概要、當事人主張、法院理由、判決結果) 組織 Meta data，方便理解判決書的邏輯結構。
* 關鍵資訊定位：`startIndex` 和 `endIndex` 欄位將 Meta data 與判決書文本的具體位置連結，方便使用者快速定位關鍵資訊在文本中的位置。
* 支援可視化應用：提取關鍵字、案例類別、爭議焦點、法律概念等資訊，為判決書可視化提供豐富的資料基礎，例如關鍵字高亮、段落摘要、案例關係網絡、**人事時地物關聯圖** 等。
* 深入法律分析：提取法律概念、法律原則、判決邏輯、引用案例等資訊，方便法律專業人士進行更深入的案例分析、法律研究。
* **人事時地物關聯性分析：**  事實概要中的 `keywords`、`keySentences`、`案例類別`、`爭議焦點`，當事人主張中的 `keywords`、`keyArguments`，法院理由中的 `法律概念`、`法律原則`、`引用案例`，以及判決結果的 `判決結果類型`、`判決要點` 等欄位，結合文本位置資訊，可支援更深入的人事時地物關聯性分析。

**4.2.  JSON 結構**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "1.1",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["關鍵字1", "關鍵字2"],
      "keySentences": [ /* (可選) */
        {
          "text": "描述事實的關鍵句子...",
          "startIndex": 123,
          "endIndex": 456,
          **"地點": "XX路與YY路口"**, // **新增：事件發生地點 (若事實概要中有提及)**
          **"時間": "民國110年1月1日上午10時許"** // **新增：事件發生時間 (若事實概要中有提及)**
        }
      ],
      "案例類別": ["類別1", "類別2"],
      "爭議焦點": ["爭議點1", "爭議點2"],
      "相關法條": ["法條1", "法條2"],
      **"事件類型": "車禍事故"** // **新增：更明確的事件類型**
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ /* (可選) */
          {
            "argument": "原告主張的核心論點...",
            "startIndex": 1500,
            "endIndex": 2000
          }
        ]
      },
      "被告主張": { /* ... */ }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": {
      "法律概念": ["法律概念1", "法律概念2"],
      "法律原則": ["法律原則1", "法律原則2"],
      "判決邏輯": [ /* (可選，若能結構化分析更好) */
        {
          "step": "步驟一：分析事實...",
          "startIndex": 3500,
          "endIndex": 4000
        }
      ],
      "引用案例": [ /* (可選) */
        {
          "案件編號": "最高法院-年度-字別-案號",
          "startIndex": 5000,
          "endIndex": 5500
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"]
    },
    "判決結果": {
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他",
      "判決要點": "判決結果的重點摘要",
      "startIndex": 6000,
      "endIndex": 6500
    },
    "其他內容": { /* (可選) */
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**4.3.  欄位詳細說明**

| 欄位名稱                                | 資料類型             | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | ------------------ | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| ... (其他欄位同 Version 1.0) ...         | ...                  | ...                                                                   | ...                                                                                                                                  | ...                                                                 |
| `contentMetadata.事實概要.keySentences.地點` | String             | **事件發生地點 (若事實概要中有提及)**                                    | **提供事件發生地點資訊，支援地點分析與可視化，更完整的時地物資訊**                                                                           | **"XX路與YY路口", "公司辦公室", "住家"**                                                      |
| `contentMetadata.事實概要.keySentences.時間` | String             | **事件發生時間 (若事實概要中有提及)**                                    | **提供事件發生時間資訊，支援時間軸分析與可視化，更完整的時地物資訊**                                                                           | **"民國110年1月1日上午10時許", "2023年10月26日下午3點", "某日晚上"**                                                 |
| `contentMetadata.事實概要.事件類型`        | String             | **更明確的事件類型描述，例如：車禍事故、契約簽訂、侵權行為**                           | **更精確的事件類型分類，方便事件分析與可視化，有助於事件關聯性分析**                                                                           | **"車禍事故", "契約糾紛", "職場性騷擾"**                                                    |
| ... (其他欄位同 Version 1.0) ...         | ...                  | ...                                                                   | ...                                                                                                                                  | ...                                                                 |

**4.4.  位置索引說明 (`startIndex`, `endIndex`)**

* ... (同 Version 1.0) ...

**4.5.  範例 JSON**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "1.1",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [
        {
          "text": "經查，被告駕駛汽車於民國110年1月1日上午10時許，行經本市XX路與YY路口時，不慎闖紅燈，與原告所騎乘之機車發生碰撞，致原告受傷。",
          "startIndex": 150,
          "endIndex": 300,
          **"地點": "XX路與YY路口",**
          **"時間": "民國110年1月1日上午10時許"**
        }
      ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"],
      **"事件類型": "車禍事故"**
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["醫療費用", "精神撫慰金", "被告應賠償"],
        "keyArguments": [
          {
            "argument": "原告主張因本次車禍事故受有醫療費用新台幣5萬元、機車維修費用1萬元、精神撫慰金10萬元等損害，請求被告應賠償共計16萬元。",
            "startIndex": 500,
            "endIndex": 700
          }
        ]
      },
      "被告主張": {
        "keywords": ["已盡注意義務", "原告亦有過失", "賠償金額過高"]
      }
    },
    "法院理由": {
      "法律概念": ["侵權行為", "過失責任", "因果關係"],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [
        {
          "step": "法院審酌相關證據，認定被告駕駛行為確有違反交通規則之過失。",
          "startIndex": 1000,
          "endIndex": 1200
        },
        {
          "step": "然原告主張之精神撫慰金金額過高，法院酌減為5萬元。",
          "startIndex": 1300,
          "endIndex": 1500
        }
      ],
      "引用案例": [],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"]
    },
    "判決結果": {
      "判決結果類型": "部分勝訴",
      "判決要點": "判決被告應賠償原告醫療費用、機車維修費用及部分精神撫慰金，共計新台幣11萬元。",
      "startIndex": 1800,
      "endIndex": 2000
    }
  }
}
```

**5.  Meta data 的關聯與使用**

* **關聯方式：** 通用 Meta data 與 內容 Meta data 通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯。在資料庫中，可以將 `documentId` 作為外鍵，建立兩者之間的關聯。
* **使用場景：**
    * 判決書檢索與篩選：使用通用 Meta data 進行快速檢索與篩選，例如根據法院、案件類型、判決日期等條件檢索判決書。
    * 判決書可視化：結合通用 Meta data 與 內容 Meta data 進行多樣化的可視化呈現，例如：
        * 使用通用 Meta data 製作判決書統計圖表 (例如法院案件量統計、案件類型分佈、**不同法院地點的案件量比較**)。
        * 使用內容 Meta data 進行關鍵字高亮、段落摘要、爭議焦點分析、法律概念網絡圖、**人事時地物關聯圖 (例如：以時間軸呈現事件發展，在地圖上標示事件地點，以人物節點連結事件)** 等可視化。
        * 將通用 Meta data 與 內容 Meta data 結合，例如在判決書列表頁面顯示通用 Meta data (案件編號、案由、判決結果、**法院地點**)，點擊後進入詳細頁面，顯示內容 Meta data 及其對應的文本內容，**並呈現人事時地物關聯性分析結果**。
    * 法律知識圖譜建構：利用 Meta data 中的法律依據、引用案例、法律概念等資訊，建構法律知識圖譜，分析案例之間的關聯、法律概念的演進等。
    * LLM 應用：將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統、**以及人事時地物關係抽取與分析** 等應用。
    * **人事時地物關聯性可視化應用範例：**
        * **時間軸可視化：**  利用 `判決資訊.判決日期`、`事實概要.keySentences.時間` 等時間資訊，將案件的關鍵事件 (例如：事件發生時間、判決日期) 呈現在時間軸上，展示案件的時間發展脈絡。
        * **地圖可視化：**  利用 `法院資訊.法院地點`、`事實概要.keySentences.地點` 等地點資訊，在地圖上標示法院位置、事件發生地點，呈現案件的地理空間分佈。
        * **人物關係網絡：**  利用 `當事人資訊`、`判決資訊` 中的人物資訊 (原告、被告、法官、律師等)，建立人物關係網絡圖，展示案件參與者之間的關係。
        * **事件流程圖：**  結合 `事實概要.keySentences`、`判決邏輯.判決邏輯` 等資訊，視覺化案件的事實發展流程或法院的判決推理流程。
        * **綜合性儀表板：**  將時間軸、地圖、人物關係網絡、事件流程圖等可視化元件整合到一個儀表板中，全面展示判決書的人事時地物關聯性。

**6.  規格的未來擴展**

* 更細緻的段落劃分：可以根據判決書的實際結構，劃分更細緻的段落，例如將「法院理由」再細分為「法律適用」、「事實認定」、「證據判斷」等子段落。
* 加入更多資訊類型：例如可以加入「證據類型」、「訴訟請求」、「賠償金額」、**更精確的地理位置座標 (經緯度)** 等更具體的資訊。
* 多語言支援：考慮支援多語言的 Meta data 規格，以處理不同語言的判決書。
* 本体 (Ontology) 標準化：未來可以朝向更標準化的法律本体方向發展，例如使用法律本体標準來描述案件類型、法律概念等，提升 Meta data 的互操作性和語義明確性。

**7.  結論**

本規格書 (Version 1.1) 提供了更完善的判決書通用 Meta data 與 內容 Meta data 設計規格，**特別強化了地點資訊的記錄，並明確指出如何應用於人事時地物關聯性分析與可視化**。 透過遵循本規格書，可以更有效地提升判決書資料的價值，並促進法律科技在可視化分析等方面的發展。

---

**請注意：**

* 本規格書為 Version 1.1，請注意版本號的更新。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 在實際應用中，Meta data 的提取可能需要結合 OCR 技術、自然語言處理 (NLP) 技術以及人工標註。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的 JSON 結構和欄位說明進行解析和資料提取，**並特別指示 LLM 嘗試提取事實概要中的地點、時間、事件類型等資訊，以支援人事時地物分析**。

希望修訂後的規格書更能滿足您的需求！

## Q1.5-可視化 另一份 1.2
- M::
- Q::Q1.5:請依照下面的要求更改規格
	- 為了避免關鍵項目可視化需要持續的更新與調整，我希望把這個部分用另外一個 meta data 檔案來整理
	- 有時人是某個組織/公司的代表人，我希望將這樣的特性也能夠製作成關聯圖
- A::好的，為了滿足您的需求，我將規格書更新為三個 Meta data 檔案，並加入組織代表人的特性，以更彈性地支援可視化應用。

以下是修改後的規格書：

**判決書 Meta Data 規格書 (Version 1.2)**

本規格書旨在定義判決書的三種 Meta data 格式：

1.  **通用 Meta data (General Metadata) (Version 1.2):** 描述判決書的基礎資訊，著重於文件層級描述。
2.  **內容 Meta data (Content Metadata) (Version 1.2):** 描述判決書的內容細節，著重於文本內容結構化與關鍵資訊提取。
3.  **可視化 Meta data (Visualization Metadata) (Version 1.0):**  獨立描述可視化相關設定與資訊，方便靈活調整可視化呈現方式。

**1. 通用 Meta data 規格 (General Metadata Specification) (Version 1.2)**

**1.1. 目的與設計理由**

（與 Version 1.1 相同，除了設計理由增加組織代表人的考量）

* ...
* **組織代表人資訊：**  在當事人資訊中加入組織代表人的描述，方便呈現個人與組織的關係。

**1.2. JSON 結構 (Version 1.2)**

```json
{
  "documentType": "判決書",
  "version": "1.2",
  "metadata": {
    "案件資訊": { ... },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他",
      "判決主文": "完整判決主文內容 (可選)",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          **"組織": "臺灣高等法院",** // **新增：法官所屬組織 (法院)**
          **"職位": "法官"**       // **新增：法官在組織內的職位 (可選，若與職稱不同)**
        }
      ],
      "檢察官": [ /* 刑事案件可能會有 */
        {
          "姓名": "陳大同",
          "職稱": "檢察官",
          **"組織": "臺灣高等法院檢察署",** // **新增：檢察官所屬組織 (檢察署)**
          **"職位": "檢察官"**       // **新增：檢察官在組織內的職位 (可選)**
        }
      ],
      "律師": {
        "原告": [ /* 當事人委任律師資訊 */
          {
            "姓名": "張三",
            "事務所": "XX 律師事務所",
            **"組織": "XX 律師事務所",** // **新增：律師所屬組織 (律師事務所)**
            **"職位": "律師"**       // **新增：律師在組織內的職位 (可選)**
          }
        ],
        "被告": [ /* 當事人委任律師資訊 */ ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人/法人",
          "統一編號": "12345678" ,/* 若為法人 */
          **"組織": null,**          // **新增：當事人所屬組織 (若為自然人，可為 null)**
          **"職位": null,**          // **新增：當事人在組織內的職位 (若為自然人，可為 null)**
          **"代表人": null**         // **新增：若為組織代表人，指向代表的組織 (例如: "ORG-001")**
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          **"組織": "ABC 有限公司",**     // **新增：當事人所屬組織 (法人)**
          **"職位": null,**          // **新增：法人組織通常無職位**
          **"代表人": "王五"**          // **新增：法人代表人指向自然人 "王五" (假設 "王五" 的 metadata 中有定義 ID)**
        }
      ],
      "被告": [ /* 當事人資訊 */ ],
      "關係人": [ /* 其他訴訟關係人 (可選) */ ]
    },
    "法律依據": { ... },
    "文件資訊": { ... },
    "其他資訊": { ... }
  }
}
```

**1.3. 欄位詳細說明 (Version 1.2)**

| 欄位名稱                                | 資料類型   | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| ... (其他欄位同 Version 1.1) ...         | ...      | ...                                                                   | ...                                                                                                                                  | ...                                                                 |
| `metadata.判決資訊.法官.組織`              | String   | **法官所屬組織，例如：法院名稱**                                                   | **記錄法官所屬組織，方便組織關係分析**                                                                                               | **"臺灣高等法院"**                                                       |
| `metadata.判決資訊.法官.職位`              | String   | **法官在組織內的職位 (可選，若與職稱不同)**                                          | **更精確描述法官在組織內的角色**                                                                                                   | **"院長", "庭長"**                                                       |
| `metadata.判決資訊.檢察官.組織`            | String   | **檢察官所屬組織，例如：檢察署名稱**                                                 | **記錄檢察官所屬組織，方便組織關係分析**                                                                                               | **"臺灣高等法院檢察署"**                                                   |
| `metadata.判決資訊.檢察官.職位`            | String   | **檢察官在組織內的職位 (可選)**                                                    | **更精確描述檢察官在組織內的角色**                                                                                                   | **"檢察長", "主任檢察官"**                                                 |
| `metadata.判決資訊.律師.原告[].組織`         | String   | **律師所屬組織，例如：律師事務所名稱**                                                | **記錄律師所屬組織，方便組織關係分析**                                                                                               | **"XX 律師事務所"**                                                       |
| `metadata.判決資訊.律師.原告[].職位`         | String   | **律師在組織內的職位 (可選)**                                                    | **更精確描述律師在組織內的角色**                                                                                                   | **"合夥律師", "受雇律師"**                                                 |
| `metadata.當事人資訊.原告[].組織`           | String   | **當事人所屬組織 (若為法人)**，若為自然人可為 `null`                               | **記錄當事人所屬組織，方便組織關係分析**                                                                                               | **"ABC 有限公司", null**                                                  |
| `metadata.當事人資訊.原告[].職位`           | String   | **當事人在組織內的職位 (若為法人)**，若為自然人可為 `null`，法人組織通常無職位               | **更精確描述當事人在組織內的角色 (若適用)**                                                                                             | **"總經理", null**                                                       |
| `metadata.當事人資訊.原告[].代表人`          | String   | **若當事人為組織代表人，指向代表的組織的 ID (例如 "ORG-001")**，若非代表人或自然人可為 `null` | **建立自然人與組織的代表關係，方便呈現組織代表人關係**                                                                                       | **"ORG-001", null**                                                       |
| ... (其他欄位同 Version 1.1) ...         | ...      | ...                                                                   | ...                                                                                                                                  | ...                                                                 |

**1.4. 範例 JSON (Version 1.2)**

```json
{
  "documentType": "判決書",
  "version": "1.2",
  "metadata": {
    "案件資訊": { ... },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回",
      "判決主文": "原告之訴駁回。訴訟費用由原告負擔。",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "庭長"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官",
          "組織": "臺灣高等法院"
        }
      ]
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人",
          "組織": null,
          "職位": null
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",
          "職位": null,
          "代表人": "王五" // 假設王五的 ID 為 "王五-001"，這裡可以放 ID 或直接放名稱，視系統設計而定
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人",
          "組織": null,
          "職位": null
        }
      ]
    },
    "法律依據": { ... },
    "文件資訊": { ... },
    "其他資訊": { ... }
  }
}
```

**2. 內容 Meta data 規格 (Content Metadata Specification) (Version 1.2)**

**2.1. 目的與設計理由**

（與 Version 1.1 相同）

**2.2. JSON 結構 (Version 1.2)**

（與 Version 1.1 相同，結構不變，版本號更新為 1.2）

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "1.2", // 版本更新為 1.2
  "contentMetadata": {
    "事實概要": { ... },
    "當事人主張": { ... },
    "法院理由": { ... },
    "判決結果": { ... },
    "其他內容": { ... }
  }
}
```

**2.3. 欄位詳細說明 (Version 1.2)**

（與 Version 1.1 相同，欄位說明不變，版本號更新為 1.2）

**2.4. 位置索引說明 (`startIndex`, `endIndex`)**

（與 Version 1.1 相同）

**2.5. 範例 JSON (Version 1.2)**

（與 Version 1.1 相同，範例 JSON 不變，版本號更新為 1.2）

**3. 可視化 Meta data 規格 (Visualization Metadata Specification) (Version 1.0)**

**3.1. 目的與設計理由**

可視化 Meta data 的目的在於**獨立**描述判決書可視化的相關設定與資訊，**將可視化邏輯與資料結構解耦**。這樣可以更靈活地調整可視化呈現方式，而無需修改通用 Meta data 和內容 Meta data。

設計理由：

* **可視化邏輯與資料分離：**  將可視化相關的設定 (例如：顏色、圖表類型、樣式) 獨立出來，方便維護和更新。
* **靈活調整可視化：**  使用者可以根據不同的需求，修改可視化 Meta data，快速調整可視化呈現效果，例如更換圖表類型、調整顏色配置、增加/刪減可視化元件。
* **客製化可視化樣式：**  針對不同的應用場景或使用者群體，可以設計不同的可視化 Meta data，提供客製化的可視化樣式。
* **降低維護成本：**  當可視化需求變更時，只需修改可視化 Meta data，無需改動核心的資料 Meta data 結構和提取邏輯。

**3.2. JSON 結構 (Version 1.0)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用/內容 Meta data 的案件編號對應
  "version": "1.0",
  "visualizationMetadata": {
    "通用設定": {
      "主題色系": ["#007bff", "#6610f2", "#6f42c1", "..."], //  可自訂主題色系
      "字體": "微軟正黑體",
      "圖表樣式": "簡潔風" //  例如：簡潔風、科技風、復古風
      // ... 其他通用可視化設定
    },
    "可視化元件": [
      {
        "元件類型": "時間軸",
        "資料來源": "contentMetadata.事實概要.keySentences", //  指向資料來源的路徑
        "時間欄位": "時間", //  指定時間軸的資料欄位
        "文本欄位": "text", //  指定時間軸上顯示的文本欄位
        "樣式設定": {
          "顏色": "#007bff",
          "標記形狀": "圓形",
          // ... 時間軸元件的樣式設定
        }
      },
      {
        "元件類型": "地圖",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "地點欄位": "地點",
        "樣式設定": {
          "標記顏色": "#6610f2",
          "標記大小": "中等",
          "地圖底圖": "OpenStreetMap"
          // ... 地圖元件的樣式設定
        }
      },
      {
        "元件類型": "人物關係網絡",
        "資料來源": ["generalMetadata.判決資訊.法官", "generalMetadata.判決資訊.檢察官", "generalMetadata.判決資訊.律師", "generalMetadata.當事人資訊"],
        "節點欄位": "姓名",
        "關係類型": ["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"], //  定義關係類型
        "樣式設定": {
          "節點顏色": {"法官": "#28a745", "檢察官": "#dc3545", "律師": "#ffc107", "當事人": "#17a2b8"}, //  不同節點類型使用不同顏色
          "邊線樣式": "虛線",
          // ... 人物關係網絡元件的樣式設定
        }
      },
      {
        "元件類型": "關鍵字詞雲",
        "資料來源": "contentMetadata.事實概要.keywords",
        "樣式設定": {
          "字體大小範圍": [12, 48],
          "顏色": "#6f42c1"
          // ... 詞雲元件的樣式設定
        }
      }
      // ... 其他可視化元件定義
    ],
    "儀表板配置": {
      "版面配置": "Grid", //  例如：Grid, Flexbox, 流式佈局
      "元件排列": [ //  定義元件在儀表板中的排列順序和位置
        {"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]}, //  元件索引對應 "可視化元件" 陣列的索引，位置和尺寸可以根據 Grid 系統或佈局方式定義
        {"元件索引": 1, "位置": [0, 4], "尺寸": [6, 4]},
        {"元件索引": 2, "位置": [6, 0], "尺寸": [6, 8]},
        {"元件索引": 3, "位置": [0, 8], "尺寸": [12, 4]}
      ],
      // ... 儀表板整體配置
    }
  }
}
```

**3.3. 欄位詳細說明 (Version 1.0)**

| 欄位名稱                                | 資料類型         | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String         | 案件編號，與通用/內容 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用/內容 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                             | String         | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "1.0"                                                                 |
| `visualizationMetadata`               | Object         | 可視化 Meta data 主要容器                                               | 結構化組織可視化 Meta data                                                                                                             | -                                                                     |
| `visualizationMetadata.通用設定`          | Object         | 通用的可視化設定，例如主題色系、字體等                                           | 提供統一的可視化風格設定                                                                                                                         | -                                                                     |
| `visualizationMetadata.通用設定.主題色系`    | Array of String | 主題色系，顏色代碼列表                                                         | 自訂主題色系，統一視覺風格                                                                                                                         | `["#007bff", "#6610f2", "#6f42c1"]`                                     |
| `visualizationMetadata.通用設定.字體`      | String         | 字體名稱                                                                | 設定全局字體                                                                                                                               | "微軟正黑體"                                                             |
| `visualizationMetadata.通用設定.圖表樣式`    | String         | 圖表樣式風格描述，例如：簡潔風、科技風                                          | 快速切換整體圖表風格                                                                                                                         | "簡潔風"                                                                |
| `visualizationMetadata.可視化元件`        | Array of Object | 可視化元件定義列表，每個元素定義一個可視化元件                                      | 定義儀表板中包含的可視化元件，靈活組合                                                                                                   | -                                                                     |
| `visualizationMetadata.可視化元件[].元件類型` | String         | 元件類型，例如：時間軸、地圖、人物關係網絡、詞雲等                                   | 標識元件類型，決定使用哪種可視化圖表                                                                                                   | "時間軸", "地圖", "人物關係網絡", "關鍵字詞雲"                                                  |
| `visualizationMetadata.可視化元件[].資料來源` | String / Array | 資料來源，指向通用 Meta data 或 內容 Meta data 的資料路徑 (使用 JSON Path 或類似語法) | 指定元件要使用哪個 Meta data 的哪個部分資料，靈活配置資料來源                                                                                   | "contentMetadata.事實概要.keySentences", ["generalMetadata.判決資訊.法官", "generalMetadata.當事人資訊"]                                 |
| `visualizationMetadata.可視化元件[].時間欄位` | String         | 時間欄位名稱 (若元件類型為時間軸)                                           | 指定時間軸元件的時間資料欄位                                                                                                                     | "時間"                                                                |
| `visualizationMetadata.可視化元件[].文本欄位` | String         | 文本欄位名稱 (若元件類型需要顯示文本)                                           | 指定元件需要顯示的文本資料欄位                                                                                                                     | "text"                                                                |
| `visualizationMetadata.可視化元件[].地點欄位` | String         | 地點欄位名稱 (若元件類型為地圖)                                             | 指定地圖元件的地點資料欄位                                                                                                                     | "地點"                                                                |
| `visualizationMetadata.可視化元件[].關係類型` | Array of String | 關係類型列表 (若元件類型為人物關係網絡)，例如：["法官-案件", "律師-當事人"]                       | 定義人物關係網絡中要呈現的關係類型，方便客製化關係圖                                                                                   | `["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"]`                                 |
| `visualizationMetadata.可視化元件[].樣式設定` | Object         | 元件的樣式設定，例如顏色、字體大小、標記形狀等                                        | 細緻控制每個元件的視覺樣式，客製化可視化效果                                                                                             | -                                                                     |
| `visualizationMetadata.儀表板配置`        | Object         | 儀表板整體佈局配置                                                         | 定義儀表板的版面結構和元件排列方式                                                                                                 | -                                                                     |
| `visualizationMetadata.儀表板配置.版面配置`   | String         | 版面配置方式，例如：Grid, Flexbox, 流式佈局                                      | 選擇不同的版面配置方式，適應不同螢幕尺寸和佈局需求                                                                                       | "Grid", "Flexbox"                                                        |
| `visualizationMetadata.儀表板配置.元件排列`   | Array of Object | 元件排列規則列表，定義每個元件在儀表板中的位置和尺寸                                    | 精確控制元件在儀表板中的位置和尺寸，打造專業儀表板                                                                                       | `[{"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]}, {"元件索引": 1, "位置": [6, 0], "尺寸": [6, 4]}]` |

**3.4. 範例 JSON (Version 1.0)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "1.0",
  "visualizationMetadata": {
    "通用設定": {
      "主題色系": ["#007bff", "#6c757d", "#28a745", "#dc3545", "#ffc107", "#17a2b8", "#6610f2", "#6f42c1"],
      "字體": "微軟正黑體",
      "圖表樣式": "簡潔風"
    },
    "可視化元件": [
      {
        "元件類型": "時間軸",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "時間欄位": "時間",
        "文本欄位": "text",
        "樣式設定": {
          "顏色": "#007bff",
          "標記形狀": "圓形"
        }
      },
      {
        "元件類型": "地圖",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "地點欄位": "地點",
        "樣式設定": {
          "標記顏色": "#6c757d",
          "標記大小": "中等",
          "地圖底圖": "OpenStreetMap"
        }
      },
      {
        "元件類型": "人物關係網絡",
        "資料來源": ["generalMetadata.判決資訊.法官", "generalMetadata.判決資訊.檢察官", "generalMetadata.判決資訊.律師", "generalMetadata.當事人資訊"],
        "節點欄位": "姓名",
        "關係類型": ["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"],
        "樣式設定": {
          "節點顏色": {
            "法官": "#28a745",
            "檢察官": "#dc3545",
            "律師": "#ffc107",
            "當事人": "#17a2b8"
          },
          "邊線樣式": "虛線"
        }
      },
      {
        "元件類型": "關鍵字詞雲",
        "資料來源": "contentMetadata.事實概要.keywords",
        "樣式設定": {
          "字體大小範圍": [12, 48],
          "顏色": "#6f42c1"
        }
      }
    ],
    "儀表板配置": {
      "版面配置": "Grid",
      "元件排列": [
        {"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]},
        {"元件索引": 1, "位置": [0, 4], "尺寸": [6, 4]},
        {"元件索引": 2, "位置": [6, 0], "尺寸": [6, 8]},
        {"元件索引": 3, "位置": [0, 8], "尺寸": [12, 4]}
      ]
    }
  }
}
```

**4. Meta data 的關聯與使用 (Version 1.2)**

* **關聯方式：**  通用 Meta data、內容 Meta data 和 可視化 Meta data 都通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯。
* **使用場景：**
    * 判決書檢索與篩選：使用通用 Meta data 進行快速檢索與篩選。
    * 判決書可視化：
        * 使用通用 Meta data 和 內容 Meta data 提供可視化所需的資料。
        * **使用可視化 Meta data 定義可視化元件的類型、資料來源、樣式設定、儀表板佈局等。**
        * **可靈活切換不同的可視化 Meta data，快速更換可視化主題和樣式，而無需重新提取資料或修改程式碼。**
        * 可視化應用程式根據可視化 Meta data 的定義，動態生成可視化儀表板。
    * 法律知識圖譜建構：利用 Meta data 中的法律依據、引用案例、法律概念等資訊建構法律知識圖譜。
    * LLM 應用：將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統、人事時地物關係抽取與分析等應用。
    * 人事時地物關聯性可視化應用範例： （與 Version 1.1 相同，但可視化設定由可視化 Meta data 控制）
        * 時間軸可視化： **可透過可視化 Meta data 設定時間軸的樣式、顏色、資料來源等。**
        * 地圖可視化： **可透過可視化 Meta data 設定地圖的標記樣式、地圖底圖、資料來源等。**
        * 人物關係網絡： **可透過可視化 Meta data 設定節點顏色、邊線樣式、關係類型、資料來源等，並可利用 `當事人資訊.原告[].代表人` 等欄位呈現組織代表關係。**
        * 事件流程圖： **可透過可視化 Meta data 定義流程圖的節點樣式、連接線樣式、資料來源等。**
        * 綜合性儀表板： **透過可視化 Meta data 的儀表板配置，靈活調整儀表板佈局和元件排列。**

**5. 規格的未來擴展**

* ... (與 Version 1.1 相同)
* **更豐富的可視化元件：**  未來可以擴展可視化 Meta data，支援更多種類的可視化元件，例如：表格、數字卡片、雷達圖、桑基圖等。
* **互動式可視化設定：**  可以加入互動式可視化設定，例如：篩選器、鑽取功能、動態更新等，讓使用者可以更深入地探索判決書資料。
* **可視化範本庫：**  建立可視化 Meta data 範本庫，提供不同主題和樣式的可視化範本，方便使用者快速套用和客製化。

**6. 結論 (Version 1.2)**

本規格書 (Version 1.2) 提供了更完善的三種判決書 Meta data 設計規格：通用 Meta data、內容 Meta data 和 **可視化 Meta data**。 **可視化 Meta data 的獨立設計，使得可視化應用更具彈性和可維護性。同時，組織代表人特性的加入，也豐富了人事關係可視化的可能性。** 透過遵循本規格書，可以更有效地提升判決書資料的價值，並促進法律科技在可視化分析等方面的發展。

---

**請注意：**

* 本規格書為 Version 1.2 (通用 Meta data 和 內容 Meta data) 和 Version 1.0 (可視化 Meta data)。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的三種 JSON 結構和欄位說明進行解析和資料提取，**並特別指示 LLM 嘗試提取組織代表人關係，以及針對可視化 Meta data 的使用方式進行理解**。

希望這次的規格書更新更符合您的需求！ 這樣將可視化設定獨立出來，並加入組織代表人資訊後，您的判決書可視化應用將會更加強大和靈活。

## Q2.1-整合 法律語法形式化 1.3
- M::雖然可能這樣做比較好，但初步帶起時，可能會增加不少難度，先不處理這個。 chat 中，先刪除
- Q::Q2.1:我希望判決書的 meta data 能夠是法律語法形式化的延伸架構，意思是判決書中相關的法律概念，與法條詮釋等，能夠連結。請根據附上的法律語法形式化規格，進行判決書 meta data 規格的修改
- A::好的，我了解您的需求。您希望將判決書的 Meta data 規格，進一步與您提供的「法律語法形式化」架構整合，讓判決書中的法律概念、法條詮釋等資訊，能夠與形式化的法律知識庫連結，以實現更深層次的法律知識應用。

根據您提供的「法律語法形式化規格書 Ver 3.2 初版程式後」的內容，我將針對判決書 Meta data 規格 (Version 1.2) 進行修改，主要目標是強化判決書 Meta data 與法律語法形式化架構的連結性，特別是在法律概念和法條規則方面。

以下是修改後的判決書 Meta data 規格書 (Version 1.3)：

**判決書 Meta Data 規格書 (Version 1.3)**

本規格書旨在定義判決書的三種 Meta data 格式：

1.  **通用 Meta data (General Metadata) (Version 1.3):** 描述判決書的基礎資訊，著重於文件層級描述，**並強化與法律語法形式化架構的連結**。
2.  **內容 Meta data (Content Metadata) (Version 1.3):** 描述判決書的內容細節，著重於文本內容結構化與關鍵資訊提取，**並強化與法律語法形式化架構的連結**。
3.  **可視化 Meta data (Visualization Metadata) (Version 1.0):**  獨立描述可視化相關設定與資訊，方便靈活調整可視化呈現方式 (Version 1.0 版本不變)。

**1. 通用 Meta data 規格 (General Metadata Specification) (Version 1.3)**

**1.1. 目的與設計理由**

（與 Version 1.2 相同，但設計理由中加入與法律語法形式化架構連結的考量）

* ...
* **與法律語法形式化架構連結：**  通用 Meta data 中的 `法律依據.法條` 和 `法律依據.解釋` 欄位，可以作為判決書連結到形式化法律知識庫的入口，未來可進一步擴展，更細緻地連結到 **法規 Meta Data** 和 **法條 Meta Data**。

**1.2. JSON 結構 (Version 1.3)**

（在 `法律依據` 區塊中，新增可連結到法律語法形式化架構的欄位）

```json
{
  "documentType": "判決書",
  "version": "1.3",
  "metadata": {
    "案件資訊": { ... },
    "法院資訊": { ... },
    "判決資訊": { ... },
    "當事人資訊": { ... },
    "法律依據": {
      "法條": [
        "民法第 184 條"
      ],
      "解釋": [ /* (可選) */
        "最高法院 100 年度台上字第 1234 號判例"
      ],
      **"形式化法規連結": [  //  🌟 新增：連結到法律語法形式化架構中的法規 (lawFormalizationLinks)**
        {
          "法規代號": "LT_民法", //  連結到 法律語法形式化 - 法規 Meta Data 的 "代號" 欄位
          "法規名稱": "民法",
          "關聯說明": "本判決書主要法律依據"
        },
        // ... 其他形式化法規連結
      ],
      **"形式化法條連結": [  //  🌟 新增：連結到法律語法形式化架構中的法條 (articleFormalizationLinks)**
        {
          "法條代號": "LA_民法_184", //  連結到 法律語法形式化 - 法條 Meta Data 的 "代號" 欄位
          "法條條號": "民法第 184 條",
          "關聯說明": "本判決書直接引用之法條"
        },
        // ... 其他形式化法條連結
      ],
      **"形式化解釋連結": [  //  🌟 新增：連結到法律語法形式化架構中的法律解釋 (interpretationFormalizationLinks) - 可選，若形式化架構中有解釋 Meta Data**
        {
          "解釋代號": "LI_最高法院_100台上_1234", //  假設有法律解釋 Meta Data，連結到其 "代號" 欄位
          "解釋名稱": "最高法院 100 年度台上字第 1234 號判例",
          "關聯說明": "本判決書引用之重要判例"
        },
        // ... 其他形式化解釋連結
      ]
    },
    "文件資訊": { ... },
    "其他資訊": { ... }
  }
}
```

**1.3. 欄位詳細說明 (Version 1.3)**

| 欄位名稱                                | 資料類型           | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | ---------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| ... (其他欄位同 Version 1.2) ...         | ...                | ...                                                                   | ...                                                                                                                                  | ...                                                                 |
| `metadata.法律依據.形式化法規連結`         | Array of Object  | **連結到法律語法形式化架構中的法規 (法規 Meta Data)**                              | **建立判決書與形式化法規知識庫的連結，方便追溯法律淵源，進行法規關聯分析**                                                                           | `[{"法規代號": "LT_民法", "法規名稱": "民法", "關聯說明": "本判決書主要法律依據"}]`                                        |
| `metadata.法律依據.形式化法條連結`         | Array of Object  | **連結到法律語法形式化架構中的法條 (法條 Meta Data)**                              | **建立判決書與形式化法條知識庫的連結，方便追溯法條原文與詮釋，進行法條適用分析**                                                                         | `[{"法條代號": "LA_民法_184", "法條條號": "民法第 184 條", "關聯說明": "本判決書直接引用之法條"}]`                            |
| `metadata.法律依據.形式化解釋連結`       | Array of Object  | **連結到法律語法形式化架構中的法律解釋 (若有解釋 Meta Data)**                      | **建立判決書與形式化法律解釋知識庫的連結，方便理解判決書的法律解釋依據**                                                                               | `[{"解釋代號": "LI_最高法院_100台上_1234", "解釋名稱": "最高法院 100 年度台上字第 1234 號判例", "關聯說明": "本判決書引用之重要判例"}]` |
| `metadata.法律依據.形式化解釋連結[].法規代號` | String           | **連結之形式化法規的 "代號" (來自 法律語法形式化 - 法規 Meta Data)**                | **明確指向形式化法規知識庫中的法規**                                                                                                   | `"LT_民法"`                                                               |
| `metadata.法律依據.形式化解釋連結[].法規名稱` | String           | **連結之形式化法規的 "法規名稱"**                                                 | **提供法規名稱，方便人類閱讀理解**                                                                                                   | `"民法"`                                                                 |
| `metadata.法律依據.形式化解釋連結[].法條代號` | String           | **連結之形式化法條的 "代號" (來自 法律語法形式化 - 法條 Meta Data)**                | **明確指向形式化法條知識庫中的法條**                                                                                                   | `"LA_民法_184"`                                                            |
| `metadata.法律依據.形式化解釋連結[].法條條號` | String           | **連結之形式化法條的 "條號"**                                                   | **提供法條條號，方便人類閱讀理解**                                                                                                   | `"民法第 184 條"`                                                          |
| `metadata.法律依據.形式化解釋連結[].解釋代號` | String           | **連結之形式化法律解釋的 "代號" (假設有法律解釋 Meta Data)**                    | **明確指向形式化法律解釋知識庫中的解釋**                                                                                             | `"LI_最高法院_100台上_1234"`                                              |
| `metadata.法律依據.形式化解釋連結[].解釋名稱` | String           | **連結之形式化法律解釋的 "解釋名稱"**                                             | **提供解釋名稱，方便人類閱讀理解**                                                                                                   | `"最高法院 100 年度台上字第 1234 號判例"`                                    |
| `metadata.法律依據.形式化解釋連結[].關聯說明` | String           | **簡述判決書與形式化法規/法條/解釋之間的關聯**                                      | **描述關聯性，方便理解連結目的**                                                                                                   | `"本判決書主要法律依據"`, `"本判決書直接引用之法條"`, `"本判決書引用之重要判例"`                                               |
| ... (其他欄位同 Version 1.2) ...         | ...                | ...                                                                   | ...                                                                                                                                  | ...                                                                 |

**1.4. 範例 JSON (Version 1.3)**

```json
{
  "documentType": "判決書",
  "version": "1.3",
  "metadata": {
    "案件資訊": { ... },
    "法院資訊": { ... },
    "判決資訊": { ... },
    "當事人資訊": { ... },
    "法律依據": {
      "法條": [
        "民法第 184 條",
        "民法第 195 條"
      ],
      "解釋": [
        "最高法院 100 年度台上字第 1234 號判例"
      ],
      "形式化法規連結": [
        {
          "法規代號": "LT_民法",
          "法規名稱": "民法",
          "關聯說明": "本判決書主要法律依據"
        }
      ],
      "形式化法條連結": [
        {
          "法條代號": "LA_民法_184",
          "法條條號": "民法第 184 條",
          "關聯說明": "本判決書直接引用之法條"
        },
        {
          "法條代號": "LA_民法_195",
          "法條條號": "民法第 195 條",
          "關聯說明": "本判決書直接引用之法條"
        }
      ],
      "形式化解釋連結": [
        {
          "解釋代號": "LI_最高法院_100台上_1234",
          "解釋名稱": "最高法院 100 年度台上字第 1234 號判例",
          "關聯說明": "本判決書引用之重要判例"
        }
      ]
    },
    "文件資訊": { ... },
    "其他資訊": { ... }
  }
}
```

**2. 內容 Meta data 規格 (Content Metadata Specification) (Version 1.3)**

**2.1. 目的與設計理由**

（與 Version 1.2 相同，但設計理由中加入與法律語法形式化架構連結的考量）

* ...
* **與法律語法形式化架構連結：**  內容 Meta data 中的 `法律概念` 和 `關鍵法條` 欄位，可以更精確地連結到形式化法律知識庫中的 **法律概念 Meta Data** 和 **法條 Meta Data**，提升判決書內容分析的深度和廣度。

**2.2. JSON 結構 (Version 1.3)**

（在 `事實概要`、`法院理由` 等區塊中，將 `法律概念` 和 `關鍵法條` 欄位改為連結形式化架構）

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "1.3", // 版本更新為 1.3
  "contentMetadata": {
    "事實概要": {
      "keywords": [ ... ],
      "keySentences": [ ... ],
      "案例類別": [ ... ],
      "爭議焦點": [ ... ],
      "相關法條": [ ... ],
      "事件類型": [ ... ],
      **"形式化法律概念連結": [  //  🌟 新增：連結到法律語法形式化架構中的法律概念 (conceptFormalizationLinks) - 在事實概要中連結法律概念可能較少見，可根據實際情況決定是否加入**
        {
          "概念代號": "LC_政府採購法_採購", //  連結到 法律語法形式化 - 法律概念 Meta Data 的 "代號" 欄位
          "詞彙名稱": "採購",
          "關聯說明": "事實概要中提及之法律概念"
        },
        // ... 其他形式化法律概念連結
      ]
    },
    "當事人主張": { ... },
    "法院理由": {
      **"形式化法律概念連結": [  //  🌟 新增：連結到法律語法形式化架構中的法律概念 (conceptFormalizationLinks)**
        {
          "概念代號": "LC_侵權行為", //  連結到 法律語法形式化 - 法律概念 Meta Data 的 "代號" 欄位
          "詞彙名稱": "侵權行為",
          "關聯說明": "判決理由中核心法律概念"
        },
        // ... 其他形式化法律概念連結
      ],
      "法律原則": [ ... ],
      "判決邏輯": [ ... ],
      "引用案例": [ ... ],
      "關鍵法條": [ ... ],
      **"形式化關鍵法條連結": [  //  🌟 新增：連結到法律語法形式化架構中的法條 (articleFormalizationLinks)**
        {
          "法條代號": "LA_民法_184", //  連結到 法律語法形式化 - 法條 Meta Data 的 "代號" 欄位
          "法條條號": "民法第 184 條",
          "關聯說明": "判決理由中關鍵法條"
        },
        // ... 其他形式化關鍵法條連結
      ]
    },
    "判決結果": { ... },
    "其他內容": { ... }
  }
}
```

**2.3. 欄位詳細說明 (Version 1.3)**

| 欄位名稱                                      | 資料類型           | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------------- | ---------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| ... (其他欄位同 Version 1.2) ...               | ...                | ...                                                                   | ...                                                                                                                                  | ...                                                                 |
| `contentMetadata.事實概要.形式化法律概念連結`         | Array of Object  | **連結到法律語法形式化架構中的法律概念 (法律概念 Meta Data) - 事實概要段落**                    | **建立事實概要與形式化法律概念知識庫的連結，提升事實概要的語義理解**                                                                             | `[{"概念代號": "LC_政府採購法_採購", "詞彙名稱": "採購", "關聯說明": "事實概要中提及之法律概念"}]`                                        |
| `contentMetadata.法院理由.形式化法律概念連結`         | Array of Object  | **連結到法律語法形式化架構中的法律概念 (法律概念 Meta Data) - 法院理由段落**                    | **建立法院理由與形式化法律概念知識庫的連結，方便理解判決書的法律推理和論證**                                                                       | `[{"概念代號": "LC_侵權行為", "詞彙名稱": "侵權行為", "關聯說明": "判決理由中核心法律概念"}]`                                        |
| `contentMetadata.法院理由.形式化關鍵法條連結`         | Array of Object  | **連結到法律語法形式化架構中的法條 (法條 Meta Data) - 法院理由段落**                        | **建立法院理由與形式化法條知識庫的連結，方便追溯判決書的法律依據，進行法條適用分析**                                                                         | `[{"法條代號": "LA_民法_184", "法條條號": "民法第 184 條", "關聯說明": "判決理由中關鍵法條"}]`                            |
| `contentMetadata.事實概要.形式化法律概念連結[].概念代號` | String           | **連結之形式化法律概念的 "代號" (來自 法律語法形式化 - 法律概念 Meta Data)**                | **明確指向形式化法律概念知識庫中的法律概念**                                                                                             | `"LC_政府採購法_採購"`                                                        |
| `contentMetadata.事實概要.形式化法律概念連結[].詞彙名稱` | String           | **連結之形式化法律概念的 "詞彙名稱"**                                                   | **提供法律概念名稱，方便人類閱讀理解**                                                                                                   | `"採購"`                                                                 |
| `contentMetadata.事實概要.形式化法律概念連結[].關聯說明` | String           | **簡述判決書事實概要與形式化法律概念之間的關聯**                                          | **描述關聯性，方便理解連結目的**                                                                                                   | `"事實概要中提及之法律概念"`                                                      |
| `contentMetadata.法院理由.形式化法律概念連結[].概念代號` | String           | **連結之形式化法律概念的 "代號" (來自 法律語法形式化 - 法律概念 Meta Data)**                | **明確指向形式化法律概念知識庫中的法律概念**                                                                                             | `"LC_侵權行為"`                                                            |
| `contentMetadata.法院理由.形式化法律概念連結[].詞彙名稱` | String           | **連結之形式化法律概念的 "詞彙名稱"**                                                   | **提供法律概念名稱，方便人類閱讀理解**                                                                                                   | `"侵權行為"`                                                               |
| `contentMetadata.法院理由.形式化法律概念連結[].關聯說明` | String           | **簡述判決書法院理由與形式化法律概念之間的關聯**                                          | **描述關聯性，方便理解連結目的**                                                                                                   | `"判決理由中核心法律概念"`                                                        |
| `contentMetadata.法院理由.形式化關鍵法條連結[].法條代號` | String           | **連結之形式化法條的 "代號" (來自 法律語法形式化 - 法條 Meta Data)**                | **明確指向形式化法條知識庫中的法條**                                                                                                   | `"LA_民法_184"`                                                            |
| `contentMetadata.法院理由.形式化關鍵法條連結[].法條條號` | String           | **連結之形式化法條的 "條號"**                                                   | **提供法條條號，方便人類閱讀理解**                                                                                                   | `"民法第 184 條"`                                                          |
| `contentMetadata.法院理由.形式化關鍵法條連結[].關聯說明` | String           | **簡述判決書法院理由與形式化法條之間的關聯**                                            | **描述關聯性，方便理解連結目的**                                                                                                   | `"判決理由中關鍵法條"`                                                          |
| ... (其他欄位同 Version 1.2) ...               | ...                | ...                                                                   | ...                                                                                                                                  | ...                                                                 |

**2.4. 位置索引說明 (`startIndex`, `endIndex`)**

（與 Version 1.2 相同）

**2.5. 範例 JSON (Version 1.3)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "1.3",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [ ... ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"],
      "事件類型": "車禍事故",
      "形式化法律概念連結": [
        {
          "概念代號": "LC_交通事故", // 假設有交通事故法律概念
          "詞彙名稱": "交通事故",
          "關聯說明": "事實概要描述之事件類型"
        }
      ]
    },
    "當事人主張": { ... },
    "法院理由": {
      "形式化法律概念連結": [
        {
          "概念代號": "LC_侵權行為",
          "詞彙名稱": "侵權行為",
          "關聯說明": "判決理由核心法律概念"
        },
        {
          "概念代號": "LC_過失責任",
          "詞彙名稱": "過失責任",
          "關聯說明": "判決理由重要法律概念"
        }
      ],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [ ... ],
      "引用案例": [ ... ],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"],
      "形式化關鍵法條連結": [
        {
          "法條代號": "LA_民法_184",
          "法條條號": "民法第 184 條",
          "關聯說明": "判決理由關鍵法條，侵權行為之一般規定"
        },
        {
          "法條代號": "LA_民法_195",
          "法條條號": "民法第 195 條",
          "關聯說明": "判決理由關鍵法條，非財產上損害賠償"
        }
      ]
    },
    "判決結果": { ... },
    "其他內容": { ... }
  }
}
```

**3. 可視化 Meta data 規格 (Visualization Metadata Specification) (Version 1.0)**

（Version 1.0 版本不變）

**4. Meta data 的關聯與使用 (Version 1.3)**

* **關聯方式：**  通用 Meta data、內容 Meta data 和 可視化 Meta data 都通過 `documentId` 欄位進行關聯。 **通用 Meta data 和 內容 Meta data 現在更進一步透過新增的 "形式化連結" 欄位，與法律語法形式化架構中的法規、法條、法律概念等 Meta Data 建立連結。**
* **使用場景：**
    * ... (其他使用場景同 Version 1.2) ...
    * **法律知識圖譜建構的強化：**  透過 "形式化連結" 欄位，可以更精確地將判決書納入法律知識圖譜中，建立判決書與法規、法條、法律概念之間的強連結，實現更深度的法律知識關聯和推理。
    * **語義檢索與分析的提升：**  利用 "形式化法律概念連結" 和 "形式化關鍵法條連結"，可以進行更精確的語義檢索，例如：
        * 檢索所有 "法院理由" 中引用了 "侵權行為" 法律概念的判決書。
        * 分析特定法條 (例如 "民法第 184 條") 在判決書中的適用情況和解釋。
    * **法律推理與案例分析的深化：**  結合判決書 Meta data 和 法律語法形式化架構，可以進行更複雜的法律推理和案例分析，例如：
        * 分析特定法律規則在不同判決書中的適用結果。
        * 比較不同法官對於同一法律概念的理解和適用方式。
        * 追蹤特定法條或法律概念在判決書中的演變趨勢。

**5. 規格的未來擴展**

* ... (與 Version 1.2 相同)
* **更細緻的語義連結：**  未來可以更細緻地標註判決書文本中的法律概念和法條引用，例如：
    * 標註判決書中哪些段落或句子提到了特定的法律概念。
    * 標註判決書中對於特定法條的解釋和適用方式。
    * 將判決書中的法律論證步驟，與形式化法律知識庫中的法律規則進行對應。
* **法律規則的連結：**  未來可以考慮將判決書中法官實際採用的法律規則 (可能與法條中形式化的法律規則有所差異)，也抽取出來並建立 Meta Data，並與形式化法律知識庫中的法律規則進行比較和分析。

**6. 結論 (Version 1.3)**

本規格書 (Version 1.3) 在 Version 1.2 的基礎上，**大幅強化了判決書 Meta data 與法律語法形式化架構的連結性**。透過新增 "形式化連結" 欄位，判決書 Meta data 不僅僅是描述判決書本身，更成為了 **法律語義網絡中的一個節點**，可以與形式化的法規、法條、法律概念知識庫深度整合，為更進階的法律知識應用奠定基礎。

---

**請注意：**

* 本規格書為 Version 1.3 (通用 Meta data 和 內容 Meta data) 和 Version 1.0 (可視化 Meta data)。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的三種 JSON 結構和欄位說明進行解析和資料提取，**並特別指示 LLM 重視 "形式化連結" 欄位的理解和應用，嘗試將判決書中的法律依據、法律概念等資訊，與您提供的法律語法形式化架構進行連結**。

希望這次的規格書修改，能更符合您將判決書 Meta data 與法律語法形式化架構整合的需求，讓您的法律知識應用更加強大！

## Q2.2-版本統一命名為 2.0
- M::
- Q::Q2.2:請將目前的規格書，完整輸出，所有的版本統一命名為 2.0，我打算用來實際練習看看
- A::好的，了解您的需求。以下為完整輸出的判決書 Meta Data 規格書 Version 2.0，包含通用 Meta data、內容 Meta data 及可視化 Meta data 的完整規格，所有版本號統一為 2.0。

**判決書 Meta Data 規格書 (Version 2.0)**

**1.  簡介**

本規格書旨在定義判決書的三種 Meta data 格式，用於結構化地描述判決書的資訊，以利於判決書的檢索、分析、人事時地物關聯性可視化及其他應用。本規格書包含三種 Meta data 格式，版本皆為 2.0：

1.  **通用 Meta data (General Metadata) (Version 2.0):** 描述判決書的基礎資訊，著重於文件層級描述。
2.  **內容 Meta data (Content Metadata) (Version 2.0):** 描述判決書的內容細節，著重於文本內容結構化與關鍵資訊提取。
3.  **可視化 Meta data (Visualization Metadata) (Version 2.0):**  獨立描述可視化相關設定與資訊，方便靈活調整可視化呈現方式。

這三種 Meta data 格式可以獨立使用，也可以結合使用。結合使用時，透過 **案件編號 (documentId 或 案件資訊.案件編號)** 進行關聯。

**2.  目標讀者**

* 開發人員：負責開發判決書解析、Meta data 提取、資料庫儲存、人事時地物關聯性可視化應用等系統的工程師。
* 語言模型 (LLM)：用於訓練或指示 LLM 按照本規格解析判決書，提取 Meta data。
* 法律研究人員、資料分析師：使用 Meta data 進行法律研究、案例分析、數據統計、人事時地物關聯性分析等專業人士。

**3.  通用 Meta data 規格 (General Metadata Specification) (Version 2.0)**

**3.1.  目的與設計理由**

通用 Meta data 的目的在於提供判決書的概括性描述，方便使用者快速了解判決書的基本資訊，並作為判決書檢索、分類、管理、以及初步的人事時地物分析的基礎。設計理由包含：

* 文件識別與管理：案件編號、法院資訊、文件資訊等欄位，有助於唯一識別判決書，並進行有效的管理和歸檔。
* 快速資訊概覽：案件類型、案由、審級、判決結果等欄位，讓使用者在不細讀判決書全文的情況下，快速掌握案件的核心資訊。
* 資料庫索引與檢索：這些 Meta data 欄位可作為資料庫的索引，方便使用者根據不同條件 (例如法院、案件類型、判決日期) 檢索判決書。
* 跨系統資料交換：標準化的 Meta data 格式，有利於不同法律資料系統之間的資料交換與整合。
* 初步人事時地物分析：法院資訊 (地點)、判決日期 (時間)、當事人/法官/檢察官/律師 (人物)、案件類型/案由 (事件) 等欄位，可初步支援人事時地物的關聯性分析。
* 組織代表人資訊：在當事人資訊中加入組織代表人的描述，方便呈現個人與組織的關係。

**3.2.  JSON 結構 (Version 2.0)**

```json
{
  "documentType": "判決書",
  "version": "2.0",
  "metadata": {
    "案件資訊": {
      "案件編號": "法院代碼-年度-字別-案號",
      "案件類型": "民事/刑事/行政/其他",
      "案由": "案件主要爭議點簡述",
      "審級": "一審/二審/三審/更審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院/地方法院/最高法院/行政法院/智慧財產法院/其他",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他",
      "判決主文": "完整判決主文內容 (可選)",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "法官"
        }
      ],
      "檢察官": [ /* 刑事案件可能會有 */
        {
          "姓名": "陳大同",
          "職稱": "檢察官",
          "組織": "臺灣高等法院檢察署",
          "職位": "檢察官"
        }
      ],
      "律師": {
        "原告": [ /* 當事人委任律師資訊 */
          {
            "姓名": "張三",
            "事務所": "XX 律師事務所",
            "組織": "XX 律師事務所",
            "職位": "律師"
          }
        ],
        "被告": [ /* 當事人委任律師資訊 */ ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人/法人",
          "統一編號": "12345678" ,/* 若為法人 */
          "組織": null,          // 當事人所屬組織 (若為自然人，可為 null)
          "職位": null,          // 當事人在組織內的職位 (若為自然人，可為 null)
          "代表人": null         // 若為組織代表人，指向代表的組織 (例如: "ORG-001")
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",     // 當事人所屬組織 (法人)
          "職位": null,          // 法人組織通常無職位
          "代表人": "王五"          // 法人代表人指向自然人 "王五" (假設 "王五" 的 metadata 中有定義 ID)
        }
      ],
      "被告": [ /* 當事人資訊 */ ],
      "關係人": [ /* 其他訴訟關係人 (可選) */ ]
    },
    "法律依據": {
      "法條": [ "民法第 184 條" ],
      "解釋": [ "最高法院 100 年度台上字第 1234 號判例" ] /* (可選) */
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF/DOCX/TXT",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站/法律資料庫/其他",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf" /* (可選) */
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "侵權行為", "車禍"],
      "摘要": "本判決認定被告因過失駕駛...", /* (可選) */
      "相關連結": [ "https://example.com/related_case_law" ], /* (可選) */
      "公開程度": "公開/部分公開/不公開", /* (可選) */
      "備註": "其他需要記錄的備註事項" /* (可選) */
    }
  }
}
```

**3.3.  欄位詳細說明 (Version 2.0)**

| 欄位名稱                                | 資料類型   | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentType`                          | String   | 文件類型，固定為 "判決書"                                              | 標識文件類型                                                                                              | "判決書"                                                             |
| `version`                               | String   | 規格版本號                                                            | 方便規格更新與管理                                                                                            | "2.0"                                                               |
| `metadata`                              | Object   | 主要 Meta data 資訊容器                                                | 結構化組織 Meta data                                                                                       | -                                                                   |
| `metadata.案件資訊`                       | Object   | 案件基本資訊                                                        | 案件識別與分類                                                                                              | -                                                                   |
| `metadata.案件資訊.案件編號`              | String   | 案件編號，例如：法院代碼-年度-字別-案號                               | 唯一識別案件，方便關聯與檢索                                                                                      | "TPH-110-上訴-1234"                                                 |
| `metadata.案件資訊.案件類型`              | String   | 案件類型，例如：民事、刑事、行政等                                     | 案件分類，方便統計分析                                                                                         | "民事訴訟"                                                            |
| `metadata.案件資訊.案由`                  | String   | 案件主要爭議點簡述                                                     | 快速了解案件主題                                                                                              | "損害賠償"                                                             |
| `metadata.案件資訊.審級`                  | String   | 審級，例如：一審、二審、三審、更審                                     | 判決法律位階識別                                                                                             | "二審"                                                               |
| `metadata.案件資訊.年度`                  | Number   | 案件年度                                                            | 時間維度資訊                                                                                              | 2023                                                                |
| `metadata.法院資訊`                       | Object   | 法院相關資訊                                                        | 法院識別與分類                                                                                              | -                                                                   |
| `metadata.法院資訊.法院名稱`              | String   | 法院完整名稱                                                        | 完整法院名稱資訊                                                                                             | "臺灣高等法院"                                                          |
| `metadata.法院資訊.法院層級`              | String   | 法院層級，例如：高等法院、地方法院等                                     | 法院體系層級分類                                                                                             | "高等法院"                                                            |
| `metadata.法院資訊.法院代碼`              | String   | 法院代碼 (若有標準代碼系統)                                            | 簡潔法院識別碼，方便系統間資料交換                                                                                   | "TPH"                                                               |
| `metadata.法院資訊.法院地點`              | String   | 法院所在地點，例如：城市、行政區                                       | 提供更精確的法院地點資訊，支援地點分析與可視化                                                                           | "臺灣台北市", "美國紐約市曼哈頓區"                                                     |
| `metadata.判決資訊`                       | Object   | 判決本身資訊                                                        | 判決結果與參與人員資訊                                                                                         | -                                                                   |
| `metadata.判決資訊.判決日期`              | String (YYYY-MM-DD) | 判決日期                                                            | 標準日期格式，方便日期比較與排序                                                                                      | "2023-10-26"                                                          |
| `metadata.判決資訊.判決結果`              | String   | 判決結果簡述，例如：駁回、有罪、無罪等                                   | 快速了解判決方向                                                                                              | "原告之訴駁回"                                                          |
| `metadata.判決資訊.判決主文`              | String   | 完整判決主文內容 (可選)                                               | 完整記錄判決核心內容，方便檢索與分析 (可根據需求決定是否收錄)                                                               | "原告之訴駁回。訴訟費用由原告負擔。"                                                     |
| `metadata.判決資訊.法官`                  | Array of Object | 法官資訊，包含姓名、職稱、組織、職位 (可選)                                      | 記錄法官資訊，可進行法官分析、組織關係分析                                                                                       | `[{"姓名": "王小明", "職稱": "法官", "組織": "臺灣高等法院", "職位": "庭長"}]`                                          |
| `metadata.判決資訊.法官.組織`              | String   | 法官所屬組織，例如：法院名稱                                                   | 記錄法官所屬組織，方便組織關係分析                                                                                               | "臺灣高等法院"                                                       |
| `metadata.判決資訊.法官.職位`              | String   | 法官在組織內的職位 (可選，若與職稱不同)                                          | 更精確描述法官在組織內的角色                                                                                                   | "院長", "庭長"                                                       |
| `metadata.判決資訊.檢察官`                | Array of Object | 檢察官資訊 (刑事案件可能會有)，包含姓名、職稱、組織、職位 (可選)                           | 記錄檢察官資訊，刑事案件分析、組織關係分析                                                                                     | `[{"姓名": "陳大同", "職稱": "檢察官", "組織": "臺灣高等法院檢察署"}]`                                          |
| `metadata.判決資訊.檢察官.組織`            | String   | 檢察官所屬組織，例如：檢察署名稱                                                 | 記錄檢察官所屬組織，方便組織關係分析                                                                                               | "臺灣高等法院檢察署"                                                   |
| `metadata.判決資訊.檢察官.職位`            | String   | 檢察官在組織內的職位 (可選)                                                    | 更精確描述檢察官在組織內的角色                                                                                                   | "檢察長", "主任檢察官"                                                 |
| `metadata.判決資訊.律師`                  | Object   | 律師資訊，區分原告、被告律師，包含姓名、事務所、組織、職位 (可選)                                 | 記錄律師資訊，方便律師分析、組織關係分析                                                                                       | `{"原告": [{"姓名": "張三", "事務所": "XX 律師事務所", "組織": "XX 律師事務所", "職位": "合夥律師"}], "被告": [...]}` |
| `metadata.判決資訊.律師.原告[].組織`         | String   | 律師所屬組織，例如：律師事務所名稱                                                | 記錄律師所屬組織，方便組織關係分析                                                                                               | "XX 律師事務所"                                                       |
| `metadata.判決資訊.律師.原告[].職位`         | String   | 律師在組織內的職位 (可選)                                                    | 更精確描述律師在組織內的角色                                                                                                   | "合夥律師", "受雇律師"                                                 |
| `metadata.當事人資訊`                     | Object   | 當事人資訊                                                        | 記錄訴訟參與者資訊                                                                                              | -                                                                   |
| `metadata.當事人資訊.原告`               | Array of Object | 原告資訊，包含名稱、類型 (自然人/法人)、統一編號 (法人可選)、組織、職位 (法人可選)、代表人 (法人可選)       | 記錄原告資訊，方便當事人分析、組織關係分析、代表人關係分析                                                                                       | `[{"名稱": "王五", "類型": "自然人", "組織": null, "職位": null}, {"名稱": "ABC 有限公司", "類型": "法人", "統一編號": "98765432", "組織": "ABC 有限公司", "職位": null, "代表人": "王五"}]` |
| `metadata.當事人資訊.原告[].組織`           | String   | 當事人所屬組織 (若為法人)，若為自然人可為 `null`                               | 記錄當事人所屬組織，方便組織關係分析                                                                                               | "ABC 有限公司", null                                                  |
| `metadata.當事人資訊.原告[].職位`           | String   | 當事人在組織內的職位 (若為法人)，若為自然人可為 `null`，法人組織通常無職位               | 更精確描述當事人在組織內的角色 (若適用)                                                                                             | "總經理", null                                                       |
| `metadata.當事人資訊.原告[].代表人`          | String   | 若當事人為組織代表人，指向代表的組織的 ID (例如 "ORG-001")，若非代表人或自然人可為 `null` | 建立自然人與組織的代表關係，方便呈現組織代表人關係                                                                                       | "ORG-001", null                                                       |
| `metadata.當事人資訊.被告`               | Array of Object | 被告資訊 (結構同原告)                                                     | 記錄被告資訊，方便當事人分析、組織關係分析、代表人關係分析                                                                                       | -                                                                   |
| `metadata.當事人資訊.關係人`               | Array of Object | 其他訴訟關係人資訊 (可選)，例如證人、參加人，包含名稱、類型、關係描述                            | 記錄其他關係人資訊，擴展案件參與者資訊                                                                                 | `[{"名稱": "錢七", "類型": "自然人", "關係": "證人"}]`                               |
| `metadata.法律依據`                       | Object   | 判決書引用的法律依據                                                    | 記錄判決法律基礎                                                                                              | -                                                                   |
| `metadata.法律依據.法條`                  | Array of String | 判決書中引用的主要法條                                                    | 方便法律研究與分析                                                                                              | `["民法第 184 條", "刑法第 339 條"]`                                      |
| `metadata.法律依據.解釋`                  | Array of String | 判決書中引用的重要解釋令函或判例 (可選)                                 | 提升判決法律價值分析                                                                                           | `["最高法院 100 年度台上字第 1234 號判例"]`                                |
| `metadata.文件資訊`                       | Object   | 判決書文件本身資訊                                                      | 文件屬性描述                                                                                                | -                                                                   |
| `metadata.文件資訊.語言`                  | String   | 文件語言                                                            | 語言資訊，方便多語言處理                                                                                         | "中文"                                                                |
| `metadata.文件資訊.格式`                  | String   | 文件格式，例如：PDF, DOCX, TXT                                       | 文件格式資訊，方便文件處理                                                                                         | "PDF"                                                                 |
| `metadata.文件資訊.創建日期`              | String (YYYY-MM-DD) | 文件創建日期                                                          | 時間資訊，文件管理                                                                                              | "2023-10-26"                                                          |
| `metadata.文件資訊.修改日期`              | String (YYYY-MM-DD) | 文件最後修改日期 (若有)                                                 | 時間資訊，文件管理                                                                                              | "2023-10-27"                                                          |
| `metadata.文件資訊.文件來源`              | String   | 文件來源，例如：法院網站、法律資料庫等                                     | 追溯文件出處與可信度                                                                                           | "法院網站"                                                             |
| `metadata.文件資訊.檔案名稱`              | String   | 原始檔案名稱 (可選)                                                    | 方便文件管理                                                                                              | "判決書_臺灣高等法院_110上訴1234.pdf"                                       |
| `metadata.其他資訊`                       | Object   | 其他輔助資訊                                                        | 擴展性資訊欄位                                                                                              | -                                                                   |
| `metadata.其他資訊.關鍵字`                  | Array of String | 方便檢索的關鍵字                                                      | 提升檢索效率與準確性                                                                                           | `["損害賠償", "侵權行為", "車禍"]`                                         |
| `metadata.其他資訊.摘要`                  | String   | 判決摘要 (可選)                                                        | 快速了解判決內容                                                                                              | "本判決認定被告因過失駕駛造成原告損害，判決被告應負損害賠償責任。"                                             |
| `metadata.其他資訊.相關連結`              | Array of String | 連結到相關資源 (可選)                                                | 擴展資訊來源，建立關聯                                                                                           | `["https://example.com/related_case_law"]`                                 |
| `metadata.其他資訊.公開程度`              | String   | 判決書的公開程度 (若適用)，例如：公開、部分公開、不公開                         | 判決書公開資訊管理                                                                                             | "公開"                                                                |
| `metadata.其他資訊.備註`                  | String   | 其他需要記錄的備註事項                                                   | 彈性資訊記錄                                                                                              | "本判決為主文摘要版本。"                                                       |

**3.4.  範例 JSON (Version 2.0)**

```json
{
  "documentType": "判決書",
  "version": "2.0",
  "metadata": {
    "案件資訊": {
      "案件編號": "TPH-110-上訴-1234",
      "案件類型": "民事訴訟",
      "案由": "損害賠償",
      "審級": "二審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回",
      "判決主文": "原告之訴駁回。訴訟費用由原告負擔。",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "庭長"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官",
          "組織": "臺灣高等法院"
        }
      ]
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人",
          "組織": null,
          "職位": null
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",
          "職位": null,
          "代表人": "王五" // 假設王五的 ID 為 "王五-001"，這裡可以放 ID 或直接放名稱，視系統設計而定
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人",
          "組織": null,
          "職位": null
        }
      ]
    },
    "法律依據": {
      "法條": [
        "民法第 184 條"
      ]
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf"
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "車禍"],
      "摘要": "本判決認定被告於車禍事故中應負擔過失責任，但原告未能充分舉證損害金額，故駁回原告之訴。",
      "公開程度": "公開"
    }
  }
}
```

**4. 內容 Meta data 規格 (Content Metadata Specification) (Version 2.0)**

**4.1.  目的與設計理由**

內容 Meta data 的目的在於深入挖掘判決書的文本內容，提取關鍵資訊，並將 Meta data 與文本內容建立連結，以支援更精細的判決書分析、人事時地物關聯性分析與可視化應用。

**4.2.  JSON 結構 (Version 2.0)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "2.0",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["關鍵字1", "關鍵字2"],
      "keySentences": [ /* (可選) */
        {
          "text": "描述事實的關鍵句子...",
          "startIndex": 123,
          "endIndex": 456,
          "地點": "XX路與YY路口", // 事件發生地點 (若事實概要中有提及)
          "時間": "民國110年1月1日上午10時許" // 事件發生時間 (若事實概要中有提及)
        }
      ],
      "案例類別": ["類別1", "類別2"],
      "爭議焦點": ["爭議點1", "爭議點2"],
      "相關法條": ["法條1", "法條2"],
      "事件類型": "車禍事故" // 更明確的事件類型
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ /* (可選) */
          {
            "argument": "原告主張的核心論點...",
            "startIndex": 1500,
            "endIndex": 2000
          }
        ]
      },
      "被告主張": { /* ... */ }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": {
      "法律概念": ["法律概念1", "法律概念2"],
      "法律原則": ["法律原則1", "法律原則2"],
      "判決邏輯": [ /* (可選，若能結構化分析更好) */
        {
          "step": "步驟一：分析事實...",
          "startIndex": 3500,
          "endIndex": 4000
        }
      ],
      "引用案例": [ /* (可選) */
        {
          "案件編號": "最高法院-年度-字別-案號",
          "startIndex": 5000,
          "endIndex": 5500
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"]
    },
    "判決結果": {
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他",
      "判決要點": "判決結果的重點摘要",
      "startIndex": 6000,
      "endIndex": 6500
    },
    "其他內容": { /* (可選) */
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**4.3.  欄位詳細說明 (Version 2.0)**

| 欄位名稱                                | 資料類型             | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | ------------------ | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String             | 案件編號，與通用 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                               | String             | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "2.0"                                                                 |
| `contentMetadata`                       | Object             | 內容 Meta data 主要容器                                                 | 結構化組織內容 Meta data                                                                                                             | -                                                                     |
| `contentMetadata.事實概要`                | Object             | 對應判決書的「事實」、「事實及理由」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.事實概要.keywords`       | Array of String    | 事實概要段落的關鍵字詞彙列表                                                    | 快速了解事實概要重點                                                                                                                             | `["車禍", "十字路口", "紅燈", "違規"]`                                     |
| `contentMetadata.事實概要.keySentences`  | Array of Object    | 重要的句子或段落 (可選)，包含 `text` (文本內容), `startIndex`, `endIndex` (文本位置), `地點` (可選), `時間` (可選) | 精確標註事實概要中的重要句子，並連結到文本位置，方便高亮顯示、段落摘要等可視化應用；可選地點和時間資訊，支援時地物分析                                                                     | `[{"text": "被告駕駛汽車行經十字路口時闖紅燈...", "startIndex": 123, "endIndex": 456, "地點": "XX路與YY路口", "時間": "民國110年1月1日上午10時許"}]`                            |
| `contentMetadata.事實概要.keySentences.地點` | String             | 事件發生地點 (若事實概要中有提及)                                    | 提供事件發生地點資訊，支援地點分析與可視化，更完整的時地物資訊                                                                           | "XX路與YY路口", "公司辦公室", "住家"                                                      |
| `contentMetadata.事實概要.keySentences.時間` | String             | 事件發生時間 (若事實概要中有提及)                                    | 提供事件發生時間資訊，支援時間軸分析與可視化，更完整的時地物資訊                                                                           | "民國110年1月1日上午10時許", "2023年10月26日下午3點", "某日晚上"                                                 |
| `contentMetadata.事實概要.案例類別`         | Array of String    | 案件所屬的案例類別，例如：車禍事故、契約糾紛等                                         | 案件分類，方便案例分析                                                                                                                             | `["交通事故", "車禍事故"]`                                               |
| `contentMetadata.事實概要.爭議焦點`         | Array of String    | 案件的主要爭議焦點                                                         | 快速掌握案件爭議點                                                                                                                             | `["過失責任歸屬", "損害賠償範圍"]`                                          |
| `contentMetadata.事實概要.相關法條`         | Array of String    | 此段落中提及的法條 (若與法律依據 metadata 不同，可補充)                                   | 補充事實概要段落中提及的法條資訊                                                                                                   | `["道路交通管理處罰條例第XX條"]`                                          |
| `contentMetadata.事實概要.事件類型`        | String             | 更明確的事件類型描述，例如：車禍事故、契約簽訂、侵權行為                                       | 更精確的事件類型分類，方便事件分析與可視化，有助於事件關聯性分析                                                                           | "車禍事故", "契約糾紛", "職場性騷擾"                                                    |
| `contentMetadata.當事人主張`               | Object             | 對應判決書中原告、被告等當事人的主張段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.當事人主張.原告主張`      | Object             | 原告主張段落                                                                | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.當事人主張.原告主張.keywords` | Array of String    | 原告主張段落的關鍵字詞彙列表                                                    | 快速了解原告主張重點                                                                                                                             | `["醫療費用", "精神撫慰金", "被告應賠償"]`                                 |
| `contentMetadata.當事人主張.原告主張.keyArguments` | Array of Object    | 原告主要論點 (可選)，包含 `argument` (論點內容), `startIndex`, `endIndex` (文本位置)  | 精確標註原告主張的核心論點，並連結到文本位置，方便論點摘要、可視化展示                                                                       | `[{"argument": "原告主張因車禍受傷，醫療費用共計新台幣XX元...", "startIndex": 1500, "endIndex": 2000}]` |
| `contentMetadata.當事人主張.被告主張`      | Object             | 被告主張段落 (結構同 `原告主張`)                                               | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.法院理由`                 | Object             | 對應判決書的「理由」、「判斷理由」等核心段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.法院理由.法律概念`        | Array of String    | 判決理由中使用的重要法律概念，例如：侵權行為、過失責任等                                   | 提取判決書中的法律專業知識，方便法律分析                                                                                               | `["侵權行為", "過失責任", "因果關係"]`                                   |
| `contentMetadata.法院理由.法律原則`        | Array of String    | 判決理由中引用的法律原則，例如：比例原則、誠實信用原則                                   | 提取判決書中的法律原則，方便法律分析                                                                                               | `["過失相抵原則", "損害填補原則"]`                                     |
| `contentMetadata.法院理由.判決邏輯`        | Array of Object    | 法院的判決邏輯或推理過程 (可選，若能結構化分析更好)，包含 `step` (步驟描述), `startIndex`, `endIndex` | 嘗試結構化分析判決的推理過程，方便理解判決思路 (複雜度較高，可選)                                                                        | `[{"step": "法院認為，被告駕駛行為確有過失...", "startIndex": 3500, "endIndex": 4000}, {"step": "然原告主張之損害金額...", "startIndex": 4200, "endIndex": 4700}]` |
| `contentMetadata.法院理由.引用案例`        | Array of Object    | 判決理由中引用的其他案例 (若有)，包含 `案件編號`, `startIndex`, `endIndex`                          | 記錄引用案例，建立案例之間的關聯，方便案例檢索與分析                                                                                     | `[{"案件編號": "最高法院-109-台上-5432", "startIndex": 5000, "endIndex": 5500}]`                                   |
| `contentMetadata.法院理由.關鍵法條`        | Array of String    | 判決理由中關鍵的法條 (可能與法律依據 metadata 相同或更聚焦)                               | 提取判決理由中的關鍵法條，更聚焦於判決理由的法律基礎                                                                                       | `["民法第 192 條", "民法第 193 條"]`                                   |
| `contentMetadata.判決結果`                | Object             | 對應判決書的「主文」、「結論」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.判決結果.判決結果類型`     | String             | 更細緻的判決結果分類，例如：勝訴、敗訴、部分勝訴、駁回、撤銷、變更、其他                              | 更精確的判決結果分類，方便統計分析                                                                                               | "駁回"                                                                |
| `contentMetadata.判決結果.判決要點`        | String             | 判決結果的重點摘要                                                         | 快速了解判決結果核心內容                                                                                                                         | "駁回原告之訴，因原告未能充分舉證損害金額
| 欄位名稱                                | 資料類型   | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `contentMetadata.判決結果.startIndex`     | Number   | 判決結果段落在判決書全文中的起始位置 (字元位置或段落/句子編號)                               | 連結到文本位置，方便快速定位判決結果段落                                                                                             | 6000                                                                |
| `contentMetadata.判決結果.endIndex`       | Number   | 判決結果段落在判決書全文中的結束位置 (字元位置或段落/句子編號)                               | 連結到文本位置，方便快速定位判決結果段落                                                                                             | 6500                                                                |
| `contentMetadata.其他內容`                | Object   | 其他判決書中可能出現的段落，例如「程序事項」、「證據」等 (可選)                                | 擴展性結構，可根據具體判決書內容進行擴展                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項`       | Object   | 程序事項段落 (範例)                                                          | 範例，可根據實際需求定義                                                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項.keywords` | Array of String | 程序事項段落的關鍵字詞彙列表 (範例)                                                   | 範例，可根據實際需求定義                                                                                                                             | `["訴訟費用", "上訴期間", "送達"]`                                     |

**4.4.  位置索引說明 (`startIndex`, `endIndex`)**

* 字元位置 (Character Offset): 建議使用字元位置作為 `startIndex` 和 `endIndex` 的單位。從判決書文本的開頭 (字元索引 0) 開始計算，記錄每個關鍵資訊在文本中的起始和結束字元位置。這種方式最精確，但需要確保文本解析和字元計數的準確性。
* 段落/句子編號 (Paragraph/Sentence Index): 如果處理上更方便，也可以使用段落編號或句子編號來定位。例如，可以先將判決書文本分割成段落或句子，然後記錄關鍵資訊所在的段落或句子編號。這種方式相對簡單，但精確度稍低。

**建議優先使用字元位置索引，以獲得更精確的文本連結。**

**4.5.  範例 JSON (Version 2.0)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "2.0",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [
        {
          "text": "經查，被告駕駛汽車於民國110年1月1日上午10時許，行經本市XX路與YY路口時，不慎闖紅燈，與原告所騎乘之機車發生碰撞，致原告受傷。",
          "startIndex": 150,
          "endIndex": 300,
          "地點": "XX路與YY路口",
          "時間": "民國110年1月1日上午10時許"
        }
      ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"],
      "事件類型": "車禍事故"
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["醫療費用", "精神撫慰金", "被告應賠償"],
        "keyArguments": [
          {
            "argument": "原告主張因本次車禍事故受有醫療費用新台幣5萬元、機車維修費用1萬元、精神撫慰金10萬元等損害，請求被告應賠償共計16萬元。",
            "startIndex": 500,
            "endIndex": 700
          }
        ]
      },
      "被告主張": {
        "keywords": ["已盡注意義務", "原告亦有過失", "賠償金額過高"]
      }
    },
    "法院理由": {
      "法律概念": ["侵權行為", "過失責任", "因果關係"],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [
        {
          "step": "法院審酌相關證據，認定被告駕駛行為確有違反交通規則之過失。",
          "startIndex": 1000,
          "endIndex": 1200
        },
        {
          "step": "然原告主張之精神撫慰金金額過高，法院酌減為5萬元。",
          "startIndex": 1300,
          "endIndex": 1500
        }
      ],
      "引用案例": [],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"]
    },
    "判決結果": {
      "判決結果類型": "部分勝訴",
      "判決要點": "判決被告應賠償原告醫療費用、機車維修費用及部分精神撫慰金，共計新台幣11萬元。",
      "startIndex": 1800,
      "endIndex": 2000
    }
  }
}
```

**5. 可視化 Meta data 規格 (Visualization Metadata Specification) (Version 2.0)**

**5.1. 目的與設計理由**

可視化 Meta data 的目的在於**獨立**描述判決書可視化的相關設定與資訊，**將可視化邏輯與資料結構解耦**。這樣可以更靈活地調整可視化呈現方式，而無需修改通用 Meta data 和內容 Meta data。設計理由包含：

* 可視化邏輯與資料分離：將可視化相關的設定 (例如：顏色、圖表類型、樣式) 獨立出來，方便維護和更新。
* 靈活調整可視化：使用者可以根據不同的需求，修改可視化 Meta data，快速調整可視化呈現效果，例如更換圖表類型、調整顏色配置、增加/刪減可視化元件。
* 客製化可視化樣式：針對不同的應用場景或使用者群體，可以設計不同的可視化 Meta data，提供客製化的可視化樣式。
* 降低維護成本：當可視化需求變更時，只需修改可視化 Meta data，無需改動核心的資料 Meta data 結構和提取邏輯。

**5.2. JSON 結構 (Version 2.0)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用/內容 Meta data 的案件編號對應
  "version": "2.0",
  "visualizationMetadata": {
    "通用設定": {
      "主題色系": ["#007bff", "#6610f2", "#6f42c1", "..."], //  可自訂主題色系
      "字體": "微軟正黑體",
      "圖表樣式": "簡潔風" //  例如：簡潔風、科技風、復古風
      // ... 其他通用可視化設定
    },
    "可視化元件": [
      {
        "元件類型": "時間軸",
        "資料來源": "contentMetadata.事實概要.keySentences", //  指向資料來源的路徑
        "時間欄位": "時間", //  指定時間軸的資料欄位
        "文本欄位": "text", //  指定時間軸上顯示的文本欄位
        "樣式設定": {
          "顏色": "#007bff",
          "標記形狀": "圓形",
          // ... 時間軸元件的樣式設定
        }
      },
      {
        "元件類型": "地圖",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "地點欄位": "地點",
        "樣式設定": {
          "標記顏色": "#6610f2",
          "標記大小": "中等",
          "地圖底圖": "OpenStreetMap"
          // ... 地圖元件的樣式設定
        }
      },
      {
        "元件類型": "人物關係網絡",
        "資料來源": ["generalMetadata.判決資訊.法官", "generalMetadata.判決資訊.檢察官", "generalMetadata.判決資訊.律師", "generalMetadata.當事人資訊"],
        "節點欄位": "姓名",
        "關係類型": ["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"], //  定義關係類型
        "樣式設定": {
          "節點顏色": {"法官": "#28a745", "檢察官": "#dc3545", "律師": "#ffc107", "當事人": "#17a2b8"}, //  不同節點類型使用不同顏色
          "邊線樣式": "虛線",
          // ... 人物關係網絡元件的樣式設定
        }
      },
      {
        "元件類型": "關鍵字詞雲",
        "資料來源": "contentMetadata.事實概要.keywords",
        "樣式設定": {
          "字體大小範圍": [12, 48],
          "顏色": "#6f42c1"
          // ... 詞雲元件的樣式設定
        }
      }
      // ... 其他可視化元件定義
    ],
    "儀表板配置": {
      "版面配置": "Grid", //  例如：Grid, Flexbox, 流式佈局
      "元件排列": [ //  定義元件在儀表板中的排列順序和位置
        {"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]}, //  元件索引對應 "可視化元件" 陣列的索引，位置和尺寸可以根據 Grid 系統或佈局方式定義
        {"元件索引": 1, "位置": [0, 4], "尺寸": [6, 4]},
        {"元件索引": 2, "位置": [6, 0], "尺寸": [6, 8]},
        {"元件索引": 3, "位置": [0, 8], "尺寸": [12, 4]}
      ],
      // ... 儀表板整體配置
    }
  }
}
```

**5.3. 欄位詳細說明 (Version 2.0)**

| 欄位名稱                                | 資料類型         | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String         | 案件編號，與通用/內容 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用/內容 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                               | String         | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "2.0"                                                                 |
| `visualizationMetadata`               | Object         | 可視化 Meta data 主要容器                                               | 結構化組織可視化 Meta data                                                                                                             | -                                                                     |
| `visualizationMetadata.通用設定`          | Object         | 通用的可視化設定，例如主題色系、字體等                                           | 提供統一的可視化風格設定                                                                                                                         | -                                                                     |
| `visualizationMetadata.通用設定.主題色系`    | Array of String | 主題色系，顏色代碼列表                                                         | 自訂主題色系，統一視覺風格                                                                                                                         | `["#007bff", "#6610f2", "#6f42c1"]`                                     |
| `visualizationMetadata.通用設定.字體`      | String         | 字體名稱                                                                | 設定全局字體                                                                                                                               | "微軟正黑體"                                                             |
| `visualizationMetadata.通用設定.圖表樣式`    | String         | 圖表樣式風格描述，例如：簡潔風、科技風                                          | 快速切換整體圖表風格                                                                                                                         | "簡潔風"                                                                |
| `visualizationMetadata.可視化元件`        | Array of Object | 可視化元件定義列表，每個元素定義一個可視化元件                                      | 定義儀表板中包含的可視化元件，靈活組合                                                                                                   | -                                                                     |
| `visualizationMetadata.可視化元件[].元件類型` | String         | 元件類型，例如：時間軸、地圖、人物關係網絡、詞雲等                                   | 標識元件類型，決定使用哪種可視化圖表                                                                                                   | "時間軸", "地圖", "人物關係網絡", "關鍵字詞雲"                                                  |
| `visualizationMetadata.可視化元件[].資料來源` | String / Array | 資料來源，指向通用 Meta data 或 內容 Meta data 的資料路徑 (使用 JSON Path 或類似語法) | 指定元件要使用哪個 Meta data 的哪個部分資料，靈活配置資料來源                                                                                   | "contentMetadata.事實概要.keySentences", ["generalMetadata.判決資訊.法官", "generalMetadata.當事人資訊"]                                 |
| `visualizationMetadata.可視化元件[].時間欄位` | String         | 時間欄位名稱 (若元件類型為時間軸)                                           | 指定時間軸元件的時間資料欄位                                                                                                                     | "時間"                                                                |
| `visualizationMetadata.可視化元件[].文本欄位` | String         | 文本欄位名稱 (若元件類型需要顯示文本)                                           | 指定元件需要顯示的文本資料欄位                                                                                                                     | "text"                                                                |
| `visualizationMetadata.可視化元件[].地點欄位` | String         | 地點欄位名稱 (若元件類型為地圖)                                             | 指定地圖元件的地點資料欄位                                                                                                                     | "地點"                                                                |
| `visualizationMetadata.可視化元件[].關係類型` | Array of String | 關係類型列表 (若元件類型為人物關係網絡)，例如：["法官-案件", "律師-當事人"]                       | 定義人物關係網絡中要呈現的關係類型，方便客製化關係圖                                                                                   | `["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"]`                                 |
| `visualizationMetadata.可視化元件[].樣式設定` | Object         | 元件的樣式設定，例如顏色、字體大小、標記形狀等                                        | 細緻控制每個元件的視覺樣式，客製化可視化效果                                                                                             | -                                                                     |
| `visualizationMetadata.儀表板配置`        | Object         | 儀表板整體佈局配置                                                         | 定義儀表板的版面結構和元件排列方式                                                                                                 | -                                                                     |
| `visualizationMetadata.儀表板配置.版面配置`   | String         | 版面配置方式，例如：Grid, Flexbox, 流式佈局                                      | 選擇不同的版面配置方式，適應不同螢幕尺寸和佈局需求                                                                                       | "Grid", "Flexbox"                                                        |
| `visualizationMetadata.儀表板配置.元件排列`   | Array of Object | 元件排列規則列表，定義每個元件在儀表板中的位置和尺寸                                    | 精確控制元件在儀表板中的位置和尺寸，打造專業儀表板                                                                                       | `[{"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]}, {"元件索引": 1, "位置": [6, 0], "尺寸": [6, 4]}]` |

**5.4. 範例 JSON (Version 2.0)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "2.0",
  "visualizationMetadata": {
    "通用設定": {
      "主題色系": ["#007bff", "#6c757d", "#28a745", "#dc3545", "#ffc107", "#17a2b8", "#6610f2", "#6f42c1"],
      "字體": "微軟正黑體",
      "圖表樣式": "簡潔風"
    },
    "可視化元件": [
      {
        "元件類型": "時間軸",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "時間欄位": "時間",
        "文本欄位": "text",
        "樣式設定": {
          "顏色": "#007bff",
          "標記形狀": "圓形"
        }
      },
      {
        "元件類型": "地圖",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "地點欄位": "地點",
        "樣式設定": {
          "標記顏色": "#6c757d",
          "標記大小": "中等",
          "地圖底圖": "OpenStreetMap"
        }
      },
      {
        "元件類型": "人物關係網絡",
        "資料來源": ["generalMetadata.判決資訊.法官", "generalMetadata.判決資訊.檢察官", "generalMetadata.判決資訊.律師", "generalMetadata.當事人資訊"],
        "節點欄位": "姓名",
        "關係類型": ["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"],
        "樣式設定": {
          "節點顏色": {
            "法官": "#28a745",
            "檢察官": "#dc3545",
            "律師": "#ffc107",
            "當事人": "#17a2b8"
          },
          "邊線樣式": "虛線"
        }
      },
      {
        "元件類型": "關鍵字詞雲",
        "資料來源": "contentMetadata.事實概要.keywords",
        "樣式設定": {
          "字體大小範圍": [12, 48],
          "顏色": "#6f42c1"
        }
      }
    ],
    "儀表板配置": {
      "版面配置": "Grid",
      "元件排列": [
        {"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]},
        {"元件索引": 1, "位置": [0, 4], "尺寸": [6, 4]},
        {"元件索引": 2, "位置": [6, 0], "尺寸": [6, 8]},
        {"元件索引": 3, "位置": [0, 8], "尺寸": [12, 4]}
      ]
    }
  }
}
```

**6. Meta data 的關聯與使用 (Version 2.0)**

* **關聯方式：** 通用 Meta data、內容 Meta data 和 可視化 Meta data 都通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯.
* **使用場景：**
    * 判決書檢索與篩選：使用通用 Meta data 進行快速檢索與篩選。
    * 判決書可視化：
        * 使用通用 Meta data 和 內容 Meta data 提供可視化所需的資料。
        * 使用可視化 Meta data 定義可視化元件的類型、資料來源、樣式設定、儀表板佈局等。
        * 可靈活切換不同的可視化 Meta data，快速更換可視化主題和樣式，而無需重新提取資料或修改程式碼。
        * 可視化應用程式根據可視化 Meta data 的定義，動態生成可視化儀表板。
    * 法律知識圖譜建構：利用 Meta data 中的法律依據、引用案例、法律概念等資訊建構法律知識圖譜。
    * LLM 應用：將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統、人事時地物關係抽取與分析等應用。
    * 人事時地物關聯性可視化應用範例： （與 Version 1.1 相同，但可視化設定由可視化 Meta data 控制）
        * 時間軸可視化： 可透過可視化 Meta data 設定時間軸的樣式、顏色、資料來源等。
        * 地圖可視化： 可透過可視化 Meta data 設定地圖的標記樣式、地圖底圖、資料來源等。
        * 人物關係網絡： 可透過可視化 Meta data 設定節點顏色、邊線樣式、關係類型、資料來源等，並可利用 `當事人資訊.原告[].代表人` 等欄位呈現組織代表關係。
        * 事件流程圖： 可透過可視化 Meta data 定義流程圖的節點樣式、連接線樣式、資料來源等。
        * 綜合性儀表板： 透過可視化 Meta data 的儀表板配置，靈活調整儀表板佈局和元件排列。

**7. 規格的未來擴展 (Version 2.0)**

* 更細緻的段落劃分：可以根據判決書的實際結構，劃分更細緻的段落，例如將「法院理由」再細分為「法律適用」、「事實認定」、「證據判斷」等子段落。
* 加入更多資訊類型：例如可以加入「證據類型」、「訴訟請求」、「賠償金額」、更精確的地理位置座標 (經緯度) 等更具體的資訊。
* 多語言支援：考慮支援多語言的 Meta data 規格，以處理不同語言的判決書。
* 本体 (Ontology) 標準化：未來可以朝向更標準化的法律本体方向發展，例如使用法律本体標準來描述案件類型、法律概念等，提升 Meta data 的互操作性和語義明確性。
* 更豐富的可視化元件：未來可以擴展可視化 Meta data，支援更多種類的可視化元件，例如：表格、數字卡片、雷達圖、桑基圖等。
* 互動式可視化設定：可以加入互動式可視化設定，例如：篩選器、鑽取功能、動態更新等，讓使用者可以更深入地探索判決書資料。
* 可視化範本庫：建立可視化 Meta data 範本庫，提供不同主題和樣式的可視化範本，方便使用者快速套用和客製化。

**8. 結論 (Version 2.0)**

本規格書 (Version 2.0) 提供了更完善的三種判決書 Meta data 設計規格：通用 Meta data、內容 Meta data 和 可視化 Meta data。 可視化 Meta data 的獨立設計，使得可視化應用更具彈性和可維護性。同時，組織代表人特性的加入，也豐富了人事關係可視化的可能性。 透過遵循本規格書，可以更有效地提升判決書資料的價值，並促進法律科技在可視化分析等方面的發展。

---

**請注意：**

* 本規格書為 Version 2.0 (通用 Meta data, 內容 Meta data, 可視化 Meta data)。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 在實際應用中，Meta data 的提取可能需要結合 OCR 技術、自然語言處理 (NLP) 技術以及人工標註。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的三種 JSON 結構和欄位說明進行解析和資料提取，並特別指示 LLM 嘗試提取組織代表人關係，以及針對可視化 Meta data 的使用方式進行理解。

希望這份 Version 2.0 規格書能幫助您順利進行練習！
## Q2.3-刪除 startIndex, endIndex 欄位 2.1
- M::
- Q::Q2.3:請根據以下要求更新規格
	- 請刪除 startIndex, endIndex 欄位，因為只要用字串比對就能知道在哪裡，而且 LLM 取得的 index 可能也不準
- A::好的，根據您的要求，我將從 Content Meta data 規格中刪除 `startIndex` 和 `endIndex` 欄位，並更新規格書版本至 2.1。以下為更新後的規格書：

**判決書 Meta Data 規格書 (Version 2.1)**

**1.  簡介**

本規格書旨在定義判決書的三種 Meta data 格式，用於結構化地描述判決書的資訊，以利於判決書的檢索、分析、人事時地物關聯性可視化及其他應用。本規格書包含三種 Meta data 格式，版本皆為 2.1：

1.  **通用 Meta data (General Metadata) (Version 2.1):** 描述判決書的基礎資訊，著重於文件層級描述。(版本號更新為 2.1，但規格內容與 Version 2.0 相同)
2.  **內容 Meta data (Content Metadata) (Version 2.1):** 描述判決書的內容細節，著重於文本內容結構化與關鍵資訊提取。（已移除 `startIndex`, `endIndex` 欄位）
3.  **可視化 Meta data (Visualization Metadata) (Version 2.1):**  獨立描述可視化相關設定與資訊，方便靈活調整可視化呈現方式。(版本號更新為 2.1，但規格內容與 Version 2.0 相同)

這三種 Meta data 格式可以獨立使用，也可以結合使用。結合使用時，透過 **案件編號 (documentId 或 案件資訊.案件編號)** 進行關聯。

**2.  目標讀者**

* 開發人員：負責開發判決書解析、Meta data 提取、資料庫儲存、人事時地物關聯性可視化應用等系統的工程師。
* 語言模型 (LLM)：用於訓練或指示 LLM 按照本規格解析判決書，提取 Meta data。
* 法律研究人員、資料分析師：使用 Meta data 進行法律研究、案例分析、數據統計、人事時地物關聯性分析等專業人士。

**3.  通用 Meta data 規格 (General Metadata Specification) (Version 2.1)**

**3.1.  目的與設計理由**

（與 Version 2.0 相同）

**3.2.  JSON 結構 (Version 2.1)**

（與 Version 2.0 相同，結構不變，版本號更新為 2.1）

```json
{
  "documentType": "判決書",
  "version": "2.1",
  "metadata": {
    "案件資訊": { ... },
    "法院資訊": { ... },
    "判決資訊": { ... },
    "當事人資訊": { ... },
    "法律依據": { ... },
    "文件資訊": { ... },
    "其他資訊": { ... }
  }
}
```

**3.3.  欄位詳細說明 (Version 2.1)**

（與 Version 2.0 相同，欄位說明不變，版本號更新為 2.1）

**3.4.  範例 JSON (Version 2.1)**

（與 Version 2.0 相同，範例 JSON 不變，版本號更新為 2.1）

**4. 內容 Meta data 規格 (Content Metadata Specification) (Version 2.1)**

**4.1.  目的與設計理由**

內容 Meta data 的目的在於深入挖掘判決書的文本內容，提取關鍵資訊，並將 Meta data 與判決書文本內容建立關聯，以支援更精細的判決書分析、人事時地物關聯性分析與可視化應用。

**4.2.  JSON 結構 (Version 2.1)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "2.1",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["關鍵字1", "關鍵字2"],
      "keySentences": [ /* (可選) */
        {
          "text": "描述事實的關鍵句子...",
          "地點": "XX路與YY路口", // 事件發生地點 (若事實概要中有提及)
          "時間": "民國110年1月1日上午10時許" // 事件發生時間 (若事實概要中有提及)
        }
      ],
      "案例類別": ["類別1", "類別2"],
      "爭議焦點": ["爭議點1", "爭議點2"],
      "相關法條": ["法條1", "法條2"],
      "事件類型": "車禍事故" // 更明確的事件類型
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ /* (可選) */
          {
            "argument": "原告主張的核心論點..."
          }
        ]
      },
      "被告主張": { /* ... */ }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": {
      "法律概念": ["法律概念1", "法律概念2"],
      "法律原則": ["法律原則1", "法律原則2"],
      "判決邏輯": [ /* (可選，若能結構化分析更好) */
        {
          "step": "步驟一：分析事實..."
        }
      ],
      "引用案例": [ /* (可選) */
        {
          "案件編號": "最高法院-年度-字別-案號"
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"]
    },
    "判決結果": {
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他",
      "判決要點": "判決結果的重點摘要"
    },
    "其他內容": { /* (可選) */
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**4.3.  欄位詳細說明 (Version 2.1)**

| 欄位名稱                                | 資料類型             | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | ------------------ | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String             | 案件編號，與通用 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                               | String             | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "2.1"                                                                 |
| `contentMetadata`                       | Object             | 內容 Meta data 主要容器                                                 | 結構化組織內容 Meta data                                                                                                             | -                                                                     |
| `contentMetadata.事實概要`                | Object             | 對應判決書的「事實」、「事實及理由」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.事實概要.keywords`       | Array of String    | 事實概要段落的關鍵字詞彙列表                                                    | 快速了解事實概要重點                                                                                                                             | `["車禍", "十字路口", "紅燈", "違規"]`                                     |
| `contentMetadata.事實概要.keySentences`  | Array of Object    | 重要的句子或段落 (可選)，包含 `text` (文本內容), `地點` (可選), `時間` (可選)       | 精確標註事實概要中的重要句子，方便段落摘要等可視化應用；可選地點和時間資訊，支援時地物分析，**可透過字串比對在判決書文本中定位句子**                                                                     | `[{"text": "被告駕駛汽車行經十字路口時闖紅燈...", "地點": "XX路與YY路口", "時間": "民國110年1月1日上午10時許"}]`                            |
| `contentMetadata.事實概要.keySentences.地點` | String             | 事件發生地點 (若事實概要中有提及)                                    | 提供事件發生地點資訊，支援地點分析與可視化，更完整的時地物資訊                                                                           | "XX路與YY路口", "公司辦公室", "住家"                                                      |
| `contentMetadata.事實概要.keySentences.時間` | String             | 事件發生時間 (若事實概要中有提及)                                    | 提供事件發生時間資訊，支援時間軸分析與可視化，更完整的時地物資訊                                                                           | "民國110年1月1日上午10時許", "2023年10月26日下午3點", "某日晚上"                                                 |
| `contentMetadata.事實概要.案例類別`         | Array of String    | 案件所屬的案例類別，例如：車禍事故、契約糾紛等                                         | 案件分類，方便案例分析                                                                                                                             | `["交通事故", "車禍事故"]`                                               |
| `contentMetadata.事實概要.爭議焦點`         | Array of String    | 案件的主要爭議焦點                                                         | 快速掌握案件爭議點                                                                                                                             | `["過失責任歸屬", "損害賠償範圍"]`                                          |
| `contentMetadata.事實概要.相關法條`         | Array of String    | 此段落中提及的法條 (若與法律依據 metadata 不同，可補充)                                   | 補充事實概要段落中提及的法條資訊                                                                                                   | `["道路交通管理處罰條例第XX條"]`                                          |
| `contentMetadata.事實概要.事件類型`        | String             | 更明確的事件類型描述，例如：車禍事故、契約簽訂、侵權行為                                       | 更精確的事件類型分類，方便事件分析與可視化，有助於事件關聯性分析                                                                           | "車禍事故", "契約糾紛", "職場性騷擾"                                                    |
| `contentMetadata.當事人主張`               | Object             | 對應判決書中原告、被告等當事人的主張段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.當事人主張.原告主張`      | Object             | 原告主張段落                                                                | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.當事人主張.原告主張.keywords` | Array of String    | 原告主張段落的關鍵字詞彙列表                                                    | 快速了解原告主張重點                                                                                                                             | `["醫療費用", "精神撫慰金", "被告應賠償"]`                                 |
| `contentMetadata.當事人主張.原告主張.keyArguments` | Array of Object    | 原告主要論點 (可選)，包含 `argument` (論點內容)                                        | 精確標註原告主張的核心論點，方便論點摘要、可視化展示，**可透過字串比對在判決書文本中定位論點**                                                                       | `[{"argument": "原告主張因車禍受傷，醫療費用共計新台幣XX元..."}]` |
| `contentMetadata.當事人主張.被告主張`      | Object             | 被告主張段落 (結構同 `原告主張`)                                               | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.法院理由`                 | Object             | 對應判決書的「理由」、「判斷理由」等核心段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.法院理由.法律概念`        | Array of String    | 判決理由中使用的重要法律概念，例如：侵權行為、過失責任等                                   | 提取判決書中的法律專業知識，方便法律分析                                                                                               | `["侵權行為", "過失責任", "因果關係"]`                                   |
| `contentMetadata.法院理由.法律原則`        | Array of String    | 判決理由中引用的法律原則，例如：比例原則、誠實信用原則                                   | 提取判決書中的法律原則，方便法律分析                                                                                               | `["過失相抵原則", "損害填補原則"]`                                     |
| `contentMetadata.法院理由.判決邏輯`        | Array of Object    | 法院的判決邏輯或推理過程 (可選，若能結構化分析更好)，包含 `step` (步驟描述)                       | 嘗試結構化分析判決的推理過程，方便理解判決思路 (複雜度較高，可選)，**可透過字串比對在判決書文本中定位步驟**                                                                        | `[{"step": "法院審酌相關證據，認定被告駕駛行為確有過失..."}]` |
| `contentMetadata.法院理由.引用案例`        | Array of Object    | 判決理由中引用的其他案例 (若有)，包含 `案件編號`                                          | 記錄引用案例，建立案例之間的關聯，方便案例檢索與分析                                                                                     | `[{"案件編號": "最高法院-109-台上-5432"}]`                                   |
| `contentMetadata.法院理由.關鍵法條`        | Array of String    | 判決理由中關鍵的法條 (可能與法律依據 metadata 相同或更聚焦)                               | 提取判決理由中的關鍵法條，更聚焦於判決理由的法律基礎                                                                                       | `["民法第 192 條", "民法第 193 條"]`                                   |
| `contentMetadata.判決結果`                | Object             | 對應判決書的「主文」、「結論」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.判決結果.判決結果類型`     | String             | 更細緻的判決結果分類，例如：勝訴、敗訴、部分勝訴、駁回、撤銷、變更、其他                              | 更精確的判決結果分類，方便統計分析                                                                                               | "駁回"                                                                |
| `contentMetadata.判決結果.判決要點`        | String             | 判決結果的重點摘要                                                         | 快速了解判決結果核心內容                                                                                                                         | "駁回原告之訴，因原告未能充分舉證損害金額。"                                               |
| `contentMetadata.其他內容`                | Object             | 其他判決書中可能出現的段落，例如「程序事項」、「證據」等 (可選)                                | 擴展性結構，可根據具體判決書內容進行擴展                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項`       | Object             | 程序事項段落 (範例)                                                          | 範例，可根據實際需求定義                                                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項.keywords` | Array of String | 程序事項段落的關鍵字詞彙列表 (範例)                                                   | 範例，可根據實際需求定義                                                                                                                             | `["訴訟費用", "上訴期間", "送達"]`                                     |

**4.4.  位置索引說明**

**已移除 `startIndex` 和 `endIndex` 欄位。**  若需要將 Meta data 與判決書文本內容連結，建議使用字串比對的方式，例如，使用 `keySentences` 或 `keyArguments` 中的 `text` 或 `argument` 欄位值，在原始判決書文本中進行搜尋比對，以定位相關的文本段落。

**4.5.  範例 JSON (Version 2.1)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "2.1",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [
        {
          "text": "經查，被告駕駛汽車於民國110年1月1日上午10時許，行經本市XX路與YY路口時，不慎闖紅燈，與原告所騎乘之機車發生碰撞，致原告受傷。",
          "地點": "XX路與YY路口",
          "時間": "民國110年1月1日上午10時許"
        }
      ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"],
      "事件類型": "車禍事故"
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["醫療費用", "精神撫慰金", "被告應賠償"],
        "keyArguments": [
          {
            "argument": "原告主張因本次車禍事故受有醫療費用新台幣5萬元、機車維修費用1萬元、精神撫慰金10萬元等損害，請求被告應賠償共計16萬元。"
          }
        ]
      },
      "被告主張": {
        "keywords": ["已盡注意義務", "原告亦有過失", "賠償金額過高"]
      }
    },
    "法院理由": {
      "法律概念": ["侵權行為", "過失責任", "因果關係"],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [
        {
          "step": "法院審酌相關證據，認定被告駕駛行為確有違反交通規則之過失。"
        },
        {
          "step": "然原告主張之精神撫慰金金額過高，法院酌減為5萬元。"
        }
      ],
      "引用案例": [],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"]
    },
    "判決結果": {
      "判決結果類型": "部分勝訴",
      "判決要點": "判決被告應賠償原告醫療費用、機車維修費用及部分精神撫慰金，共計新台幣11萬元。"
    }
  }
}
```

**6. 可視化 Meta data 規格 (Visualization Metadata Specification) (Version 2.1)**

**6.1. 目的與設計理由**

（與 Version 2.0 相同，版本號更新為 2.1）

**6.2. JSON 結構 (Version 2.1)**

（與 Version 2.0 相同，結構不變，版本號更新為 2.1）

**6.3. 欄位詳細說明 (Version 2.1)**

（與 Version 2.0 相同，欄位說明不變，版本號更新為 2.1）

**6.4. 範例 JSON (Version 2.1)**

（與 Version 2.0 相同，範例 JSON 不變，版本號更新為 2.1）

**7. Meta data 的關聯與使用 (Version 2.1)**

* **關聯方式：** 通用 Meta data、內容 Meta data 和 可視化 Meta data 都通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯。
* **使用場景：**
    * 判決書檢索與篩選：使用通用 Meta data 進行快速檢索與篩選。
    * 判決書可視化：
        * 使用通用 Meta data 和 內容 Meta data 提供可視化所需的資料。
        * 使用可視化 Meta data 定義可視化元件的類型、資料來源、樣式設定、儀表板佈局等。
        * 可靈活切換不同的可視化 Meta data，快速更換可視化主題和樣式，而無需重新提取資料或修改程式碼。
        * 可視化應用程式根據可視化 Meta data 的定義，動態生成可視化儀表板。
        * **文本定位方式變更：**  由於移除了 `startIndex` 和 `endIndex` 欄位，可視化應用程式需要使用字串比對的方式，例如使用 `keySentences` 或 `keyArguments` 中的文本內容，在原始判決書文本中進行搜尋比對，以高亮或定位相關的文本段落。
    * 法律知識圖譜建構：利用 Meta data 中的法律依據、引用案例、法律概念等資訊建構法律知識圖譜。
    * LLM 應用：將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統、人事時地物關係抽取與分析等應用。
    * 人事時地物關聯性可視化應用範例： （與 Version 2.0 相同，但可視化設定由可視化 Meta data 控制，文本定位方式變更為字串比對）
        * 時間軸可視化： 可透過可視化 Meta data 設定時間軸的樣式、顏色、資料來源等。
        * 地圖可視化： 可透過可視化 Meta data 設定地圖的標記樣式、地圖底圖、資料來源等。
        * 人物關係網絡： 可透過可視化 Meta data 設定節點顏色、邊線樣式、關係類型、資料來源等，並可利用 `當事人資訊.原告[].代表人` 等欄位呈現組織代表關係。
        * 事件流程圖： 可透過可視化 Meta data 定義流程圖的節點樣式、連接線樣式、資料來源等。
        * 綜合性儀表板： 透過可視化 Meta data 的儀表板配置，靈活調整儀表板佈局和元件排列。

**8. 規格的未來擴展 (Version 2.1)**

（與 Version 2.0 相同，版本號更新為 2.1）

**9. 結論 (Version 2.1)**

本規格書 (Version 2.1) 提供了更簡潔且彈性更高的判決書 Meta data 設計規格。移除了 `startIndex` 和 `endIndex` 欄位，簡化了 Content Meta data 結構，並改為使用字串比對方式進行文本定位。可視化 Meta data 的獨立設計，以及組織代表人特性的加入，持續強化了可視化應用的彈性和功能。 透過遵循本規格書，可以更有效率地運用判決書資料，並促進法律科技在可視化分析等方面的發展。

---

**請注意：**

* 本規格書為 Version 2.1 (通用 Meta data, 內容 Meta data, 可視化 Meta data)。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 在實際應用中，Meta data 的提取可能需要結合 OCR 技術、自然語言處理 (NLP) 技術以及人工標註。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的三種 JSON 結構和欄位說明進行解析和資料提取，並特別指示 LLM 理解已移除 `startIndex` 和 `endIndex` 欄位，以及文本定位方式改為字串比對。

希望 Version 2.1 規格書更符合您的實際練習需求！ 移除 index 欄位後，規格更為簡潔，也更符合您希望使用字串比對的策略。

## Q2.4-實際練習看看 2.1
- M::
- Q::Q2.4:請將目前的規格書，完整輸出，我打算用來實際練習看看
- A::好的，這是判決書 Meta Data 規格書 Version 2.1 的完整輸出，包含通用 Meta data、內容 Meta data 及可視化 Meta data 的完整規格。

**判決書 Meta Data 規格書 (Version 2.1)**

**1.  簡介**

本規格書旨在定義判決書的三種 Meta data 格式，用於結構化地描述判決書的資訊，以利於判決書的檢索、分析、人事時地物關聯性可視化及其他應用。本規格書包含三種 Meta data 格式，版本皆為 2.1：

1.  **通用 Meta data (General Metadata) (Version 2.1):** 描述判決書的基礎資訊，著重於文件層級描述。
2.  **內容 Meta data (Content Metadata) (Version 2.1):** 描述判決書的內容細節，著重於文本內容結構化與關鍵資訊提取。（已移除 `startIndex`, `endIndex` 欄位）
3.  **可視化 Meta data (Visualization Metadata) (Version 2.1):**  獨立描述可視化相關設定與資訊，方便靈活調整可視化呈現方式。

這三種 Meta data 格式可以獨立使用，也可以結合使用。結合使用時，透過 **案件編號 (documentId 或 案件資訊.案件編號)** 進行關聯。

**2.  目標讀者**

* 開發人員：負責開發判決書解析、Meta data 提取、資料庫儲存、人事時地物關聯性可視化應用等系統的工程師。
* 語言模型 (LLM)：用於訓練或指示 LLM 按照本規格解析判決書，提取 Meta data。
* 法律研究人員、資料分析師：使用 Meta data 進行法律研究、案例分析、數據統計、人事時地物關聯性分析等專業人士。

**3.  通用 Meta data 規格 (General Metadata Specification) (Version 2.1)**

**3.1.  目的與設計理由**

通用 Meta data 的目的在於提供判決書的概括性描述，方便使用者快速了解判決書的基本資訊，並作為判決書檢索、分類、管理、以及初步的人事時地物分析的基礎。設計理由包含：

* 文件識別與管理：案件編號、法院資訊、文件資訊等欄位，有助於唯一識別判決書，並進行有效的管理和歸檔。
* 快速資訊概覽：案件類型、案由、審級、判決結果等欄位，讓使用者在不細讀判決書全文的情況下，快速掌握案件的核心資訊。
* 資料庫索引與檢索：這些 Meta data 欄位可作為資料庫的索引，方便使用者根據不同條件 (例如法院、案件類型、判決日期) 檢索判決書。
* 跨系統資料交換：標準化的 Meta data 格式，有利於不同法律資料系統之間的資料交換與整合。
* 初步人事時地物分析：法院資訊 (地點)、判決日期 (時間)、當事人/法官/檢察官/律師 (人物)、案件類型/案由 (事件) 等欄位，可初步支援人事時地物的關聯性分析。
* 組織代表人資訊：在當事人資訊中加入組織代表人的描述，方便呈現個人與組織的關係。

**3.2.  JSON 結構 (Version 2.1)**

```json
{
  "documentType": "判決書",
  "version": "2.1",
  "metadata": {
    "案件資訊": {
      "案件編號": "法院代碼-年度-字別-案號",
      "案件類型": "民事/刑事/行政/其他",
      "案由": "案件主要爭議點簡述",
      "審級": "一審/二審/三審/更審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院/地方法院/最高法院/行政法院/智慧財產法院/其他",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他",
      "判決主文": "完整判決主文內容 (可選)",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "法官"
        }
      ],
      "檢察官": [ /* 刑事案件可能會有 */
        {
          "姓名": "陳大同",
          "職稱": "檢察官",
          "組織": "臺灣高等法院檢察署",
          "職位": "檢察官"
        }
      ],
      "律師": {
        "原告": [ /* 當事人委任律師資訊 */
          {
            "姓名": "張三",
            "事務所": "XX 律師事務所",
            "組織": "XX 律師事務所",
            "職位": "律師"
          }
        ],
        "被告": [ /* 當事人委任律師資訊 */ ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人/法人",
          "統一編號": "12345678" ,/* 若為法人 */
          "組織": null,          // 當事人所屬組織 (若為自然人，可為 null)
          "職位": null,          // 當事人在組織內的職位 (若為自然人，可為 null)
          "代表人": null         // 若為組織代表人，指向代表的組織 (例如: "ORG-001")
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",     // 當事人所屬組織 (法人)
          "職位": null,          // 法人組織通常無職位
          "代表人": "王五"          // 法人代表人指向自然人 "王五" (假設 "王五" 的 metadata 中有定義 ID)
        }
      ],
      "被告": [ /* 當事人資訊 */ ],
      "關係人": [ /* 其他訴訟關係人 (可選) */ ]
    },
    "法律依據": {
      "法條": [ "民法第 184 條" ],
      "解釋": [ "最高法院 100 年度台上字第 1234 號判例" ] /* (可選) */
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF/DOCX/TXT",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站/法律資料庫/其他",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf" /* (可選) */
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "侵權行為", "車禍"],
      "摘要": "本判決認定被告因過失駕駛...", /* (可選) */
      "相關連結": [ "https://example.com/related_case_law" ], /* (可選) */
      "公開程度": "公開/部分公開/不公開", /* (可選) */
      "備註": "其他需要記錄的備註事項" /* (可選) */
    }
  }
}
```

**3.3.  欄位詳細說明 (Version 2.1)**

| 欄位名稱                                | 資料類型   | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentType`                          | String   | 文件類型，固定為 "判決書"                                              | 標識文件類型                                                                                              | "判決書"                                                             |
| `version`                               | String   | 規格版本號                                                            | 方便規格更新與管理                                                                                            | "2.1"                                                               |
| `metadata`                              | Object   | 主要 Meta data 資訊容器                                                | 結構化組織 Meta data                                                                                       | -                                                                   |
| `metadata.案件資訊`                       | Object   | 案件基本資訊                                                        | 案件識別與分類                                                                                              | -                                                                   |
| `metadata.案件資訊.案件編號`              | String   | 案件編號，例如：法院代碼-年度-字別-案號                               | 唯一識別案件，方便關聯與檢索                                                                                      | "TPH-110-上訴-1234"                                                 |
| `metadata.案件資訊.案件類型`              | String   | 案件類型，例如：民事、刑事、行政等                                     | 案件分類，方便統計分析                                                                                         | "民事訴訟"                                                            |
| `metadata.案件資訊.案由`                  | String   | 案件主要爭議點簡述                                                     | 快速了解案件主題                                                                                              | "損害賠償"                                                             |
| `metadata.案件資訊.審級`                  | String   | 審級，例如：一審、二審、三審、更審                                     | 判決法律位階識別                                                                                             | "二審"                                                               |
| `metadata.案件資訊.年度`                  | Number   | 案件年度                                                            | 時間維度資訊                                                                                              | 2023                                                                |
| `metadata.法院資訊`                       | Object   | 法院相關資訊                                                        | 法院識別與分類                                                                                              | -                                                                   |
| `metadata.法院資訊.法院名稱`              | String   | 法院完整名稱                                                        | 完整法院名稱資訊                                                                                             | "臺灣高等法院"                                                          |
| `metadata.法院資訊.法院層級`              | String   | 法院層級，例如：高等法院、地方法院等                                     | 法院體系層級分類                                                                                             | "高等法院"                                                            |
| `metadata.法院資訊.法院代碼`              | String   | 法院代碼 (若有標準代碼系統)                                            | 簡潔法院識別碼，方便系統間資料交換                                                                                   | "TPH"                                                               |
| `metadata.法院資訊.法院地點`              | String   | 法院所在地點，例如：城市、行政區                                       | 提供更精確的法院地點資訊，支援地點分析與可視化                                                                           | "臺灣台北市", "美國紐約市曼哈頓區"                                                     |
| `metadata.判決資訊`                       | Object   | 判決本身資訊                                                        | 判決結果與參與人員資訊                                                                                         | -                                                                   |
| `metadata.判決資訊.判決日期`              | String (YYYY-MM-DD) | 判決日期                                                            | 標準日期格式，方便日期比較與排序                                                                                      | "2023-10-26"                                                          |
| `metadata.判決資訊.判決結果`              | String   | 判決結果簡述，例如：駁回、有罪、無罪等                                   | 快速了解判決方向                                                                                              | "原告之訴駁回"                                                          |
| `metadata.判決資訊.判決主文`              | String   | 完整判決主文內容 (可選)                                               | 完整記錄判決核心內容，方便檢索與分析 (可根據需求決定是否收錄)                                                               | "原告之訴駁回。訴訟費用由原告負擔。"                                                     |
| `metadata.判決資訊.法官`                  | Array of Object | 法官資訊，包含姓名、職稱、組織、職位 (可選)                                      | 記錄法官資訊，可進行法官分析、組織關係分析                                                                                       | `[{"姓名": "王小明", "職稱": "法官", "組織": "臺灣高等法院", "職位": "庭長"}]`                                          |
| `metadata.判決資訊.法官.組織`              | String   | 法官所屬組織，例如：法院名稱                                                   | 記錄法官所屬組織，方便組織關係分析                                                                                               | "臺灣高等法院"                                                       |
| `metadata.判決資訊.法官.職位`              | String   | 法官在組織內的職位 (可選，若與職稱不同)                                          | 更精確描述法官在組織內的角色                                                                                                   | "院長", "庭長"                                                       |
| `metadata.判決資訊.檢察官`                | Array of Object | 檢察官資訊 (刑事案件可能會有)，包含姓名、職稱、組織、職位 (可選)                           | 記錄檢察官資訊，刑事案件分析、組織關係分析                                                                                     | `[{"姓名": "陳大同", "職稱": "檢察官", "組織": "臺灣高等法院檢察署"}]`                                          |
| `metadata.判決資訊.檢察官.組織`            | String   | 檢察官所屬組織，例如：檢察署名稱                                                 | 記錄檢察官所屬組織，方便組織關係分析                                                                                               | "臺灣高等法院檢察署"                                                   |
| `metadata.判決資訊.檢察官.職位`            | String   | 檢察官在組織內的職位 (可選)                                                    | 更精確描述檢察官在組織內的角色                                                                                                   | "檢察長", "主任檢察官"                                                 |
| `metadata.判決資訊.律師`                  | Object   | 律師資訊，區分原告、被告律師，包含姓名、事務所、組織、職位 (可選)                                 | 記錄律師資訊，方便律師分析、組織關係分析                                                                                       | `{"原告": [{"姓名": "張三", "事務所": "XX 律師事務所", "組織": "XX 律師事務所", "職位": "合夥律師"}], "被告": [...]}` |
| `metadata.判決資訊.律師.原告[].組織`         | String   | 律師所屬組織，例如：律師事務所名稱                                                | 記錄律師所屬組織，方便組織關係分析                                                                                               | "XX 律師事務所"                                                       |
| `metadata.判決資訊.律師.原告[].職位`         | String   | 律師在組織內的職位 (可選)                                                    | 更精確描述律師在組織內的角色                                                                                                   | "合夥律師", "受雇律師"                                                 |
| `metadata.當事人資訊`                     | Object   | 當事人資訊                                                        | 記錄訴訟參與者資訊                                                                                              | -                                                                   |
| `metadata.當事人資訊.原告`               | Array of Object | 原告資訊，包含名稱、類型 (自然人/法人)、統一編號 (法人可選)、組織、職位 (法人可選)、代表人 (法人可選)       | 記錄原告資訊，方便當事人分析、組織關係分析、代表人關係分析                                                                                       | `[{"名稱": "王五", "類型": "自然人", "組織": null, "職位": null}, {"名稱": "ABC 有限公司", "類型": "法人", "統一編號": "98765432", "組織": "ABC 有限公司", "職位": null, "代表人": "王五"}]` |
| `metadata.當事人資訊.原告[].組織`           | String   | 當事人所屬組織 (若為法人)，若為自然人可為 `null`                               | 記錄當事人所屬組織，方便組織關係分析                                                                                               | "ABC 有限公司", null                                                  |
| `metadata.當事人資訊.原告[].職位`           | String   | 當事人在組織內的職位 (若為法人)，若為自然人可為 `null`，法人組織通常無職位               | 更精確描述當事人在組織內的角色 (若適用)                                                                                             | "總經理", null                                                       |
| `metadata.當事人資訊.原告[].代表人`          | String   | 若當事人為組織代表人，指向代表的組織的 ID (例如 "ORG-001")，若非代表人或自然人可為 `null` | 建立自然人與組織的代表關係，方便呈現組織代表人關係                                                                                       | "ORG-001", null                                                       |
| `metadata.當事人資訊.被告`               | Array of Object | 被告資訊 (結構同原告)                                                     | 記錄被告資訊，方便當事人分析、組織關係分析、代表人關係分析                                                                                       | -                                                                   |
| `metadata.當事人資訊.關係人`               | Array of Object | 其他訴訟關係人資訊 (可選)，例如證人、參加人，包含名稱、類型、關係描述                            | 記錄其他關係人資訊，擴展案件參與者資訊                                                                                 | `[{"名稱": "錢七", "類型": "自然人", "關係": "證人"}]`                               |
| `metadata.法律依據`                       | Object   | 判決書引用的法律依據                                                    | 記錄判決法律基礎                                                                                              | -                                                                   |
| `metadata.法律依據.法條`                  | Array of String | 判決書中引用的主要法條                                                    | 方便法律研究與分析                                                                                              | `["民法第 184 條", "刑法第 339 條"]`                                      |
| `metadata.法律依據.解釋`                  | Array of String | 判決書中引用的重要解釋令函或判例 (可選)                                 | 提升判決法律價值分析                                                                                           | `["最高法院 100 年度台上字第 1234 號判例"]`                                |
| `metadata.文件資訊`                       | Object   | 判決書文件本身資訊                                                      | 文件屬性描述                                                                                                | -                                                                   |
| `metadata.文件資訊.語言`                  | String   | 文件語言                                                            | 語言資訊，方便多語言處理                                                                                         | "中文"                                                                |
| `metadata.文件資訊.格式`                  | String   | 文件格式，例如：PDF, DOCX, TXT                                       | 文件格式資訊，方便文件處理                                                                                         | "PDF"                                                                 |
| `metadata.文件資訊.創建日期`              | String (YYYY-MM-DD) | 文件創建日期                                                          | 時間資訊，文件管理                                                                                              | "2023-10-26"                                                          |
| `metadata.文件資訊.修改日期`              | String (YYYY-MM-DD) | 文件最後修改日期 (若有)                                                 | 時間資訊，文件管理                                                                                              | "2023-10-27"                                                          |
| `metadata.文件資訊.文件來源`              | String   | 文件來源，例如：法院網站、法律資料庫等                                     | 追溯文件出處與可信度                                                                                           | "法院網站"                                                             |
| `metadata.文件資訊.檔案名稱`              | String   | 原始檔案名稱 (可選)                                                    | 方便文件管理                                                                                              | "判決書_臺灣高等法院_110上訴1234.pdf"                                       |
| `metadata.其他資訊`                       | Object   | 其他輔助資訊                                                        | 擴展性資訊欄位                                                                                              | -                                                                   |
| `metadata.其他資訊.關鍵字`                  | Array of String | 方便檢索的關鍵字                                                      | 提升檢索效率與準確性                                                                                           | `["損害賠償", "侵權行為", "車禍"]`                                         |
| `metadata.其他資訊.摘要`                  | String   | 判決摘要 (可選)                                                        | 快速了解判決內容                                                                                              | "本判決認定被告因過失駕駛造成原告損害，判決被告應負損害賠償責任。"                                             |
| `metadata.其他資訊.相關連結`              | Array of String | 連結到相關資源 (可選)                                                | 擴展資訊來源，建立關聯                                                                                           | `["https://example.com/related_case_law"]`                                 |
| `metadata.其他資訊.公開程度`              | String   | 判決書的公開程度 (若適用)，例如：公開、部分公開、不公開                         | 判決書公開資訊管理                                                                                             | "公開"                                                                |
| `metadata.其他資訊.備註`                  | String   | 其他需要記錄的備註事項                                                   | 彈性資訊記錄                                                                                              | "本判決為主文摘要版本。"                                                       |

**3.4.  範例 JSON (Version 2.1)**

```json
{
  "documentType": "判決書",
  "version": "2.1",
  "metadata": {
    "案件資訊": {
      "案件編號": "TPH-110-上訴-1234",
      "案件類型": "民事訴訟",
      "案由": "損害賠償",
      "審級": "二審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回",
      "判決主文": "原告之訴駁回。訴訟費用由原告負擔。",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "庭長"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官",
          "組織": "臺灣高等法院"
        }
      ]
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人",
          "組織": null,
          "職位": null
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",
          "職位": null,
          "代表人": "王五" // 假設王五的 ID 為 "王五-001"，這裡可以放 ID 或直接放名稱，視系統設計而定
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人",
          "組織": null,
          "職位": null
        }
      ]
    },
    "法律依據": {
      "法條": [
        "民法第 184 條"
      ]
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf"
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "車禍"],
      "摘要": "本判決認定被告於車禍事故中應負擔過失責任，但原告未能充分舉證損害金額，故駁回原告之訴。",
      "公開程度": "公開"
    }
  }
}
```

**4. 內容 Meta data 規格 (Content Metadata Specification) (Version 2.1)**

**4.1.  目的與設計理由**

內容 Meta data 的目的在於深入挖掘判決書的文本內容，提取關鍵資訊，並將 Meta data 與判決書文本內容建立關聯，以支援更精細的判決書分析、人事時地物關聯性分析與可視化應用。

**4.2.  JSON 結構 (Version 2.1)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "2.1",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["關鍵字1", "關鍵字2"],
      "keySentences": [ /* (可選) */
        {
          "text": "描述事實的關鍵句子...",
          "地點": "XX路與YY路口", // 事件發生地點 (若事實概要中有提及)
          "時間": "民國110年1月1日上午10時許" // 事件發生時間 (若事實概要中有提及)
        }
      ],
      "案例類別": ["類別1", "類別2"],
      "爭議焦點": ["爭議點1", "爭議點2"],
      "相關法條": ["法條1", "法條2"],
      "事件類型": "車禍事故" // 更明確的事件類型
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ /* (可選) */
          {
            "argument": "原告主張的核心論點..."
          }
        ]
      },
      "被告主張": { /* ... */ }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": {
      "法律概念": ["法律概念1", "法律概念2"],
      "法律原則": ["法律原則1", "法律原則2"],
      "判決邏輯": [ /* (可選，若能結構化分析更好) */
        {
          "step": "步驟一：分析事實..."
        }
      ],
      "引用案例": [ /* (可選) */
        {
          "案件編號": "最高法院-年度-字別-案號"
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"]
    },
    "判決結果": {
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他",
      "判決要點": "判決結果的重點摘要"
    },
    "其他內容": { /* (可選) */
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**4.3.  欄位詳細說明 (Version 2.1)**

| 欄位名稱                                | 資料類型             | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | ------------------ | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String             | 案件編號，與通用 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                               | String             | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "2.1"                                                                 |
| `contentMetadata`                       | Object             | 內容 Meta data 主要容器                                                 | 結構化組織內容 Meta data                                                                                                             | -                                                                     |
| `contentMetadata.事實概要`                | Object             | 對應判決書的「事實」、「事實及理由」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.事實概要.keywords`       | Array of String    | 事實概要段落的關鍵字詞彙列表                                                    | 快速了解事實概要重點                                                                                                                             | `["車禍", "十字路口", "紅燈", "違規"]`                                     |
| `contentMetadata.事實概要.keySentences`  | Array of Object    | 重要的句子或段落 (可選)，包含 `text` (文本內容), `地點` (可選), `時間` (可選)       | 精確標註事實概要中的重要句子，方便段落摘要等可視化應用；可選地點和時間資訊，支援時地物分析，**可透過字串比對在判決書文本中定位句子**                                                                     | `[{"text": "被告駕駛汽車行經十字路口時闖紅燈...", "地點": "XX路與YY路口", "時間": "民國110年1月1日上午10時許"}]`                            |
| `contentMetadata.事實概要.keySentences.地點` | String             | 事件發生地點 (若事實概要中有提及)                                    | 提供事件發生地點資訊，支援地點分析與可視化，更完整的時地物資訊                                                                           | "XX路與YY路口", "公司辦公室", "住家"                                                      |
| `contentMetadata.事實概要.keySentences.時間` | String             | 事件發生時間 (若事實概要中有提及)                                    | 提供事件發生時間資訊，支援時間軸分析與可視化，更完整的時地物資訊                                                                           | "民國110年1月1日上午10時許", "2023年10月26日下午3點", "某日晚上"                                                 |
| `contentMetadata.事實概要.案例類別`         | Array of String    | 案件所屬的案例類別，例如：車禍事故、契約糾紛等                                         | 案件分類，方便案例分析                                                                                                                             | `["交通事故", "車禍事故"]`                                               |
| `contentMetadata.事實概要.爭議焦點`         | Array of String    | 案件的主要爭議焦點                                                         | 快速掌握案件爭議點                                                                                                                             | `["過失責任歸屬", "損害賠償範圍"]`                                          |
| `contentMetadata.事實概要.相關法條`         | Array of String    | 此段落中提及的法條 (若與法律依據 metadata 不同，可補充)                                   | 補充事實概要段落中提及的法條資訊                                                                                                   | `["道路交通管理處罰條例第XX條"]`                                          |
| `contentMetadata.事實概要.事件類型`        | String             | 更明確的事件類型描述，例如：車禍事故、契約簽訂、侵權行為                                       | 更精確的事件類型分類，方便事件分析與可視化，有助於事件關聯性分析                                                                           | "車禍事故", "契約糾紛", "職場性騷擾"                                                    |
| `contentMetadata.當事人主張`               | Object             | 對應判決書中原告、被告等當事人的主張段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.當事人主張.原告主張`      | Object             | 原告主張段落                                                                | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.當事人主張.原告主張.keywords` | Array of String    | 原告主張段落的關鍵字詞彙列表                                                    | 快速了解原告主張重點                                                                                                                             | `["醫療費用", "精神撫慰金", "被告應賠償"]`                                 |
| `contentMetadata.當事人主張.原告主張.keyArguments` | Array of Object    | 原告主要論點 (可選)，包含 `argument` (論點內容)                                        | 精確標註原告主張的核心論點，方便論點摘要、可視化展示，**可透過字串比對在判決書文本中定位論點**                                                                       | `[{"argument": "原告主張因車禍受傷，醫療費用共計新台幣XX元..."}]` |
| `contentMetadata.當事人主張.被告主張`      | Object             | 被告主張段落 (結構同 `原告主張`)                                               | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.法院理由`                 | Object             | 對應判決書的「理由」、「判斷理由」等核心段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.法院理由.法律概念`        | Array of String    | 判決理由中使用的重要法律概念，例如：侵權行為、過失責任等                                   | 提取判決書中的法律專業知識，方便法律分析                                                                                               | `["侵權行為", "過失責任", "因果關係"]`                                   |
| `contentMetadata.法院理由.法律原則`        | Array of String    | 判決理由中引用的法律原則，例如：比例原則、誠實信用原則                                   | 提取判決書中的法律原則，方便法律分析                                                                                               | `["過失相抵原則", "損害填補原則"]`                                     |
| `contentMetadata.法院理由.判決邏輯`        | Array of Object    | 法院的判決邏輯或推理過程 (可選，若能結構化分析更好)，包含 `step` (步驟描述)                       | 嘗試結構化分析判決的推理過程，方便理解判決思路 (複雜度較高，可選)，**可透過字串比對在判決書文本中定位步驟**                                                                        | `[{"step": "法院審酌相關證據，認定被告駕駛行為確有過失..."}]` |
| `contentMetadata.法院理由.引用案例`        | Array of Object    | 判決理由中引用的其他案例 (若有)，包含 `案件編號`                                          | 記錄引用案例，建立案例之間的關聯，方便案例檢索與分析                                                                                     | `[{"案件編號": "最高法院-109-台上-5432"}]`                                   |
| `contentMetadata.法院理由.關鍵法條`        | Array of String    | 判決理由中關鍵的法條 (可能與法律依據 metadata 相同或更聚焦)                               | 提取判決理由中的關鍵法條，更聚焦於判決理由的法律基礎                                                                                       | `["民法第 192 條", "民法第 193 條"]`                                   |
| `contentMetadata.判決結果`                | Object             | 對應判決書的「主文」、「結論」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.判決結果.判決結果類型`     | String             | 更細緻的判決結果分類，例如：勝訴、敗訴、部分勝訴、駁回、撤銷、變更、其他                              | 更精確的判決結果分類，方便統計分析                                                                                               | "駁回"                                                                |
| `contentMetadata.判決結果.判決要點`        | String             | 判決結果的重點摘要                                                         | 快速了解判決結果核心內容                                                                                                                         | "駁回原告之訴，因原告未能充分舉證損害金額。"                                               |
| `contentMetadata.其他內容`                | Object             | 其他判決書中可能出現的段落，例如「程序事項」、「證據」等 (可選)                                | 擴展性結構，可根據具體判決書內容進行擴展                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項`       | Object             | 程序事項段落 (範例)                                                          | 範例，可根據實際需求定義                                                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項.keywords` | Array of String | 程序事項段落的關鍵字詞彙列表 (範例)                                                   | 範例，可根據實際需求定義                                                                                                                             | `["訴訟費用", "上訴期間", "送達"]`                                     |

**4.4.  位置索引說明**

**已移除 `startIndex` 和 `endIndex` 欄位。**  若需要將 Meta data 與判決書文本內容連結，建議使用字串比對的方式，例如，使用 `keySentences` 或 `keyArguments` 中的 `text` 或 `argument` 欄位值，在原始判決書文本中進行搜尋比對，以定位相關的文本段落。

**4.5.  範例 JSON (Version 2.1)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "2.1",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [
        {
          "text": "經查，被告駕駛汽車於民國110年1月1日上午10時許，行經本市XX路與YY路口時，不慎闖紅燈，與原告所騎乘之機車發生碰撞，致原告受傷。",
          "地點": "XX路與YY路口",
          "時間": "民國110年1月1日上午10時許"
        }
      ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"],
      "事件類型": "車禍事故"
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["醫療費用", "精神撫慰金", "被告應賠償"],
        "keyArguments": [
          {
            "argument": "原告主張因本次車禍事故受有醫療費用新台幣5萬元、機車維修費用1萬元、精神撫慰金10萬元等損害，請求被告應賠償共計16萬元。"
          }
        ]
      },
      "被告主張": {
        "keywords": ["已盡注意義務", "原告亦有過失", "賠償金額過高"]
      }
    },
    "法院理由": {
      "法律概念": ["侵權行為", "過失責任", "因果關係"],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [
        {
          "step": "法院審酌相關證據，認定被告駕駛行為確有違反交通規則之過失。"
        },
        {
          "step": "然原告主張之精神撫慰金金額過高，法院酌減為5萬元。"
        }
      ],
      "引用案例": [],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"]
    },
    "判決結果": {
      "判決結果類型": "部分勝訴",
      "判決要點": "判決被告應賠償原告醫療費用、機車維修費用及部分精神撫慰金，共計新台幣11萬元。"
    }
  }
}
```

**6. 可視化 Meta data 規格 (Visualization Metadata Specification) (Version 2.1)**

**6.1. 目的與設計理由**

可視化 Meta data 的目的在於**獨立**描述判決書可視化的相關設定與資訊，**將可視化邏輯與資料結構解耦**。這樣可以更靈活地調整可視化呈現方式，而無需修改通用 Meta data 和內容 Meta data。設計理由包含：

* 可視化邏輯與資料分離：將可視化相關的設定 (例如：顏色、圖表類型、樣式) 獨立出來，方便維護和更新。
* 靈活調整可視化：使用者可以根據不同的需求，修改可視化 Meta data，快速調整可視化呈現效果，例如更換圖表類型、調整顏色配置、增加/刪減可視化元件。
* 客製化可視化樣式：針對不同的應用場景或使用者群體，可以設計不同的可視化 Meta data，提供客製化的可視化樣式。
* 降低維護成本：當可視化需求變更時，只需修改可視化 Meta data，無需改動核心的資料 Meta data 結構和提取邏輯。

**6.2. JSON 結構 (Version 2.1)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用/內容 Meta data 的案件編號對應
  "version": "2.1",
  "visualizationMetadata": {
    "通用設定": {
      "主題色系": ["#007bff", "#6610f2", "#6f42c1", "..."], //  可自訂主題色系
      "字體": "微軟正黑體",
      "圖表樣式": "簡潔風" //  例如：簡潔風、科技風、復古風
      // ... 其他通用可視化設定
    },
    "可視化元件": [
      {
        "元件類型": "時間軸",
        "資料來源": "contentMetadata.事實概要.keySentences", //  指向資料來源的路徑
        "時間欄位": "時間", //  指定時間軸的資料欄位
        "文本欄位": "text", //  指定時間軸上顯示的文本欄位
        "樣式設定": {
          "顏色": "#007bff",
          "標記形狀": "圓形",
          // ... 時間軸元件的樣式設定
        }
      },
      {
        "元件類型": "地圖",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "地點欄位": "地點",
        "樣式設定": {
          "標記顏色": "#6610f2",
          "標記大小": "中等",
          "地圖底圖": "OpenStreetMap"
          // ... 地圖元件的樣式設定
        }
      },
      {
        "元件類型": "人物關係網絡",
        "資料來源": ["generalMetadata.判決資訊.法官", "generalMetadata.判決資訊.檢察官", "generalMetadata.判決資訊.律師", "generalMetadata.當事人資訊"],
        "節點欄位": "姓名",
        "關係類型": ["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"], //  定義關係類型
        "樣式設定": {
          "節點顏色": {"法官": "#28a745", "檢察官": "#dc3545", "律師": "#ffc107", "當事人": "#17a2b8"}, //  不同節點類型使用不同顏色
          "邊線樣式": "虛線",
          // ... 人物關係網絡元件的樣式設定
        }
      },
      {
        "元件類型": "關鍵字詞雲",
        "資料來源": "contentMetadata.事實概要.keywords",
        "樣式設定": {
          "字體大小範圍": [12, 48],
          "顏色": "#6f42c1"
          // ... 詞雲元件的樣式設定
        }
      }
      // ... 其他可視化元件定義
    ],
    "儀表板配置": {
      "版面配置": "Grid", //  例如：Grid, Flexbox, 流式佈局
      "元件排列": [ //  定義元件在儀表板中的排列順序和位置
        {"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]}, //  元件索引對應 "可視化元件" 陣列的索引，位置和尺寸可以根據 Grid 系統或佈局方式定義
        {"元件索引": 1, "位置": [0, 4], "尺寸": [6, 4]},
        {"元件索引": 2, "位置": [6, 0], "尺寸": [6, 8]},
        {"元件索引": 3, "位置": [0, 8], "尺寸": [12, 4]}
      ],
      // ... 儀表板整體配置
    }
  }
}
```

**6.3. 欄位詳細說明 (Version 2.1)**

| 欄位名稱                                | 資料類型         | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String         | 案件編號，與通用/內容 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用/內容 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                               | String         | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "2.1"                                                                 |
| `visualizationMetadata`               | Object         | 可視化 Meta data 主要容器                                               | 結構化組織可視化 Meta data                                                                                                             | -                                                                     |
| `visualizationMetadata.通用設定`          | Object         | 通用的可視化設定，例如主題色系、字體等                                           | 提供統一的可視化風格設定                                                                                                                         | -                                                                     |
| `visualizationMetadata.通用設定.主題色系`    | Array of String | 主題色系，顏色代碼列表                                                         | 自訂主題色系，統一視覺風格                                                                                                                         | `["#007bff", "#6610f2", "#6f42c1"]`                                     |
| `visualizationMetadata.通用設定.字體`      | String         | 字體名稱                                                                | 設定全局字體                                                                                                                               | "微軟正黑體"                                                             |
| `visualizationMetadata.通用設定.圖表樣式`    | String         | 圖表樣式風格描述，例如：簡潔風、科技風                                          | 快速切換整體圖表風格                                                                                                                         | "簡潔風"                                                                |
| `visualizationMetadata.可視化元件`        | Array of Object | 可視化元件定義列表，每個元素定義一個可視化元件                                      | 定義儀表板中包含的可視化元件，靈活組合                                                                                                   | -                                                                     |
| `visualizationMetadata.可視化元件[].元件類型` | String         | 元件類型，例如：時間軸、地圖、人物關係網絡、詞雲等                                   | 標識元件類型，決定使用哪種可視化圖表                                                                                                   | "時間軸", "地圖", "人物關係網絡", "關鍵字詞雲"                                                  |
| `visualizationMetadata.可視化元件[].資料來源` | String / Array | 資料來源，指向通用 Meta data 或 內容 Meta data 的資料路徑 (使用 JSON Path 或類似語法) | 指定元件要使用哪個 Meta data 的哪個部分資料，靈活配置資料來源                                                                                   | "contentMetadata.事實概要.keySentences", ["generalMetadata.判決資訊.法官", "generalMetadata.當事人資訊"]                                 |
| `visualizationMetadata.可視化元件[].時間欄位` | String         | 時間欄位名稱 (若元件類型為時間軸)                                           | 指定時間軸元件的時間資料欄位                                                                                                                     | "時間"                                                                |
| `visualizationMetadata.可視化元件[].文本欄位` | String         | 文本欄位名稱 (若元件類型需要顯示文本)                                           | 指定元件需要顯示的文本資料欄位                                                                                                                     | "text"                                                                |
| `visualizationMetadata.可視化元件[].地點欄位` | String         | 地點欄位名稱 (若元件類型為地圖)                                             | 指定地圖元件的地點資料欄位                                                                                                                     | "地點"                                                                |
| `visualizationMetadata.可視化元件[].關係類型` | Array of String | 關係類型列表 (若元件類型為人物關係網絡)，例如：["法官-案件", "律師-當事人"]                       | 定義人物關係網絡中要呈現的關係類型，方便客製化關係圖                                                                                   | `["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"]`                                 |
| `visualizationMetadata.可視化元件[].樣式設定` | Object         | 元件的樣式設定，例如顏色、字體大小、標記形狀等                                        | 細緻控制每個元件的視覺樣式，客製化可視化效果                                                                                             | -                                                                     |
| `visualizationMetadata.儀表板配置`        | Object         | 儀表板整體佈局配置                                                         | 定義儀表板的版面結構和元件排列方式                                                                                                 | -                                                                     |
| `visualizationMetadata.儀表板配置.版面配置`   | String         | 版面配置方式，例如：Grid, Flexbox, 流式佈局                                      | 選擇不同的版面配置方式，適應不同螢幕尺寸和佈局需求                                                                                       | "Grid", "Flexbox"                                                        |
| `visualizationMetadata.儀表板配置.元件排列`   | Array of Object | 元件排列規則列表，定義每個元件在儀表板中的位置和尺寸                                    | 精確控制元件在儀表板中的位置和尺寸，打造專業儀表板                                                                                       | `[{"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]}, {"元件索引": 1, "位置": [6, 0], "尺寸": [6, 4]}]` |

**6.4. 範例 JSON (Version 2.1)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "2.1",
  "visualizationMetadata": {
    "通用設定": {
      "主題色系": ["#007bff", "#6c757d", "#28a745", "#dc3545", "#ffc107", "#17a2b8", "#6610f2", "#6f42c1"],
      "字體": "微軟正黑體",
      "圖表樣式": "簡潔風"
    },
    "可視化元件": [
      {
        "元件類型": "時間軸",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "時間欄位": "時間",
        "文本欄位": "text",
        "樣式設定": {
          "顏色": "#007bff",
          "標記形狀": "圓形"
        }
      },
      {
        "元件類型": "地圖",
        "資料來源": "contentMetadata.事實概要.keySentences",
        "地點欄位": "地點",
        "樣式設定": {
          "標記顏色": "#6c757d",
          "標記大小": "中等",
          "地圖底圖": "OpenStreetMap"
        }
      },
      {
        "元件類型": "人物關係網絡",
        "資料來源": ["generalMetadata.判決資訊.法官", "generalMetadata.判決資訊.檢察官", "generalMetadata.判決資訊.律師", "generalMetadata.當事人資訊"],
        "節點欄位": "姓名",
        "關係類型": ["法官-案件", "檢察官-案件", "律師-當事人", "當事人-案件"],
        "樣式設定": {
          "節點顏色": {
            "法官": "#28a745",
            "檢察官": "#dc3545",
            "律師": "#ffc107",
            "當事人": "#17a2b8"
          },
          "邊線樣式": "虛線"
        }
      },
      {
        "元件類型": "關鍵字詞雲",
        "資料來源": "contentMetadata.事實概要.keywords",
        "樣式設定": {
          "字體大小範圍": [12, 48],
          "顏色": "#6f42c1"
        }
      }
    ],
    "儀表板配置": {
      "版面配置": "Grid",
      "元件排列": [
        {"元件索引": 0, "位置": [0, 0], "尺寸": [6, 4]},
        {"元件索引": 1, "位置": [0, 4], "尺寸": [6, 4]},
        {"元件索引": 2, "位置": [6, 0], "尺寸": [6, 8]},
        {"元件索引": 3, "位置": [0, 8], "尺寸": [12, 4]}
      ]
    }
  }
}
```

**7. Meta data 的關聯與使用 (Version 2.1)**

* **關聯方式：** 通用 Meta data、內容 Meta data 和 可視化 Meta data 都通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯。
* **使用場景：**
    * 判決書檢索與篩選：使用通用 Meta data 進行快速檢索與篩選。
    * 判決書可視化：
        * 使用通用 Meta data 和 內容 Meta data 提供可視化所需的資料。
        * 使用可視化 Meta data 定義可視化元件的類型、資料來源、樣式設定、儀表板佈局等。
        * 可靈活切換不同的可視化 Meta data，快速更換可視化主題和樣式，而無需重新提取資料或修改程式碼。
        * 可視化應用程式根據可視化 Meta data 的定義，動態生成可視化儀表板。
        * **文本定位方式變更：**  由於移除了 `startIndex` 和 `endIndex` 欄位，可視化應用程式需要使用字串比對的方式，例如使用 `keySentences` 或 `keyArguments` 中的文本內容，在原始判決書文本中進行搜尋比對，以高亮或定位相關的文本段落。
    * 法律知識圖譜建構：利用 Meta data 中的法律依據、引用案例、法律概念等資訊建構法律知識圖譜。
    * LLM 應用：將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統、人事時地物關係抽取與分析等應用。
    * 人事時地物關聯性可視化應用範例： （與 Version 2.0 相同，但可視化設定由可視化 Meta data 控制，文本定位方式變更為字串比對）
        * 時間軸可視化： 可透過可視化 Meta data 設定時間軸的樣式、顏色、資料來源等。
        * 地圖可視化： 可透過可視化 Meta data 設定地圖的標記樣式、地圖底圖、資料來源等。
        * 人物關係網絡： 可透過可視化 Meta data 設定節點顏色、邊線樣式、關係類型、資料來源等，並可利用 `當事人資訊.原告[].代表人` 等欄位呈現組織代表關係。
        * 事件流程圖： 可透過可視化 Meta data 定義流程圖的節點樣式、連接線樣式、資料來源等。
        * 綜合性儀表板： 透過可視化 Meta data 的儀表板配置，靈活調整儀表板佈局和元件排列。

**8. 規格的未來擴展 (Version 2.1)**

* 更細緻的段落劃分：可以根據判決書的實際結構，劃分更細緻的段落，例如將「法院理由」再細分為「法律適用」、「事實認定」、「證據判斷」等子段落。
* 加入更多資訊類型：例如可以加入「證據類型」、「訴訟請求」、「賠償金額」、更精確的地理位置座標 (經緯度) 等更具體的資訊。
* 多語言支援：考慮支援多語言的 Meta data 規格，以處理不同語言的判決書。
* 本体 (Ontology) 標準化：未來可以朝向更標準化的法律本体方向發展，例如使用法律本体標準來描述案件類型、法律概念等，提升 Meta data 的互操作性和語義明確性。
* 更豐富的可視化元件：未來可以擴展可視化 Meta data，支援更多種類的可視化元件，例如：表格、數字卡片、雷達圖、桑基圖等。
* 互動式可視化設定：可以加入互動式可視化設定，例如：篩選器、鑽取功能、動態更新等，讓使用者可以更深入地探索判決書資料。
* 可視化範本庫：建立可視化 Meta data 範本庫，提供不同主題和樣式的可視化範本，方便使用者快速套用和客製化。

**9. 結論 (Version 2.1)**

本規格書 (Version 2.1) 提供了更簡潔且彈性更高的判決書 Meta data 設計規格。移除了 `startIndex` 和 `endIndex` 欄位，簡化了 Content Meta data 結構，並改為使用字串比對方式進行文本定位。可視化 Meta data 的獨立設計，以及組織代表人特性的加入，持續強化了可視化應用的彈性和功能。 透過遵循本規格書，可以更有效率地運用判決書資料，並促進法律科技在可視化分析等方面的發展。

---

**請注意：**

* 本規格書為 Version 2.1 (通用 Meta data, 內容 Meta data, 可視化 Meta data)。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 在實際應用中，Meta data 的提取可能需要結合 OCR 技術、自然語言處理 (NLP) 技術以及人工標註。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的三種 JSON 結構和欄位說明進行解析和資料提取，並特別指示 LLM 理解已移除 `startIndex` 和 `endIndex` 欄位，以及文本定位方式改為字串比對。

希望 Version 2.1 規格書能幫助您順利進行練習！

## Q2.5-刪除 可視化 Meta data v2.2
- M::
- Q::Q2.5:請根據以下要求更新規格
	- 請刪除 可視化 Meta data
- A::好的，根據您的最新要求，我將從規格書中刪除「可視化 Meta data」部分，並進行相應的調整。以下為更新後的規格書 Version 2.2：

**判決書 Meta Data 規格書 (Version 2.2)**

**1.  簡介**

本規格書旨在定義判決書的兩種 Meta data 格式，用於結構化地描述判決書的資訊，以利於判決書的檢索、分析、人事時地物關聯性分析及其他應用。本規格書包含兩種 Meta data 格式，版本皆為 2.2：

1.  **通用 Meta data (General Metadata) (Version 2.2):** 描述判決書的基礎資訊，著重於文件層級描述。(版本號更新為 2.2，但規格內容與 Version 2.1 相同)
2.  **內容 Meta data (Content Metadata) (Version 2.2):** 描述判決書的內容細節，著重於文本內容結構化與關鍵資訊提取。（已移除 `startIndex`, `endIndex` 欄位，版本號更新為 2.2）

這兩種 Meta data 格式可以獨立使用，也可以結合使用。結合使用時，透過 **案件編號 (documentId 或 案件資訊.案件編號)** 進行關聯。

**2.  目標讀者**

* 開發人員：負責開發判決書解析、Meta data 提取、資料庫儲存、人事時地物關聯性分析應用等系統的工程師。
* 語言模型 (LLM)：用於訓練或指示 LLM 按照本規格解析判決書，提取 Meta data。
* 法律研究人員、資料分析師：使用 Meta data 進行法律研究、案例分析、數據統計、人事時地物關聯性分析等專業人士。

**3.  通用 Meta data 規格 (General Metadata Specification) (Version 2.2)**

**3.1.  目的與設計理由**

通用 Meta data 的目的在於提供判決書的概括性描述，方便使用者快速了解判決書的基本資訊，並作為判決書檢索、分類、管理、以及初步的人事時地物分析的基礎。設計理由包含：

* 文件識別與管理：案件編號、法院資訊、文件資訊等欄位，有助於唯一識別判決書，並進行有效的管理和歸檔。
* 快速資訊概覽：案件類型、案由、審級、判決結果等欄位，讓使用者在不細讀判決書全文的情況下，快速掌握案件的核心資訊。
* 資料庫索引與檢索：這些 Meta data 欄位可作為資料庫的索引，方便使用者根據不同條件 (例如法院、案件類型、判決日期) 檢索判決書。
* 跨系統資料交換：標準化的 Meta data 格式，有利於不同法律資料系統之間的資料交換與整合。
* 初步人事時地物分析：法院資訊 (地點)、判決日期 (時間)、當事人/法官/檢察官/律師 (人物)、案件類型/案由 (事件) 等欄位，可初步支援人事時地物的關聯性分析。
* 組織代表人資訊：在當事人資訊中加入組織代表人的描述，方便呈現個人與組織的關係。

**3.2.  JSON 結構 (Version 2.2)**

```json
{
  "documentType": "判決書",
  "version": "2.2",
  "metadata": {
    "案件資訊": {
      "案件編號": "法院代碼-年度-字別-案號",
      "案件類型": "民事/刑事/行政/其他",
      "案由": "案件主要爭議點簡述",
      "審級": "一審/二審/三審/更審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院/地方法院/最高法院/行政法院/智慧財產法院/其他",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回/被告有罪/撤銷原處分/其他",
      "判決主文": "完整判決主文內容 (可選)",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "法官"
        }
      ],
      "檢察官": [ /* 刑事案件可能會有 */
        {
          "姓名": "陳大同",
          "職稱": "檢察官",
          "組織": "臺灣高等法院檢察署",
          "職位": "檢察官"
        }
      ],
      "律師": {
        "原告": [ /* 當事人委任律師資訊 */
          {
            "姓名": "張三",
            "事務所": "XX 律師事務所",
            "組織": "XX 律師事務所",
            "職位": "律師"
          }
        ],
        "被告": [ /* 當事人委任律師資訊 */ ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人/法人",
          "統一編號": "12345678" ,/* 若為法人 */
          "組織": null,          // 當事人所屬組織 (若為自然人，可為 null)
          "職位": null,          // 當事人在組織內的職位 (若為自然人，可為 null)
          "代表人": null         // 若為組織代表人，指向代表的組織 (例如: "ORG-001")
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",     // 當事人所屬組織 (法人)
          "職位": null,          // 法人組織通常無職位
          "代表人": "王五"          // 法人代表人指向自然人 "王五" (假設 "王五" 的 metadata 中有定義 ID)
        }
      ],
      "被告": [ /* 當事人資訊 */ ],
      "關係人": [ /* 其他訴訟關係人 (可選) */ ]
    },
    "法律依據": {
      "法條": [ "民法第 184 條" ],
      "解釋": [ "最高法院 100 年度台上字第 1234 號判例" ] /* (可選) */
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF/DOCX/TXT",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站/法律資料庫/其他",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf" /* (可選) */
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "侵權行為", "車禍"],
      "摘要": "本判決認定被告因過失駕駛...", /* (可選) */
      "相關連結": [ "https://example.com/related_case_law" ], /* (可選) */
      "公開程度": "公開/部分公開/不公開", /* (可選) */
      "備註": "其他需要記錄的備註事項" /* (可選) */
    }
  }
}
```

**3.3.  欄位詳細說明 (Version 2.2)**

| 欄位名稱                                | 資料類型   | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | -------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentType`                          | String   | 文件類型，固定為 "判決書"                                              | 標識文件類型                                                                                              | "判決書"                                                             |
| `version`                               | String   | 規格版本號                                                            | 方便規格更新與管理                                                                                            | "2.2"                                                               |
| `metadata`                              | Object   | 主要 Meta data 資訊容器                                                | 結構化組織 Meta data                                                                                       | -                                                                   |
| `metadata.案件資訊`                       | Object   | 案件基本資訊                                                        | 案件識別與分類                                                                                              | -                                                                   |
| `metadata.案件資訊.案件編號`              | String   | 案件編號，例如：法院代碼-年度-字別-案號                               | 唯一識別案件，方便關聯與檢索                                                                                      | "TPH-110-上訴-1234"                                                 |
| `metadata.案件資訊.案件類型`              | String   | 案件類型，例如：民事、刑事、行政等                                     | 案件分類，方便統計分析                                                                                         | "民事訴訟"                                                            |
| `metadata.案件資訊.案由`                  | String   | 案件主要爭議點簡述                                                     | 快速了解案件主題                                                                                              | "損害賠償"                                                             |
| `metadata.案件資訊.審級`                  | String   | 審級，例如：一審、二審、三審、更審                                     | 判決法律位階識別                                                                                             | "二審"                                                               |
| `metadata.案件資訊.年度`                  | Number   | 案件年度                                                            | 時間維度資訊                                                                                              | 2023                                                                |
| `metadata.法院資訊`                       | Object   | 法院相關資訊                                                        | 法院識別與分類                                                                                              | -                                                                   |
| `metadata.法院資訊.法院名稱`              | String   | 法院完整名稱                                                        | 完整法院名稱資訊                                                                                             | "臺灣高等法院"                                                          |
| `metadata.法院資訊.法院層級`              | String   | 法院層級，例如：高等法院、地方法院等                                     | 法院體系層級分類                                                                                             | "高等法院"                                                            |
| `metadata.法院資訊.法院代碼`              | String   | 法院代碼 (若有標準代碼系統)                                            | 簡潔法院識別碼，方便系統間資料交換                                                                                   | "TPH"                                                               |
| `metadata.法院資訊.法院地點`              | String   | 法院所在地點，例如：城市、行政區                                       | 提供更精確的法院地點資訊，支援地點分析與可視化                                                                           | "臺灣台北市", "美國紐約市曼哈頓區"                                                     |
| `metadata.判決資訊`                       | Object   | 判決本身資訊                                                        | 判決結果與參與人員資訊                                                                                         | -                                                                   |
| `metadata.判決資訊.判決日期`              | String (YYYY-MM-DD) | 判決日期                                                            | 標準日期格式，方便日期比較與排序                                                                                      | "2023-10-26"                                                          |
| `metadata.判決資訊.判決結果`              | String   | 判決結果簡述，例如：駁回、有罪、無罪等                                   | 快速了解判決方向                                                                                              | "原告之訴駁回"                                                          |
| `metadata.判決資訊.判決主文`              | String   | 完整判決主文內容 (可選)                                               | 完整記錄判決核心內容，方便檢索與分析 (可根據需求決定是否收錄)                                                               | "原告之訴駁回。訴訟費用由原告負擔。"                                                     |
| `metadata.判決資訊.法官`                  | Array of Object | 法官資訊，包含姓名、職稱、組織、職位 (可選)                                      | 記錄法官資訊，可進行法官分析、組織關係分析                                                                                       | `[{"姓名": "王小明", "職稱": "法官", "組織": "臺灣高等法院", "職位": "庭長"}]`                                          |
| `metadata.判決資訊.法官.組織`              | String   | 法官所屬組織，例如：法院名稱                                                   | 記錄法官所屬組織，方便組織關係分析                                                                                               | "臺灣高等法院"                                                       |
| `metadata.判決資訊.法官.職位`              | String   | 法官在組織內的職位 (可選，若與職稱不同)                                          | 更精確描述法官在組織內的角色                                                                                                   | "院長", "庭長"                                                       |
| `metadata.判決資訊.檢察官`                | Array of Object | 檢察官資訊 (刑事案件可能會有)，包含姓名、職稱、組織、職位 (可選)                           | 記錄檢察官資訊，刑事案件分析、組織關係分析                                                                                     | `[{"姓名": "陳大同", "職稱": "檢察官", "組織": "臺灣高等法院檢察署"}]`                                          |
| `metadata.判決資訊.檢察官.組織`            | String   | 檢察官所屬組織，例如：檢察署名稱                                                 | 記錄檢察官所屬組織，方便組織關係分析                                                                                               | "臺灣高等法院檢察署"                                                   |
| `metadata.判決資訊.檢察官.職位`            | String   | 檢察官在組織內的職位 (可選)                                                    | 更精確描述檢察官在組織內的角色                                                                                                   | "檢察長", "主任檢察官"                                                 |
| `metadata.判決資訊.律師`                  | Object   | 律師資訊，區分原告、被告律師，包含姓名、事務所、組織、職位 (可選)                                 | 記錄律師資訊，方便律師分析、組織關係分析                                                                                       | `{"原告": [{"姓名": "張三", "事務所": "XX 律師事務所", "組織": "XX 律師事務所", "職位": "合夥律師"}], "被告": [...]}` |
| `metadata.判決資訊.律師.原告[].組織`         | String   | 律師所屬組織，例如：律師事務所名稱                                                | 記錄律師所屬組織，方便組織關係分析                                                                                               | "XX 律師事務所"                                                       |
| `metadata.判決資訊.律師.原告[].職位`         | String   | 律師在組織內的職位 (可選)                                                    | 更精確描述律師在組織內的角色                                                                                                   | "合夥律師", "受雇律師"                                                 |
| `metadata.當事人資訊`                     | Object   | 當事人資訊                                                        | 記錄訴訟參與者資訊                                                                                              | -                                                                   |
| `metadata.當事人資訊.原告`               | Array of Object | 原告資訊，包含名稱、類型 (自然人/法人)、統一編號 (法人可選)、組織、職位 (法人可選)、代表人 (法人可選)       | 記錄原告資訊，方便當事人分析、組織關係分析、代表人關係分析                                                                                       | `[{"名稱": "王五", "類型": "自然人", "組織": null, "職位": null}, {"名稱": "ABC 有限公司", "類型": "法人", "統一編號": "98765432", "組織": "ABC 有限公司", "職位": null, "代表人": "王五"}]` |
| `metadata.當事人資訊.原告[].組織`           | String   | 當事人所屬組織 (若為法人)，若為自然人可為 `null`                               | 記錄當事人所屬組織，方便組織關係分析                                                                                               | "ABC 有限公司", null                                                  |
| `metadata.當事人資訊.原告[].職位`           | String   | 當事人在組織內的職位 (若為法人)，若為自然人可為 `null`，法人組織通常無職位               | 更精確描述當事人在組織內的角色 (若適用)                                                                                             | "總經理", null                                                       |
| `metadata.當事人資訊.原告[].代表人`          | String   | 若當事人為組織代表人，指向代表的組織的 ID (例如 "ORG-001")，若非代表人或自然人可為 `null` | 建立自然人與組織的代表關係，方便呈現組織代表人關係                                                                                       | "ORG-001", null                                                       |
| `metadata.當事人資訊.被告`               | Array of Object | 被告資訊 (結構同原告)                                                     | 記錄被告資訊，方便當事人分析、組織關係分析、代表人關係分析                                                                                       | -                                                                   |
| `metadata.當事人資訊.關係人`               | Array of Object | 其他訴訟關係人資訊 (可選)，例如證人、參加人，包含名稱、類型、關係描述                            | 記錄其他關係人資訊，擴展案件參與者資訊                                                                                 | `[{"名稱": "錢七", "類型": "自然人", "關係": "證人"}]`                               |
| `metadata.法律依據`                       | Object   | 判決書引用的法律依據                                                    | 記錄判決法律基礎                                                                                              | -                                                                   |
| `metadata.法律依據.法條`                  | Array of String | 判決書中引用的主要法條                                                    | 方便法律研究與分析                                                                                              | `["民法第 184 條", "刑法第 339 條"]`                                      |
| `metadata.法律依據.解釋`                  | Array of String | 判決書中引用的重要解釋令函或判例 (可選)                                 | 提升判決法律價值分析                                                                                           | `["最高法院 100 年度台上字第 1234 號判例"]`                                |
| `metadata.文件資訊`                       | Object   | 判決書文件本身資訊                                                      | 文件屬性描述                                                                                                | -                                                                   |
| `metadata.文件資訊.語言`                  | String   | 文件語言                                                            | 語言資訊，方便多語言處理                                                                                         | "中文"                                                                |
| `metadata.文件資訊.格式`                  | String   | 文件格式，例如：PDF, DOCX, TXT                                       | 文件格式資訊，方便文件處理                                                                                         | "PDF"                                                                 |
| `metadata.文件資訊.創建日期`              | String (YYYY-MM-DD) | 文件創建日期                                                          | 時間資訊，文件管理                                                                                              | "2023-10-26"                                                          |
| `metadata.文件資訊.修改日期`              | String (YYYY-MM-DD) | 文件最後修改日期 (若有)                                                 | 時間資訊，文件管理                                                                                              | "2023-10-27"                                                          |
| `metadata.文件資訊.文件來源`              | String   | 文件來源，例如：法院網站、法律資料庫等                                     | 追溯文件出處與可信度                                                                                           | "法院網站"                                                             |
| `metadata.文件資訊.檔案名稱`              | String   | 原始檔案名稱 (可選)                                                    | 方便文件管理                                                                                              | "判決書_臺灣高等法院_110上訴1234.pdf"                                       |
| `metadata.其他資訊`                       | Object   | 其他輔助資訊                                                        | 擴展性資訊欄位                                                                                              | -                                                                   |
| `metadata.其他資訊.關鍵字`                  | Array of String | 方便檢索的關鍵字                                                      | 提升檢索效率與準確性                                                                                           | `["損害賠償", "侵權行為", "車禍"]`                                         |
| `metadata.其他資訊.摘要`                  | String   | 判決摘要 (可選)                                                        | 快速了解判決內容                                                                                              | "本判決認定被告因過失駕駛造成原告損害，判決被告應負損害賠償責任。"                                             |
| `metadata.其他資訊.相關連結`              | Array of String | 連結到相關資源 (可選)                                                | 擴展資訊來源，建立關聯                                                                                           | `["https://example.com/related_case_law"]`                                 |
| `metadata.其他資訊.公開程度`              | String   | 判決書的公開程度 (若適用)，例如：公開、部分公開、不公開                         | 判決書公開資訊管理                                                                                             | "公開"                                                                |
| `metadata.其他資訊.備註`                  | String   | 其他需要記錄的備註事項                                                   | 彈性資訊記錄                                                                                              | "本判決為主文摘要版本。"                                                       |

**3.4.  範例 JSON (Version 2.2)**

```json
{
  "documentType": "判決書",
  "version": "2.2",
  "metadata": {
    "案件資訊": {
      "案件編號": "TPH-110-上訴-1234",
      "案件類型": "民事訴訟",
      "案由": "損害賠償",
      "審級": "二審",
      "年度": 2023
    },
    "法院資訊": {
      "法院名稱": "臺灣高等法院",
      "法院層級": "高等法院",
      "法院代碼": "TPH",
      "法院地點": "臺灣台北市"
    },
    "判決資訊": {
      "判決日期": "2023-10-26",
      "判決結果": "原告之訴駁回",
      "判決主文": "原告之訴駁回。訴訟費用由原告負擔。",
      "法官": [
        {
          "姓名": "王小明",
          "職稱": "法官",
          "組織": "臺灣高等法院",
          "職位": "庭長"
        },
        {
          "姓名": "李美麗",
          "職稱": "法官",
          "組織": "臺灣高等法院"
        }
      ]
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "王五",
          "類型": "自然人",
          "組織": null,
          "職位": null
        },
        {
          "名稱": "ABC 有限公司",
          "類型": "法人",
          "統一編號": "98765432",
          "組織": "ABC 有限公司",
          "職位": null,
          "代表人": "王五" // 假設王五的 ID 為 "王五-001"，這裡可以放 ID 或直接放名稱，視系統設計而定
        }
      ],
      "被告": [
        {
          "名稱": "趙六",
          "類型": "自然人",
          "組織": null,
          "職位": null
        }
      ]
    },
    "法律依據": {
      "法條": [
        "民法第 184 條"
      ]
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "PDF",
      "創建日期": "2023-10-26",
      "修改日期": "2023-10-27",
      "文件來源": "法院網站",
      "檔案名稱": "判決書_臺灣高等法院_110上訴1234.pdf"
    },
    "其他資訊": {
      "關鍵字": ["損害賠償", "車禍"],
      "摘要": "本判決認定被告於車禍事故中應負擔過失責任，但原告未能充分舉證損害金額，故駁回原告之訴。",
      "公開程度": "公開"
    }
  }
}
```

**4. 內容 Meta data 規格 (Content Metadata Specification) (Version 2.2)**

**4.1.  目的與設計理由**

內容 Meta data 的目的在於深入挖掘判決書的文本內容，提取關鍵資訊，並將 Meta data 與判決書文本內容建立關聯，以支援更精細的判決書分析、人事時地物關聯性分析與其他應用。

**4.2.  JSON 結構 (Version 2.2)**

```json
{
  "documentId": "法院代碼-年度-字別-案號", // 案件編號，與通用 Meta data 的案件編號對應
  "version": "2.2",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["關鍵字1", "關鍵字2"],
      "keySentences": [ /* (可選) */
        {
          "text": "描述事實的關鍵句子...",
          "地點": "XX路與YY路口", // 事件發生地點 (若事實概要中有提及)
          "時間": "民國110年1月1日上午10時許" // 事件發生時間 (若事實概要中有提及)
        }
      ],
      "案例類別": ["類別1", "類別2"],
      "爭議焦點": ["爭議點1", "爭議點2"],
      "相關法條": ["法條1", "法條2"],
      "事件類型": "車禍事故" // 更明確的事件類型
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["原告關鍵字1", "原告關鍵字2"],
        "keyArguments": [ /* (可選) */
          {
            "argument": "原告主張的核心論點..."
          }
        ]
      },
      "被告主張": { /* ... */ }
      // ... 其他當事人主張 (若有)
    },
    "法院理由": {
      "法律概念": ["法律概念1", "法律概念2"],
      "法律原則": ["法律原則1", "法律原則2"],
      "判決邏輯": [ /* (可選，若能結構化分析更好) */
        {
          "step": "步驟一：分析事實..."
        }
      ],
      "引用案例": [ /* (可選) */
        {
          "案件編號": "最高法院-年度-字別-案號"
        }
      ],
      "關鍵法條": ["關鍵法條1", "關鍵法條2"]
    },
    "判決結果": {
      "判決結果類型": "勝訴/敗訴/部分勝訴/駁回/撤銷/變更/其他",
      "判決要點": "判決結果的重點摘要"
    },
    "其他內容": { /* (可選) */
      "程序事項": {
        "keywords": ["程序關鍵字1", "程序關鍵字2"]
        // ...
      }
    }
  }
}
```

**4.3.  欄位詳細說明 (Version 2.2)**

| 欄位名稱                                | 資料類型             | 說明                                                                | 設計理由                                                                                                                               | 範例                                                                 |
| ------------------------------------- | ------------------ | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| `documentId`                          | String             | 案件編號，與通用 Meta data 的案件編號 (`案件資訊.案件編號`) 相同，作為關聯鍵 | 關聯通用 Meta data，確保資料一致性                                                                                                   | "TPH-110-上訴-1234"                                                   |
| `version`                               | String             | 規格版本號                                                             | 方便規格更新與管理                                                                                                                               | "2.2"                                                                 |
| `contentMetadata`                       | Object             | 內容 Meta data 主要容器                                                 | 結構化組織內容 Meta data                                                                                                             | -                                                                     |
| `contentMetadata.事實概要`                | Object             | 對應判決書的「事實」、「事實及理由」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.事實概要.keywords`       | Array of String    | 事實概要段落的關鍵字詞彙列表                                                    | 快速了解事實概要重點                                                                                                                             | `["車禍", "十字路口", "紅燈", "違規"]`                                     |
| `contentMetadata.事實概要.keySentences`  | Array of Object    | 重要的句子或段落 (可選)，包含 `text` (文本內容), `地點` (可選), `時間` (可選)       | 精確標註事實概要中的重要句子，方便段落摘要等可視化應用；可選地點和時間資訊，支援時地物分析，**可透過字串比對在判決書文本中定位句子**                                                                     | `[{"text": "被告駕駛汽車行經十字路口時闖紅燈...", "地點": "XX路與YY路口", "時間": "民國110年1月1日上午10時許"}]`                            |
| `contentMetadata.事實概要.keySentences.地點` | String             | 事件發生地點 (若事實概要中有提及)                                    | 提供事件發生地點資訊，支援地點分析與可視化，更完整的時地物資訊                                                                           | "XX路與YY路口", "公司辦公室", "住家"                                                      |
| `contentMetadata.事實概要.keySentences.時間` | String             | 事件發生時間 (若事實概要中有提及)                                    | 提供事件發生時間資訊，支援時間軸分析與可視化，更完整的時地物資訊                                                                           | "民國110年1月1日上午10時許", "2023年10月26日下午3點", "某日晚上"                                                 |
| `contentMetadata.事實概要.案例類別`         | Array of String    | 案件所屬的案例類別，例如：車禍事故、契約糾紛等                                         | 案件分類，方便案例分析                                                                                                                             | `["交通事故", "車禍事故"]`                                               |
| `contentMetadata.事實概要.爭議焦點`         | Array of String    | 案件的主要爭議焦點                                                         | 快速掌握案件爭議點                                                                                                                             | `["過失責任歸屬", "損害賠償範圍"]`                                          |
| `contentMetadata.事實概要.相關法條`         | Array of String    | 此段落中提及的法條 (若與法律依據 metadata 不同，可補充)                                   | 補充事實概要段落中提及的法條資訊                                                                                                   | `["道路交通管理處罰條例第XX條"]`                                          |
| `contentMetadata.事實概要.事件類型`        | String             | 更明確的事件類型描述，例如：車禍事故、契約簽訂、侵權行為                                       | 更精確的事件類型分類，方便事件分析與可視化，有助於事件關聯性分析                                                                           | "車禍事故", "契約糾紛", "職場性騷擾"                                                    |
| `contentMetadata.當事人主張`               | Object             | 對應判決書中原告、被告等當事人的主張段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.當事人主張.原告主張`      | Object             | 原告主張段落                                                                | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.當事人主張.原告主張.keywords` | Array of String    | 原告主張段落的關鍵字詞彙列表                                                    | 快速了解原告主張重點                                                                                                                             | `["醫療費用", "精神撫慰金", "被告應賠償"]`                                 |
| `contentMetadata.當事人主張.原告主張.keyArguments` | Array of Object    | 原告主要論點 (可選)，包含 `argument` (論點內容)                                        | 精確標註原告主張的核心論點，方便論點摘要等可視化應用，**可透過字串比對在判決書文本中定位論點**                                                                       | `[{"argument": "原告主張因車禍受傷，醫療費用共計新台幣XX元..."}]` |
| `contentMetadata.當事人主張.被告主張`      | Object             | 被告主張段落 (結構同 `原告主張`)                                               | 區分不同當事人主張                                                                                                                             | -                                                                     |
| `contentMetadata.法院理由`                 | Object             | 對應判決書的「理由」、「判斷理由」等核心段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.法院理由.法律概念`        | Array of String    | 判決理由中使用的重要法律概念，例如：侵權行為、過失責任等                                   | 提取判決書中的法律專業知識，方便法律分析                                                                                               | `["侵權行為", "過失責任", "因果關係"]`                                   |
| `contentMetadata.法院理由.法律原則`        | Array of String    | 判決理由中引用的法律原則，例如：比例原則、誠實信用原則                                   | 提取判決書中的法律原則，方便法律分析                                                                                               | `["過失相抵原則", "損害填補原則"]`                                     |
| `contentMetadata.法院理由.判決邏輯`        | Array of Object    | 法院的判決邏輯或推理過程 (可選，若能結構化分析更好)，包含 `step` (步驟描述)                       | 嘗試結構化分析判決的推理過程，方便理解判決思路 (複雜度較高，可選)，**可透過字串比對在判決書文本中定位步驟**                                                                        | `[{"step": "法院審酌相關證據，認定被告駕駛行為確有過失..."}]` |
| `contentMetadata.法院理由.引用案例`        | Array of Object    | 判決理由中引用的其他案例 (若有)，包含 `案件編號`                                          | 記錄引用案例，建立案例之間的關聯，方便案例檢索與分析                                                                                     | `[{"案件編號": "最高法院-109-台上-5432"}]`                                   |
| `contentMetadata.法院理由.關鍵法條`        | Array of String    | 判決理由中關鍵的法條 (可能與法律依據 metadata 相同或更聚焦)                               | 提取判決理由中的關鍵法條，更聚焦於判決理由的法律基礎                                                                                       | `["民法第 192 條", "民法第 193 條"]`                                   |
| `contentMetadata.判決結果`                | Object             | 對應判決書的「主文」、「結論」等段落                                     | 結構化判決書內容，符合判決書常用架構                                                                                                   | -                                                                     |
| `contentMetadata.判決結果.判決結果類型`     | String             | 更細緻的判決結果分類，例如：勝訴、敗訴、部分勝訴、駁回、撤銷、變更、其他                              | 更精確的判決結果分類，方便統計分析                                                                                               | "駁回"                                                                |
| `contentMetadata.判決結果.判決要點`        | String             | 判決結果的重點摘要                                                         | 快速了解判決結果核心內容                                                                                                                         | "駁回原告之訴，因原告未能充分舉證損害金額。"                                               |
| `contentMetadata.其他內容`                | Object             | 其他判決書中可能出現的段落，例如「程序事項」、「證據」等 (可選)                                | 擴展性結構，可根據具體判決書內容進行擴展                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項`       | Object             | 程序事項段落 (範例)                                                          | 範例，可根據實際需求定義                                                                                                                             | -                                                                     |
| `contentMetadata.其他內容.程序事項.keywords` | Array of String | 程序事項段落的關鍵字詞彙列表 (範例)                                                   | 範例，可根據實際需求定義                                                                                                                             | `["訴訟費用", "上訴期間", "送達"]`                                     |

**4.4.  位置索引說明**

**已移除 `startIndex` 和 `endIndex` 欄位。**  若需要將 Meta data 與判決書文本內容連結，建議使用字串比對的方式，例如，使用 `keySentences` 或 `keyArguments` 中的 `text` 或 `argument` 欄位值，在原始判決書文本中進行搜尋比對，以定位相關的文本段落。

**4.5.  範例 JSON (Version 2.2)**

```json
{
  "documentId": "TPH-110-上訴-1234",
  "version": "2.2",
  "contentMetadata": {
    "事實概要": {
      "keywords": ["車禍", "十字路口", "紅燈", "違規"],
      "keySentences": [
        {
          "text": "經查，被告駕駛汽車於民國110年1月1日上午10時許，行經本市XX路與YY路口時，不慎闖紅燈，與原告所騎乘之機車發生碰撞，致原告受傷。",
          "地點": "XX路與YY路口",
          "時間": "民國110年1月1日上午10時許"
        }
      ],
      "案例類別": ["交通事故", "車禍事故"],
      "爭議焦點": ["過失責任歸屬", "損害賠償範圍"],
      "相關法條": ["道路交通管理處罰條例第53條"],
      "事件類型": "車禍事故"
    },
    "當事人主張": {
      "原告主張": {
        "keywords": ["醫療費用", "精神撫慰金", "被告應賠償"],
        "keyArguments": [
          {
            "argument": "原告主張因本次車禍事故受有醫療費用新台幣5萬元、機車維修費用1萬元、精神撫慰金10萬元等損害，請求被告應賠償共計16萬元。"
          }
        ]
      },
      "被告主張": {
        "keywords": ["已盡注意義務", "原告亦有過失", "賠償金額過高"]
      }
    },
    "法院理由": {
      "法律概念": ["侵權行為", "過失責任", "因果關係"],
      "法律原則": ["過失相抵原則", "損害填補原則"],
      "判決邏輯": [
        {
          "step": "法院審酌相關證據，認定被告駕駛行為確有違反交通規則之過失。"
        },
        {
          "step": "然原告主張之精神撫慰金金額過高，法院酌減為5萬元。"
        }
      ],
      "引用案例": [],
      "關鍵法條": ["民法第 184 條", "民法第 195 條"]
    },
    "判決結果": {
      "判決結果類型": "部分勝訴",
      "判決要點": "判決被告應賠償原告醫療費用、機車維修費用及部分精神撫慰金，共計新台幣11萬元。"
    }
  }
}
```

**5. Meta data 的關聯與使用 (Version 2.2)**

* **關聯方式：** 通用 Meta data 與 內容 Meta data 都通過 `documentId` (或 通用 Meta data 中的 `案件資訊.案件編號`) 欄位進行關聯。
* **使用場景：**
    * 判決書檢索與篩選：使用通用 Meta data 進行快速檢索與篩選。
    * 判決書分析與可視化：
        * 使用通用 Meta data 和 內容 Meta data 提供可視化所需的資料。
        * 可基於通用 Meta data 和 內容 Meta data 設計各種可視化圖表和儀表板，例如時間軸、地圖、人物關係網絡、關鍵字詞雲等。
        * **文本定位方式：**  使用字串比對的方式，例如使用 `keySentences` 或 `keyArguments` 中的文本內容，在原始判決書文本中進行搜尋比對，以高亮或定位相關的文本段落。
    * 法律知識圖譜建構：利用 Meta data 中的法律依據、引用案例、法律概念等資訊建構法律知識圖譜。
    * LLM 應用：將 Meta data 作為 LLM 的輸入或輸出，用於判決書理解、摘要生成、問答系統、人事時地物關係抽取與分析等應用。
    * 人事時地物關聯性分析應用範例：
        * 時間軸分析：  利用 `判決資訊.判決日期`、`事實概要.keySentences.時間` 等時間資訊，分析案件的時間發展趨勢。
        * 地點分析：  利用 `法院資訊.法院地點`、`事實概要.keySentences.地點` 等地點資訊，分析案件的地理空間分佈。
        * 人物關係網絡：  利用 `當事人資訊`、`判決資訊` 中的人物資訊 (原告、被告、法官、律師等)，建立人物關係網絡圖，展示案件參與者之間的關係。
        * 事件流程分析：  結合 `事實概要.keySentences`、`判決邏輯.判決邏輯` 等資訊，分析案件的事實發展流程或法院的判決推理流程。

**6. 規格的未來擴展 (Version 2.2)**

* 更細緻的段落劃分：可以根據判決書的實際結構，劃分更細緻的段落，例如將「法院理由」再細分為「法律適用」、「事實認定」、「證據判斷」等子段落。
* 加入更多資訊類型：例如可以加入「證據類型」、「訴訟請求」、「賠償金額」、更精確的地理位置座標 (經緯度) 等更具體的資訊。
* 多語言支援：考慮支援多語言的 Meta data 規格，以處理不同語言的判決書。
* 本体 (Ontology) 標準化：未來可以朝向更標準化的法律本体方向發展，例如使用法律本体標準來描述案件類型、法律概念等，提升 Meta data 的互操作性和語義明確性。

**7. 結論 (Version 2.2)**

本規格書 (Version 2.2) 提供了更簡潔的兩種判決書 Meta data 設計規格：通用 Meta data 和 內容 Meta data。 移除了可視化 Meta data 部分，將可視化應用邏輯回歸到應用程式端處理。  透過遵循本規格書，可以更有效率地運用判決書資料，並促進法律科技在分析等方面的發展。

---

**請注意：**

* 本規格書為 Version 2.2 (通用 Meta data, 內容 Meta data)。
* 本規格書仍為建議規格，您可以根據您的具體需求進行調整和擴展。
* 在實際應用中，Meta data 的提取可能需要結合 OCR 技術、自然語言處理 (NLP) 技術以及人工標註。
* 提供給 LLM 時，請務必清晰地指示 LLM 按照本規格書的兩種 JSON 結構和欄位說明進行解析和資料提取，並特別指示 LLM 理解已移除 `startIndex` 和 `endIndex` 欄位，以及文本定位方式改為字串比對，且不再需要處理可視化 Meta data。

希望 Version 2.2 規格書能幫助您順利進行練習！ 移除可視化 Meta data 後，規格更為專注於資料本身，方便您集中精力練習判決書解析和資料提取。

## Q3.1-練習 1
- M::臺灣新竹地方法院 113 年家親聲字第 415 號民事判決
https://judgment.judicial.gov.tw/FJUD/data.aspx?ty=JD&id=SCDV,113%2c%e5%ae%b6%e8%a6%aa%e8%81%b2%2c415%2c20241111%2c1
- Q::Q3.1:請根據判決書 meta data 規格書，針對附件的判決書，產生 通用 Meta data 與 內容 meta data
- A::
```json
{
  "documentType": "判決書",
  "version": "2.2",
  "metadata": {
    "案件資訊": {
      "案件編號": "SCD-113-家親聲-415",
      "案件類型": "家事非訟事件",
      "案由": "分割遺產等",
      "審級": "一審",
      "年度": 2024
    },
    "法院資訊": {
      "法院名稱": "臺灣新竹地方法院",
      "法院層級": "地方法院",
      "法院代碼": "SCD",
      "法院地點": "臺灣新竹市"
    },
    "判決資訊": {
      "判決日期": "2024-10-08",
      "判決結果": "部分准許，部分駁回，遺產分割",
      "判決主文": "一、酌定原告自民國105年2月15日起擔任被繼承人洪玉琴即受輔助宣告人之輔助人報酬為每月新臺幣壹萬伍仟元。\n二、前項聲請程序費用新臺幣壹仟元由被繼承人洪玉琴即受輔助宣告人之遺產負擔。\n三、原告請求返還代墊扶養費之聲請駁回。\n四、前項聲請程序費用新臺幣壹仟元由原告負擔。\n五、兩造被繼承人洪玉琴所遺如附表一編號1至6號所示遺產，分割方法如附表一編號1至6號所示本院認定分割方法欄所載。\n六、前項訴訟費用由兩造依附表二所示之比例負擔。",
      "法官": [
        {
          "姓名": "林建鼎",
          "職稱": "法官",
          "組織": "臺灣新竹地方法院",
          "職位": "法官"
        }
      ],
      "檢察官": [],
      "律師": {
        "原告": [
          {
            "姓名": "彭首席",
            "事務所": null,
            "組織": null,
            "職位": "律師"
          },
          {
            "姓名": "廖沅庭",
            "事務所": null,
            "組織": null,
            "職位": "律師"
          }
        ],
        "被告": [
          {
            "姓名": "甲○○",
            "事務所": null,
            "組織": null,
            "職位": "訴訟代理人"
          }
        ]
      }
    },
    "當事人資訊": {
      "原告": [
        {
          "名稱": "丁○○",
          "類型": "自然人",
          "統一編號": null,
          "組織": null,
          "職位": null,
          "代表人": null
        }
      ],
      "被告": [
        {
          "名稱": "乙○○",
          "類型": "自然人",
          "統一編號": null,
          "組織": null,
          "職位": null,
          "代表人": null
        },
        {
          "名稱": "丙○○",
          "類型": "自然人",
          "統一編號": null,
          "組織": null,
          "職位": null,
          "代表人": null
        }
      ],
      "關係人": []
    },
    "法律依據": {
      "法條": [
        "家事事件法第41條",
        "家事事件法第42條",
        "家事事件法第51條",
        "民事訴訟法第53條",
        "民事訴訟法第248條",
        "民事訴訟法第256條",
        "民法第1164條",
        "民法第1113條之1",
        "民法第1104條",
        "民法第1138條",
        "民法第1140條",
        "民法第1141條",
        "民法第1176條",
        "民法第830條",
        "民法第824條",
        "民法第1151條",
        "民法第1150條",
        "民法第1114條",
        "民法第1117條",
        "民法第179條",
        "民事訴訟法第277條",
        "民事訴訟法第80條之1",
        "民事訴訟法第95條",
        "民事訴訟法第78條",
        "家事事件法第79條",
        "家事事件法第177條",
        "家事事件法第164條"
      ],
      "解釋": [
        "最高法院84年度台上字第2410號判決意旨",
        "最高法院98年度台上字第79號判決意旨",
        "最高法院82年台上字第748號判決要旨",
        "最高法院109年度台上字第89號民事判決意旨"
      ]
    },
    "文件資訊": {
      "語言": "中文",
      "格式": "md",
      "創建日期": "2024-11-11",
      "修改日期": "2024-11-11",
      "文件來源": "臺灣新竹地方法院",
      "檔案名稱": "臺灣新竹地方法院 113 年家親聲字第 415 號民事判決.md"
    },
    "其他資訊": {
      "關鍵字": [
        "遺產分割",
        "輔助人報酬",
        "扶養費"
      ],
      "摘要": "臺灣新竹地方法院就一起遺產分割事件作出判決， суд визначив 原告擔任受輔助宣告人期間的輔助人報酬，駁回原告返還代墊扶養費的請求，並就遺產進行分割，訴訟費用由兩造按比例負擔。",
      "相關連結": [],
      "公開程度": "公開",
      "備註": ""
    }
  }
}
```

```json
{
  "documentId": "SCD-113-家親聲-415",
  "version": "2.2",
  "contentMetadata": {
    "事實概要": {
      "keywords": [
        "被繼承人死亡",
        "失智",
        "輔助宣告",
        "輔助人",
        "扶養",
        "遺產",
        "分割遺產"
      ],
      "keySentences": [
        {
          "text": "兩造之被繼承人係原告、被告乙○○ 、被告丙○○之母，於112年5月27日死亡。",
          "地點": null,
          "時間": "112年5月27日"
        },
        {
          "text": "被繼承人過世前因失智狀況經104年度監宣字第138號裁定宣告為受輔助宣告人，並選定原告為輔助人，並於105年2月15日確定。",
          "地點": null,
          "時間": "105年2月15日"
        },
        {
          "text": "原告為照顧被繼承人，103年便退休，以專職照顧被繼承人，且經鈞院104年度監宣字第138號裁定宣告為輔助人，是按 民法第1113條之1準用第1104條，請求105年2月15日起至被繼承人死亡之日止，期間執行輔助人職務之報酬。",
          "地點": null,
          "時間": null
        }
      ],
      "案例類別": [
        "家事遺產事件",
        "遺產分割"
      ],
      "爭議焦點": [
        "輔助人報酬",
        "代墊扶養費",
        "遺產分割方法"
      ],
      "相關法條": [],
      "事件類型": "遺產繼承事件"
    },
    "當事人主張": {
      "原告主張": {
        "keywords": [
          "輔助人報酬",
          "代墊扶養費",
          "遺產分割",
          "保險金",
          "喪葬費",
          "醫療費"
        ],
        "keyArguments": [
          {
            "argument": "原告為照顧被繼承人，請求酌定輔助人報酬每月15,000元，共1,305,000元，並由被繼承人遺產支付。"
          },
          {
            "argument": "原告請求被告各自返還五年内之不當得利扶養費各546,908元。"
          },
          {
            "argument": "原告請求由遺產支付被繼承人之喪葬費用167,900元。"
          },
          {
            "argument": "原告請求由遺產支付被繼承人住院醫療費用67,492元。"
          },
          {
            "argument": "原告主張富邦人壽保險金1,230,000元應列入遺產範圍並分割。"
          },
          {
            "argument": "原告請求將被繼承人遺產如附表一所示之項目，依附表一原告主張分割方法欄所示之方法分割。"
          }
        ]
      },
      "被告主張": {
        "keywords": [
          "駁回原告之訴",
          "勞務費爭議",
          "保險金贈與",
          "喪葬費爭議",
          "醫療費爭議",
          "遺產均分",
          "訴訟費用原告負擔"
        ],
        "keyArguments": [
          {
            "argument": "被告丙○○答辯請求駁回原告之訴，訴訟費用由原告負擔，對附表一編號1至6的項目及金額不爭執，但認為編號7保險金與遺產無關，且拒絕原告要求之勞務費、醫療費、喪葬費。"
          },
          {
            "argument": "被告乙○○答辯請求駁回原告之訴，訴訟費用由原告負擔，不同意原告提出的勞務費、喪葬費、醫療費等訴求，認為保險金不應列為遺產，同意遺產應予均分。"
          }
        ]
      }
    },
    "法院理由": {
      "法律概念": [
        "遺產繼承",
        "遺產分割",
        "輔助人報酬",
        "扶養義務",
        "不當得利",
        "喪葬費",
        "遺產管理費用",
        "公同共有",
        "分別共有",
        "應繼分",
        "裁判分割",
        "舉證責任",
        "遺產範圍"
      ],
      "法律原則": [
        "遺產分割以遺產為一體",
        "遺產分割方法法院有自由裁量權",
        "共有人協議優先",
        "公平合理分配",
        "孝道倫理非法律強制義務"
      ],
      "判決邏輯": [
        {
          "step": "法院認定兩造為被繼承人之全體繼承人，並確認遺產範圍為附表一編號1至6號所示之項目，排除編號7保險金。"
        },
        {
          "step": "法院酌定原告輔助人報酬為每月15,000元，總計1,305,000元， 인정其應自遺產中預先扣除。"
        },
        {
          "step": "法院駁回原告返還代墊扶養費之聲請，理由是被繼承人有足夠財產維持生活，不符合受扶養要件，且原告之扶養行為屬道德義務，非法律義務。"
        },
        {
          "step": "法院駁回原告醫療費用扣還請求，理由同扶養費，且醫療費用屬孝道人倫範疇。"
        },
        {
          "step": "法院准許原告喪葬費扣還請求，認定喪葬費為遺產管理費用，應由遺產支付。"
        },
        {
          "step": "法院決定遺產分割方式，扣除輔助人報酬及喪葬費後，剩餘遺產由原告與被告乙○○按比例分配，附表一編號1所示遺產由原告與被告乙○○二分之一分配，編號2至6所示遺產按應繼分比例分配。"
        }
      ],
      "引用案例": [
        {
          "案件編號": "最高法院84年度台上字第2410號判決意旨"
        },
        {
          "案件編號": "最高法院98年度台上字第79號判決意旨"
        },
        {
          "案件編號": "最高法院82年台上字第748號判決要旨"
        },
        {
          "案件編號": "最高法院109年度台上字第89號民事判決意旨"
        }
      ],
      "關鍵法條": [
        "民法第1104條",
        "民法第1113條之1",
        "民法第1114條",
        "民法第1117條",
        "民法第1138條",
        "民法第1141條",
        "民法第1150條",
        "民法第1151條",
        "民法第1164條",
        "民法第1176條",
        "民法第179條",
        "民法第824條",
        "民法第830條",
        "民事訴訟法第277條",
        "民事訴訟法第80條之1",
        "家事事件法第51條",
        "民事訴訟法第256條"
      ]
    },
    "判決結果": {
      "判決結果類型": "部分准許，部分駁回，遺產分割",
      "判決要點": "法院酌定原告輔助人報酬，駁回代墊扶養費及醫療費請求，准許喪葬費扣還，並就遺產進行分割，主要遺產由原告與被告乙○○按比例分配。"
    },
    "其他內容": {}
  }
}
```
## Q3.2-Meta Data1.ipynb
- M::判決書 Meta Data1.ipynb
- Q::G3.2:請摘要，並做各種的可視化
- A::

## Q3.3-Meta Data2.ipynb
- M::判決書 Meta Data2.ipynb
- Q::G3.3:很分析關於案件的人事時地物，我希望能畫出結構圖，請使用 mermaid 語法
- A::

## Q4.1-模型能力加強
- M::
- Q::G4.1:以上設計規格與實際用裁判書產製meta data 的效果我很滿意，我想要調整開源模型也能夠做到這樣的功能，我幫助我設計模型所需要的 Task list，如果可以的話，請忽略一般開源模型已經能夠達到的能力，給我需要增強的能力
- A::好的，請參考以下繁體中文翻譯後的任務列表：

**任務列表：增強開源模型以實現高品質法律文件元數據提取**

**I. 領域特定語言理解與法律知識注入：**

1.  **法律術語和概念識別：**
    *   **任務：** 開發專門的法律詞彙表和概念詞典/本體。將其整合到模型的預處理或知識庫中。
    *   **需要增強的能力：** 通用模型可能無法準確識別或理解法律術語的細微差別（例如，“應繼分”、“輔助宣告”、“公同共有”）。模型需要經過訓練，以在法律背景下識別和解釋這些術語。
    *   **範例任務：**
        *   創建特定於家事法、繼承法等的法律術語詞彙表。
        *   在註解了法律術語的法律文件語料庫上微調語言模型。
        *   實施知識圖譜或外部資料庫查詢，以消除法律術語的歧義。

2.  **法律文件結構意識：**
    *   **任務：** 訓練模型理解法律文件的典型結構（例如，判決書、起訴書、合約）。重點識別關鍵部分，如“主文”、“事實及理由”、“當事人”。
    *   **需要增強的能力：** 模型需要超越句子層級的處理，並理解文件的整體組織結構，才能正確地從相關部分提取資訊。
    *   **範例任務：**
        *   使用結構化章節標籤（例如，使用 XML 或自訂標籤）註解法律文件數據集。
        *   訓練模型進行文件章節分割和分類。
        *   使用結構資訊引導資訊提取（例如，僅在“主文”部分中查找“判決結果”）。

3.  **法律推理和論證理解（進階）：**
    *   **任務：** 探索相關技術，使模型能夠理解“法院理由”部分中的基本法律推理模式和論證結構。
    *   **需要增強的能力：** 為了更深入的內容元數據，模型需要進一步理解法院做出決定的 *原因*，而不僅僅是 *決定是什麼*。這是一項更進階的任務，可能涉及論證挖掘或法律邏輯表示。
    *   **範例任務：**
        *   實驗論證挖掘技術，從“法院理由”中提取主張、前提和結論。
        *   探索使用法律邏輯框架以結構化方式表示法院的推理過程。
        *   專注於識別推理中應用的關鍵法律概念和原則。

**II. 增強資訊提取能力：**

4.  **精確的法律實體和角色命名實體識別 (NER)：**
    *   **任務：** 開發專門的 NER 模型，專門用於法律實體（法院、律師事務所、政府機構、公司、法律角色中的個人）和法律角色（法官、律師、檢察官、原告、被告等）。
    *   **需要增強的能力：** 通用 NER 模型可能未針對法律實體和角色識別的細微差別進行優化。準確性和細粒度分類至關重要。
    *   **範例任務：**
        *   創建一個大型、高品質的法律文件註解數據集，用於 NER，重點關注法律實體和角色類型。
        *   在此法律 NER 數據集上微調最先進的 NER 模型（例如，spaCy、基於 transformers 的模型）。
        *   實施基於規則或基於詞典的後處理，以提高 NER 的準確性和一致性。

5.  **法律背景下的複雜關係提取：**
    *   **任務：** 訓練模型提取法律實體和角色之間的複雜關係（例如，“律師 X *代表* 原告 Y”、“法官 Z *主持* 案件 ABC”、“法院 A *位於* 城市 B”）。
    *   **需要增強的能力：** 除了簡單的實體識別之外，模型還需要理解和提取這些實體 *之間* 的關係，這對於構建知識圖譜和理解法律流程至關重要。
    *   **範例任務：**
        *   註解用於關係提取的數據集，定義與法律元數據相關的關係類型（代表、管轄權、僱傭關係等）。
        *   在此數據集上訓練關係提取模型（例如，使用基於 transformer 的架構或圖神經網路）。
        *   實驗遠程監督或知識圖譜嵌入技術，以在註解數據有限的情況下改進關係提取。

6.  **法律引用識別和解析：**
    *   **任務：** 開發一個穩健的系統，以識別和解析各種格式的法律引用（法條、判例、解釋）。
    *   **需要增強的能力：** 法律引用具有特定的格式，並且可能很複雜。準確的解析對於連結到法律資料庫和理解法律基礎至關重要。
    *   **範例任務：**
        *   創建一個法律引用數據集，其中包含引用類型、法律名稱、條款號碼等的註解。
        *   訓練模型識別和解析這些引用，可以結合使用正則表達式和 NLP 技術。
        *   整合法律引用資料庫查詢，以驗證和標準化提取的引用。

7.  **帶有單位和上下文的值提取（例如，金額、日期）：**
    *   **任務：** 增強值提取功能，不僅捕捉數字，還要捕捉單位（例如，“新臺幣”、“元”）和上下文（例如，“輔助人報酬為每月新臺幣壹萬伍仟元”）。
    *   **需要增強的能力：** 對於“金額”、“判決日期”等欄位，模型不僅需要提取原始值，還需要提取其單位並理解其在法律文本中的上下文。
    *   **範例任務：**
        *   使用值實體、單位和上下文標籤註解數據集。
        *   訓練模型進行值提取、單位識別和上下文分類。
        *   使用基於規則的後處理來標準化單位並一致地格式化值。

**III. 結構化輸出生成與綱要遵循：**

8.  **JSON 綱要強制執行和輸出格式化：**
    *   **任務：** 實施相關機制，以確保模型的輸出嚴格遵循已定義的通用和內容元數據 JSON 綱要。
    *   **需要增強的能力：** 開源模型可能會生成自由格式的文本或偏離所需的結構化輸出。強制執行綱要合規性對於數據可用性至關重要。
    *   **範例任務：**
        *   開發基於 JSON 綱要的輸出驗證腳本，以自動檢查模型輸出。
        *   實施約束解碼或輸出生成技術，以引導模型產生符合綱要的輸出。
        *   微調模型以直接生成結構化的 JSON 輸出，而不僅僅是文本。

9.  **處理遺失或不明確的資訊：**
    *   **任務：** 訓練模型優雅地處理文件中資訊遺失或不明確的情況。定義策略來表示元數據中的遺失資訊（例如，使用 `null` 值或特定的佔位符）。
    *   **需要增強的能力：** 法律文件並非總是結構完美，資訊可能是隱含的或缺失的。模型需要能夠應對此類變化。
    *   **範例任務：**
        *   分析數據集，找出法律文件中常見的資訊遺失和不明確類型。
        *   訓練模型預測特定元數據欄位的存在與否。
        *   實施後備策略或不確定提取的信心評分，以便在需要時進行人工審查。

**IV. 評估與迭代改進：**

10. **開發法律元數據評估指標：**
    *   **任務：** 定義專門為法律元數據提取量身定制的評估指標（超越標準 NLP 指標）。考慮綱要有效性、資訊完整性、法律準確性和相關性的指標。
    *   **需要增強的能力：** 標準指標（如 F1 分數）可能無法完全捕捉法律元數據的品質。領域特定的指標是必要的。
    *   **範例任務：**
        *   設計指標來衡量提取的法律實體、角色、關係和引用的準確性。
        *   開發指標來評估元數據的完整性（所有必需欄位的覆蓋率）。
        *   納入人工評估，以評估提取的元數據的法律相關性和實用性。

11. **迭代模型訓練和改進週期：**
    *   **任務：** 建立一個迭代流程，用於模型訓練、評估、錯誤分析和改進。根據評估結果和回饋不斷改進模型。
    *   **需要增強的能力：** 模型開發是一個迭代過程。基於評估和錯誤分析的不斷改進對於實現高品質的法律元數據提取至關重要。
    *   **範例任務：**
        *   實施 A/B 測試或線上評估，以比較不同的模型版本。
        *   進行定期錯誤分析，以識別常見錯誤和需要改進的領域。
        *   建立與法律專家之間的回饋迴路，以審查和更正模型輸出，並改進訓練數據。

**開源模型的關鍵考量：**

*   **資料可用性：** 最大的挑戰可能是用於訓練這些專門模型的高品質、註解法律數據集的可用性。考慮數據集創建、註解以及可能使用弱監督或遷移學習等技術的策略。
*   **計算資源：** 訓練用於關係提取和法律推理等任務的複雜模型可能需要大量的計算資源。考慮高效的模型架構和訓練技術。
*   **開源工具和函式庫：** 利用現有的開源 NLP 函式庫（spaCy、Hugging Face Transformers 等），並在可能的情況下探索專門的法律 NLP 工具。
*   **社群參與：** 如果可能，請與開源社群合作，共同進行數據集創建、模型開發和評估。

透過專注於這些增強任務，您可以引導開源模型的開發，使其能夠從法律文件中實現高品質、結構化的元數據提取，類似於您提供的範例。 請記住，這是一項複雜的工作，具有仔細評估的迭代開發對於成功至關重要。


## Q5.1-判決書的可視化系統規格
- M::G2
- Q::G5.1:如果我想做一個判決書的可視化系統，請給我建議系統規格
- A::好的，建置一個判決書可視化系統是一個複雜但非常有價值的專案。以下是針對這個系統的建議規格，涵蓋了不同層面：

**1. 系統目標 (System Goal)**

*   **核心目標：** 將大量、非結構化的判決書文本轉化為易於理解、可互動的可視化圖表和介面，以輔助法律研究人員、律師、法官或公眾快速洞察案件資訊、法律趨勢、關聯性等。
*   **使用者群體：** 律師、法官、法學研究者、學生、對特定議題感興趣的公眾、數據記者等。

**2. 主要功能需求 (Functional Requirements)**

*   **數據導入 (Data Ingestion):**
    *   支援上傳單一或批次判決書檔案（格式：PDF, DOCX, TXT，可能需要 OCR 處理掃描件）。
    *   可連接外部判決書資料庫 API（如果有的話）。
    *   導入時能初步解析基本元數據（如案號、法院、日期、當事人等，如果格式較固定的話）。
*   **數據處理與分析 (Data Processing & Analysis):**
    *   **文本解析與清洗：** 從不同格式文件中提取純文本，去除噪音（頁眉頁腳、格式符號等）。
    *   **自然語言處理 (NLP):**
        *   **命名實體識別 (NER):** 自動標註和提取關鍵實體，如：人名（法官、律師、當事人）、組織名（法院、律所）、地名、日期、法條編號、案號、金額等。
        *   **關係抽取：** 識別實體間的關係，如：原告 vs 被告、法官審理案件、判決引用法條、案件引用先例等。
        *   **關鍵詞提取：** 提取代表判決書核心內容的關鍵詞或短語。
        *   **文本分類/主題模型：** 自動將判決書歸類到不同的案件類型（民事、刑事、行政）、爭議點或法律議題。
        *   **判決結果提取：** 識別判決主文的結果（勝訴、敗訴、部分勝訴、駁回、和解等）。
        *   **(可選) 法律論點抽取：** 嘗試識別主要的法律爭點和雙方論點。
        *   **(可選) 文本摘要：** 生成判決書的簡短摘要。
*   **數據儲存 (Data Storage):**
    *   **原始文件儲存：** 儲存上傳的原始判決書文件。
    *   **結構化數據儲存：** 儲存提取出的元數據、實體、關係、分類結果等。
    *   **索引儲存：** 建立高效的全文檢索和數據聚合索引。
*   **數據檢索與查詢 (Data Retrieval & Query):**
    *   **關鍵字全文檢索：** 快速搜尋包含特定關鍵字的判決書。
    *   **結構化查詢：** 根據提取的實體（如法官、法院、案由、法條、日期範圍、判決結果）進行篩選和查詢。
    *   **複合查詢：** 支援多個條件的組合查詢。
*   **可視化呈現 (Visualization):**
    *   **單一判決書可視化：**
        *   **實體標註高亮：** 在判決書原文中高亮顯示提取出的關鍵實體。
        *   **判決結構圖：** 將判決書的不同部分（事實、理由、主文）以結構化方式展示。
        *   **關鍵詞雲：** 展示單篇判決書的關鍵詞頻率。
    *   **多判決書聚合可視化：**
        *   **趨勢分析圖：** 按時間、法院、案由等維度展示案件數量、勝訴率、平均審理時間等趨勢（柱狀圖、折線圖）。
        *   **地理分佈圖：** 將案件按法院所在地標註在地圖上，顯示地理分佈特徵。
        *   **關係網絡圖：**
            *   **引用關係網絡：** 展示判決書之間、判決書與法條之間的引用關係。
            *   **人物/機構關聯網絡：** 展示法官、律師、當事人、律所之間的合作或對抗關係。
        *   **案由/爭點分佈圖：** 展示不同案由或法律爭議點的案件數量佔比（餅圖、樹狀圖）。
        *   **比較視圖：** 並排比較多個判決書的關鍵資訊或指標。
*   **使用者介面 (User Interface):**
    *   直觀易用的儀表板 (Dashboard)。
    *   互動式圖表（點擊圖表元素可進行下鑽、篩選或跳轉）。
    *   可自訂的篩選器和查詢條件。
    *   結果列表與判決書原文查看器。
    *   **(可選) 報表生成與匯出：** 將查詢結果或可視化圖表匯出為報告（PDF, CSV, PNG 等）。
*   **(可選) 使用者管理與權限控制:** 如果需要多人協作或區分不同使用者權限。

**3. 技術架構建議 (Technical Architecture)**

*   **前端 (Frontend):**
    *   **框架：** React, Vue, Angular 等現代 JavaScript 框架。
    *   **可視化庫：**
        *   **通用：** D3.js (靈活但複雜), Plotly.js, Chart.js, ECharts。
        *   **網絡圖：** Cytoscape.js, vis.js (Network module), Sigma.js。
        *   **地圖：** Leaflet, Mapbox GL JS。
        *   **時間軸：** vis.js (Timeline module)。
*   **後端 (Backend):**
    *   **語言/框架：** Python (Flask/Django - 強大的 NLP 生態), Node.js (Express), Java (Spring Boot), Go。
    *   **API：** 提供 RESTful API 或 GraphQL API 供前端調用。
*   **自然語言處理 (NLP):**
    *   **庫/工具：**
        *   **Python:** spaCy, NLTK, Transformers (Hugging Face - 可使用預訓練或微調的 BERT 等模型), jieba (中文分詞)。
        *   **專用工具/服務:** 可能有針對法律文本的商業或開源工具。
    *   **模型：** 需要針對法律領域的中文文本進行訓練或微調 NER、關係抽取、分類等模型，以提高準確度。
*   **數據庫 (Database):**
    *   **關係型數據庫 (RDBMS):** PostgreSQL, MySQL - 儲存結構化的元數據、使用者資訊等。PostgreSQL 對 JSONB 的支援也很好。
    *   **文檔數據庫/搜尋引擎:** Elasticsearch, OpenSearch, Solr - 非常適合全文檢索、日誌聚合、以及驅動可視化分析 (Kibana/OpenSearch Dashboards 可以作為快速原型或輔助工具)。
    *   **圖數據庫 (Graph Database):** Neo4j, Nebula Graph, JanusGraph - 極其適合儲存和查詢實體間的複雜關係，是關係網絡可視化的理想後端。
    *   **文件儲存:** AWS S3, Azure Blob Storage, Google Cloud Storage 或本地文件系統 - 儲存原始判決書文件。
    *   **建議：** 混合使用，例如 PostgreSQL 儲存核心元數據，Elasticsearch 負責全文檢索和聚合分析，Neo4j 處理關係網絡。
*   **基礎設施 (Infrastructure):**
    *   **雲平台:** AWS, Azure, GCP 提供彈性計算、儲存、數據庫和 AI/ML 服務。
    *   **容器化:** Docker - 打包應用程式及其依賴。
    *   **容器編排:** Kubernetes (K8s) - 自動化部署、擴展和管理容器化應用。
    *   **(可選) 數據處理管道:** Apache Airflow, Luigi - 管理複雜的數據導入和 NLP 處理流程。

**4. 數據處理流程 (Data Processing Workflow)**

1.  **上傳/獲取：** 接收判決書文件或從 API 拉取數據。
2.  **預處理：** OCR（如果是圖片 PDF），文本提取，去除噪音。
3.  **NLP 分析：** 分詞、NER、關係抽取、分類、關鍵詞提取等。
4.  **數據結構化：** 將提取的資訊轉換為結構化格式。
5.  **數據儲存：**
    *   原始文件存入文件儲存。
    *   結構化數據存入 RDBMS 或 NoSQL。
    *   關係數據存入圖數據庫。
    *   建立全文索引到 Elasticsearch。
6.  **API 服務：** 後端 API 提供查詢和聚合數據的功能。
7.  **前端請求：** 使用者在前端進行查詢或瀏覽。
8.  **可視化渲染：** 前端獲取數據並使用可視化庫渲染圖表。

**5. 非功能性需求 (Non-Functional Requirements)**

*   **性能 (Performance):**
    *   查詢響應時間：對於常見查詢應在幾秒內返回結果。
    *   可視化加載時間：圖表應快速加載和渲染。
    *   NLP 處理效率：批次處理判決書應有可接受的吞吐量。
*   **可擴展性 (Scalability):**
    *   系統應能處理不斷增長的判決書數量（可能達數百萬甚至更多）。
    *   架構應支援水平擴展（增加更多伺服器節點）。
*   **可用性 (Availability):** 系統應穩定可靠，具備高可用性。
*   **安全性 (Security):**
    *   保護判決書數據（尤其是如果涉及未公開或敏感資訊）。
    *   使用者身份驗證和授權。
    *   防止 SQL 注入、XSS 等常見攻擊。
*   **易用性 (Usability):** 介面應直觀，使用者無需過多培訓即可上手。
*   **可維護性 (Maintainability):** 代碼應結構清晰、文檔齊全，易於修改和擴展。
*   **準確性 (Accuracy):** NLP 提取的準確性是系統價值的關鍵，需要持續評估和改進模型。

**6. 潛在挑戰 (Potential Challenges)**

*   **數據來源與質量：** 判決書格式多樣、掃描件質量不一、OCR 錯誤。
*   **法律語言的複雜性：** 術語專業、句式複雜、歧義性。
*   **NLP 模型準確性：** 針對中文法律文本的預訓練模型可能有限，需要大量標註數據進行微調，成本較高。
*   **關係抽取的難度：** 準確識別複雜的法律關係（如多方關係、間接引用）是個挑戰。
*   **計算資源需求：** NLP 模型訓練和大規模數據處理需要較高的計算資源。
*   **隱私與合規：** 處理判決書可能涉及個人隱私，需遵守相關法規。

**7. 建議步驟 (Recommended Steps)**

1.  **定義範圍 (MVP)：** 先從核心功能做起，例如：支援特定格式導入、基礎的 NER（人名、法院、日期）、關鍵字搜索、簡單的案件列表和趨勢圖。
2.  **數據收集與評估：** 收集一批代表性的判決書樣本，評估其格式和質量。
3.  **技術選型與驗證：** 針對核心功能選擇合適的技術棧，並進行小規模驗證（PoC），特別是 NLP 部分的準確性。
4.  **迭代開發：** 基於 MVP 版本，根據使用者反饋逐步增加功能（如更複雜的 NLP 任務、關係圖譜、更多可視化類型）。
5.  **模型優化：** 持續收集標註數據，迭代優化 NLP 模型。
6.  **使用者測試與反饋：** 邀請目標使用者進行測試，收集反饋以改進系統。

這個規格比較全面，你可以根據你的具體需求、預算和時間限制進行裁剪和調整。祝你專案順利！

## Q5.2-介紹 spaCy
- M::
- Q::G5.2:請介紹 spaCy
- A::好的，spaCy 是一個非常流行且功能強大的 **Python 自然語言處理 (NLP) 函式庫**。它的設計哲學是**為實際應用而生 (industrial-strength NLP)**，注重效率、易用性和處理大規模文本的能力。

以下是對 spaCy 的詳細介紹：

**1. 核心定位與哲學：**

*   **生產力優先：** spaCy 的目標是讓你能夠快速地將 NLP 技術應用到實際的產品或研究中。它提供預訓練好的模型和相對簡潔的 API。
*   **效率至上：** spaCy 底層使用 Cython (Python 的超集，可以編譯成 C) 編寫了許多關鍵部分，使其運行速度非常快，內存佔用也相對較低，適合處理大量文本。
*   **意見明確 (Opinionated)：** 與 NLTK 等提供多種算法選擇的函式庫不同，spaCy 通常會為每個 NLP 任務提供一個（或少數幾個）它認為是當前最好或最實用的實現。這簡化了使用者的選擇，但也意味著在某些特定研究場景下可能不如 NLTK 靈活。
*   **非破壞性 (Non-destructive) 的 Tokenization：** spaCy 的處理流程從 `Doc` 物件開始，它代表處理後的文本。`Doc` 物件保留了原始文本的所有信息，包括空格。Token（詞語）只是原始文本字符串的一個視圖（span），這使得原始文本和處理結果之間的映射非常容易。

**2. 主要功能和組件：**

spaCy 的核心是其**處理管道 (Processing Pipeline)**。當你使用 `nlp()` 物件處理一段文本時，文本會依次通過管道中的各個組件，每個組件會對 `Doc` 物件進行分析並添加註釋 (annotations)。常見的管道組件包括：

*   **Tokenizer (分詞器):** 將原始文本分割成詞語 (Token)。spaCy 的分詞器非常高效，並且能處理很多邊緣情況。
*   **Tagger (詞性標註器):** 為每個 Token 標註其詞性 (Part-of-Speech, POS)，例如：名詞、動詞、形容詞等。
*   **Parser (依存句法分析器):** 分析句子中詞語之間的語法關係（例如，哪個詞是主語，哪個詞是動詞的賓語），並生成依存關係樹。
*   **NER (命名實體識別器):** 識別並標註文本中的命名實體，如人名 (PERSON)、組織名 (ORG)、地名 (GPE)、日期 (DATE) 等。
*   **Lemmatizer (詞形還原器):** 將詞語還原為其基本形式或詞典形式（lemma），例如 "running" -> "run", "ran" -> "run", "mice" -> "mouse"。
*   **Sentence Recognizer/Segmenter (句子邊界檢測):** 將文本分割成句子。
*   **Attribute Ruler:** 用於基於詞典或規則設置 Token 屬性（如 lemma、POS）。
*   **Entity Linker (實體連結):** (可選組件) 將識別出的命名實體連結到知識庫中的唯一標識符（例如，將 "Apple" 連結到維基百科頁面 "Apple Inc."）。
*   **Text Classifier (文本分類器):** (可選組件) 將整個文本劃分到預定義的類別中。

**3. 核心物件：**

*   **`nlp` 物件:** spaCy 的入口點，包含了處理管道和語言模型。通常通過 `spacy.load("model_name")` 加載。
*   **`Doc` 物件:** `nlp` 物件處理文本後返回的核心容器。它包含了原始文本以及所有 Token 和它們的註釋（詞性、依存關係、實體標籤等）。你可以把它想像成一個分析過的文檔。
*   **`Token` 物件:** 代表 `Doc` 中的一個詞語。它擁有多種屬性，如 `.text` (原始文本), `.lemma_` (詞元), `.pos_` (簡單詞性), `.tag_` (詳細詞性), `.dep_` (依存關係), `.is_alpha`, `.is_stop` (是否為停用詞) 等。
*   **`Span` 物件:** `Doc` 物件的一個切片（連續的 Token 序列）。例如，一個命名實體就是一個 `Span`。`Span` 物件也擁有類似 `.text`, `.lemma_`, `.ents` 等屬性。
*   **`Matcher` / `PhraseMatcher`:** 強大的基於規則的匹配工具，可以讓你使用 Token 屬性（而不僅僅是文本）來定義匹配模式，用於查找特定的詞語序列或短語。

**4. 優點：**

*   **高性能：** 運行速度快，內存效率高。
*   **易用性：** API 設計相對直觀，學習曲線平緩。
*   **預訓練模型：** 提供多種語言（包括中文）和不同規模（小、中、大，以及基於 Transformer 的模型）的預訓練模型，開箱即用。
*   **整合性好：** 將多種常見 NLP 任務整合在一個流暢的管道中。
*   **可擴展性：** 可以輕鬆自訂處理管道，添加或替換組件，訓練自己的模型。
*   **活躍社群與良好文檔：** 擁有活躍的開發團隊和使用者社群，以及非常詳盡的官方文檔和示例。
*   **與深度學習框架集成：** 底層使用 Thinc 機器學習庫，可以方便地與 PyTorch、TensorFlow 等框架集成。

**5. 缺點/限制：**

*   **不如 NLTK 靈活：** 對於純粹的 NLP 算法研究或需要嘗試多種不同算法的場景，NLTK 可能提供更多選擇。
*   **模型訓練可能複雜：** 雖然基本使用簡單，但深入的模型訓練和管道定制需要更深入的學習。
*   **中文模型依賴：** 中文處理的效果很大程度上依賴於所使用的預訓練模型和分詞器的質量。

**6. 典型應用場景：**

*   **信息提取：** 從大量文本中提取關鍵信息，如人名、地名、時間、關鍵事件等。
*   **文本分析與理解：** 分析文本的情感傾向、主題、語法結構。
*   **聊天機器人/問答系統：** 理解使用者意圖，提取關鍵詞。
*   **搜索引擎：** 改善查詢理解和文檔相關性排序。
*   **內容分類與標籤化：** 自動將新聞、文章、評論等進行分類。
*   **你的判決書可視化系統：** 非常適合用來提取判決書中的關鍵實體（法官、當事人、律師、法條、案號）、判決結果、關鍵詞、句子結構等。

**簡單範例 (Python):**

```python
import spacy

# 加載英文小模型 (需要先下載: python -m spacy download en_core_web_sm)
# 對於中文，可以使用 zh_core_web_sm/md/lg
# nlp = spacy.load("zh_core_web_sm")
nlp = spacy.load("en_core_web_sm")

text = "Apple is looking at buying U.K. startup for $1 billion"

# 使用 nlp 物件處理文本
doc = nlp(text)

# 遍歷 Token
print("Tokens:")
for token in doc:
    print(f"{token.text:<10} {token.lemma_:<10} {token.pos_:<8} {token.tag_:<8} {token.dep_:<10} {spacy.explain(token.pos_)}")

print("\nNamed Entities:")
# 遍歷命名實體
for ent in doc.ents:
    print(f"{ent.text:<20} {ent.label_:<10} {spacy.explain(ent.label_)}")

# 句子分割 (如果模型包含句子分割器)
print("\nSentences:")
for sent in doc.sents:
    print(sent.text)

# 名詞短語 (Noun Chunks)
print("\nNoun Chunks:")
for chunk in doc.noun_chunks:
    print(chunk.text)
```

總之，spaCy 是一個現代、高效且實用的 NLP 函式庫，非常適合需要將 NLP 技術應用到實際項目中的開發者和研究人員。對於你的判決書可視化系統來說，spaCy 會是一個非常有力的工具。
## Q6.1-裁判書代號
- M::
- Q::G6.1:台灣的裁判書代號，範例： CYDM,88,易,1268,20000111，請告訴我編碼規則，以及欄位中舉例值域
- A::好的，這個「CYDM,88,易,1268,20000111」是台灣司法院裁判書查詢系統中常見的一種案件識別碼格式，通常在網址或系統內部使用。它由五個部分組成，以逗號分隔，各自代表不同的意義：

**編碼規則與欄位說明：**

1.  **法院代碼 (Court Code):**
    *   **範例值:** `CYDM`
    *   **意義:** 代表審理該案件的法院。通常是法院名稱的縮寫。
    *   **規則:** 由英文字母組成，長度不固定，但通常是 3 到 4 個字母。
    *   **值域舉例:**
        *   `TPC` 或 `TPD`: 臺北地方法院 (Taipei District Court) - 可能因系統版本或不同時期而有 `TPC` 或 `TPD`
        *   `TPH`: 臺灣高等法院 (Taiwan High Court)
        *   `SCD`: 最高法院 (Supreme Court)
        *   `SLD`: 士林地方法院 (Shilin District Court)
        *   `TCH`: 臺中高等法院 (Taichung Branch, Taiwan High Court)
        *   `KSY`: 橋頭地方法院 (Ciaotou District Court)
        *   `CYDM` 在此範例中代表 **嘉義地方法院 (Chiayi District Court)**。(`DM` 常見於地方法院的代碼中)

2.  **收案年度 (Case Registration Year):**
    *   **範例值:** `88`
    *   **意義:** 案件被法院受理登記的年份，使用 **民國紀年**。
    *   **規則:** 1 到 3 位的數字。
    *   **值域舉例:**
        *   `88` 代表 民國 88 年 (西元 1999 年)
        *   `101` 代表 民國 101 年 (西元 2012 年)
        *   `112` 代表 民國 112 年 (西元 2023 年)
        *   範圍通常是從民國早期到現在的年份數字。

3.  **字別 (Case Type / Procedure Identifier - "Zibie"):**
    *   **範例值:** `易`
    *   **意義:** 代表案件的種類、性質或所適用的程序。這是區分案件性質非常重要的一個欄位。
    *   **規則:** 通常是一個中文字。
    *   **值域舉例 (非常多樣，僅列舉常見者):**
        *   **民事類:**
            *   `訴` (Su): 一般民事訴訟
            *   `簡` (Jian): 民事簡易訴訟程序
            *   `小` (Xiao): 民事小額訴訟程序
            *   `調` (Tiao): 民事調解程序
            *   `執` (Zhi): 民事強制執行
            *   `家` (Jia): 家事事件 (如離婚、繼承、保護令等)
            *   `事` (Shi): 非訟事件 (如宣告死亡、監護宣告)
            *   `勞` (Lao): 勞動事件
        *   **刑事類:**
            *   `訴` (Su): 一般刑事訴訟 (通常指地院第一審)
            *   `易` (Yi): 刑事簡易程序 (通常指可判處拘役、罰金或緩刑的輕罪)
            *   `簡` (Jian): 刑事簡易判決處刑 (由檢察官聲請)
            *   `偵` (Zhen): 檢察官偵查階段相關 (較少在判決書號看到，多在書類)
            *   `少` (Shao): 少年事件
            *   `交` (Jiao): 交通裁決異議
        *   **行政類:**
            *   `訴` (Su): 行政訴訟
            *   `簡` (Jian): 行政訴訟簡易程序
        *   **上級審:**
            *   `上` (Shang): 第二審上訴 (如：民事 `上`、刑事 `上訴`)
            *   `抗` (Kang): 抗告程序
            *   `再` (Zai): 再審程序
            *   `台上` (Tai Shang): 最高法院上訴/抗告 (民、刑)
            *   `最高行` (Zui Gao Xing): 最高行政法院
        *   **憲法法庭:**
            *   `憲判` (Xian Pan): 憲法法庭判決
    *   範例中的 `易` 代表 **刑事簡易程序案件**。

4.  **流水號 (Serial Number):**
    *   **範例值:** `1268`
    *   **意義:** 該法院在該年度、該字別下，依收案順序編列的案件號碼。
    *   **規則:** 純數字，通常從 1 開始遞增。
    *   **值域舉例:**
        *   `1`, `2`, `100`, `1268`, `5000` 等。
        *   其最大值取決於該法院當年該類案件的數量。

5.  **裁判日期 (Judgment Date):**
    *   **範例值:** `20000111`
    *   **意義:** 法院作出該裁判（判決、裁定等）的日期。
    *   **規則:** 使用 **西元年月日**，格式為 `YYYYMMDD`。
    *   **值域舉例:**
        *   `20000111` 代表 西元 2000 年 1 月 11 日
        *   `20231231` 代表 西元 2023 年 12 月 31 日

**總結範例「CYDM,88,易,1268,20000111」的意義：**

這組代號代表的是：

*   **法院:** 嘉義地方法院 (CYDM)
*   **收案年度:** 民國 88 年 (1999 年)
*   **案件字別:** 刑事簡易程序 (易)
*   **流水號:** 第 1268 號
*   **裁判日期:** 西元 2000 年 1 月 11 日

這組代號組合起來，就能唯一識別台灣法院系統中的一份特定裁判文書。在建置判決書可視化系統時，理解這個編碼規則對於數據的解析、分類和關聯分析至關重要。

## Q6.2-法院代碼 (Court Code)
- M::
- Q::G6.2:請給我全部的 法院代碼 (Court Code)
- A::好的，這是一個盡可能完整的台灣各級法院及其分院在裁判書查詢系統中常用的「法院代碼」列表。請注意，這些代碼主要是基於司法院裁判書查詢系統的使用習慣和常見模式，可能在不同系統或歷史時期有微小差異。

**最高層級法院**

*   `SCD`: 最高法院 (Supreme Court)
*   `SPC`: 最高行政法院 (Supreme Administrative Court)
*   `PCC`: 懲戒法院 (Disciplinary Court) - 前身為公務員懲戒委員會
*   `TCF`: 憲法法庭 (Taiwan Constitutional Court) - 其判決字號格式不同，但此代碼用於識別。

**高等法院及其分院**

*   `TPH`: 臺灣高等法院 (Taiwan High Court)
*   `TCH`: 臺灣高等法院 臺中分院 (Taichung Branch, Taiwan High Court)
*   `TNH`: 臺灣高等法院 臺南分院 (Tainan Branch, Taiwan High Court)
*   `KSH`: 臺灣高等法院 高雄分院 (Kaohsiung Branch, Taiwan High Court)
*   `HLH`: 臺灣高等法院 花蓮分院 (Hualien Branch, Taiwan High Court)

**高等行政法院**

*   `TPA`: 臺北高等行政法院 (Taipei High Administrative Court)
*   `TCA`: 臺中高等行政法院 (Taichung High Administrative Court)
*   `KSA`: 高雄高等行政法院 (Kaohsiung High Administrative Court)

**智慧財產及商業法院**

*   `IPC`: 智慧財產及商業法院 (Intellectual Property and Commercial Court) - (包含前智慧財產法院)

**地方法院及其少年及家事法院/簡易庭**

(註：DM 通常代表 District Court，但有時會省略或有變體。少年及家事法院若為獨立法院則有專屬代碼，若為地院內之法庭則沿用地院代碼。)

*   **北部地區**
    *   `TPD` / `TPC`: 臺灣臺北地方法院 (Taiwan Taipei District Court) - TPD 較常用
    *   `SLD`: 臺灣士林地方法院 (Taiwan Shilin District Court)
    *   `PCD`: 臺灣新北地方法院 (Taiwan New Taipei District Court) - 前身為板橋地方法院 (PCD)
    *   `TYD`: 臺灣桃園地方法院 (Taiwan Taoyuan District Court)
    *   `SCD`: 臺灣新竹地方法院 (Taiwan Hsinchu District Court) - 注意，此處的 SCD 與最高法院的 SCD 不同，系統會透過其他欄位區分。實際系統內部可能有更明確區分，但在網址參數中常見此重疊。 *更正：較少見用 SCD 代表新竹，HCD 可能更準確或常見，但需視系統。*
    *   `HCD`: 臺灣新竹地方法院 (Taiwan Hsinchu District Court) - 較為明確
    *   `ILD`: 臺灣宜蘭地方法院 (Taiwan Yilan District Court)
    *   `KLD`: 臺灣基隆地方法院 (Taiwan Keelung District Court)
*   **中部地區**
    *   `MLD`: 臺灣苗栗地方法院 (Taiwan Miaoli District Court)
    *   `TCD`: 臺灣臺中地方法院 (Taiwan Taichung District Court)
    *   `NTD`: 臺灣南投地方法院 (Taiwan Nantou District Court)
    *   `CHD`: 臺灣彰化地方法院 (Taiwan Changhua District Court)
    *   `ULD`: 臺灣雲林地方法院 (Taiwan Yunlin District Court)
*   **南部地區**
    *   `CYD` / `CYDM`: 臺灣嘉義地方法院 (Taiwan Chiayi District Court) - CYDM 較常見
    *   `TND`: 臺灣臺南地方法院 (Taiwan Tainan District Court)
    *   `KSD`: 臺灣高雄地方法院 (Taiwan Kaohsiung District Court)
    *   `KSY`: 臺灣高雄少年及家事法院 (Taiwan Kaohsiung Juvenile and Family Court) - 獨立法院
    *   `QTD` / `CTD`: 臺灣橋頭地方法院 (Taiwan Ciaotou District Court) - QTD 較常用
    *   `PTD`: 臺灣屏東地方法院 (Taiwan Pingtung District Court)
*   **東部地區**
    *   `TTD`: 臺灣臺東地方法院 (Taiwan Taitung District Court)
    *   `HLD`: 臺灣花蓮地方法院 (Taiwan Hualien District Court)
*   **離島地區**
    *   `PHD`: 臺灣澎湖地方法院 (Taiwan Penghu District Court)
    *   `KMD`: 福建金門地方法院 (Fuchien Kinmen District Court)
    *   `LCD`: 福建連江地方法院 (Fuchien Lienchiang District Court)

**重要提醒：**

1.  **可能變動：** 法院組織可能調整（如合併、新設），代碼也可能隨之更新或產生變化。
2.  **系統差異：** 不同查詢介面或資料庫內部使用的代碼可能存在細微差異。例如，有些系統可能統一使用 3 個字母，有些則不固定。
3.  **上下文區分：** 雖然有少數代碼可能重疊（如新竹地院和最高法院都可能出現 SCD 的情況，雖然 HCD 更常用於新竹），但在完整的裁判書字號（包含年度、字別、案號）的上下文中，通常可以唯一確定是哪個法院。
4.  **少年及家事法院：** 除了高雄是獨立法院 (KSY)，其他縣市的少年及家事案件通常在地方法院審理，會沿用該地方法院的代碼，但使用特定的「字別」（如 `家`、`護`、`少` 等）。

建議在實際開發系統時，可以透過官方最新的裁判書查詢系統進行抽樣驗證，以確保代碼的準確性。

## Q6.3-語意分類
- M::
- Q::G6.3:台灣的判決書，是否有分類，如果想要有好的語意分類，該怎麼分
- A::是的，台灣的判決書本身就存在一些**官方的分類方式**，但若要達到更深入、更有意義的**語意分類 (Semantic Classification)**，則需要更細緻的方法。

**一、 判決書現有的分類方式：**

1.  **依審級與法院類型：**
    *   最高法院、高等法院及其分院、地方法院
    *   普通法院 (民事庭、刑事庭)、行政法院、智慧財產及商業法院、懲戒法院、憲法法庭
    *   這是最基本的結構性分類。

2.  **依主要法律領域：**
    *   **民事 (Civil):** 涉及私人間權利義務關係，如契約、侵權行為、物權、親屬、繼承等。
    *   **刑事 (Criminal):** 涉及國家追訴處罰犯罪行為，如殺人、竊盜、詐欺、貪污等。
    *   **行政 (Administrative):** 涉及人民與行政機關間的公法爭議，如稅務、土地徵收、違規裁罰、訴願決定等。
    *   **(特殊)** 智慧財產、商業、家事、少年、勞動等，這些雖可歸入上述三大類，但因其專業性常被獨立看待或有專門法庭/程序。

3.  **依程序類型 (字別 Zibie):**
    *   如前所述，`訴`、`易`、`簡`、`家`、`勞`、`執`、`上`、`抗` 等字別，代表了案件適用的程序或性質。這部分反映了一定的案件內容（例如 `家` 通常指家事案件），但很多字別（如 `訴`）涵蓋範圍仍然很廣。

4.  **依官方「案由」(Cause of Action / Case Reason):**
    *   這是判決書內記載的 **最接近語意** 的官方分類。例如：
        *   民事：「請求損害賠償」、「確認所有權」、「履行契約」、「遷讓房屋」
        *   刑事：「竊盜」、「詐欺」、「過失傷害」、「違反毒品危害防制條例」
        *   行政：「撤銷原處分(稅捐稽徵事件)」、「課予義務(申請建照事件)」
    *   **優點：** 官方提供，相對標準化。
    *   **缺點：**
        *   **粒度不一：** 有些案由很具體（如「違反商標法」），有些很籠統（如「請求損害賠償」可以包含車禍、醫療糾紛、商品瑕疵等各種原因）。
        *   **多重案由：** 一個案件可能涉及多個案由。
        *   **用詞可能隨時間演變或有細微差異。**
        *   **無法完全反映爭議核心：** 例如，一個「履行契約」的案由，其核心爭議可能是契約是否成立、是否有瑕疵、是否因不可抗力等，案由本身看不出來。

**二、 如何進行更好的語意分類？**

目標是建立一個更能反映**案件實質內容、爭議焦點、涉及主題**的分類體系。以下是幾種策略和建議的分類維度：

**策略：**

1.  **基於「案由」的擴展與標準化：**
    *   以官方案由為基礎，進行歸納、合併和細化。
    *   例如，將各種不同的「請求損害賠償」案由，根據判決書內容（事實摘要、爭點）進一步細分為：「交通事故損賠」、「醫療糾紛損賠」、「工程瑕疵損賠」、「名譽侵權損賠」等。
    *   建立一個層級式的分類體系 (Taxonomy)。

2.  **利用判決書內文進行主題建模 (Topic Modeling) 或文本分類 (Text Classification)：**
    *   **方法：** 使用 NLP 技術 (如 TF-IDF, Word Embeddings, BERT 等) 分析判決書的「事實與理由」部分。
    *   **主題建模 (無監督)：** 如 LDA (Latent Dirichlet Allocation)，可以自動發現文本中潛在的主題分佈，適合探索性分析，找出常見的議題聚類。缺點是主題需要人工解釋，且不一定符合預設的分類邏輯。
    *   **文本分類 (有監督)：**
        *   **定義目標類別：** 先設計好你想要的語意分類體系（如下面的維度建議）。
        *   **標註數據：** 人工閱讀一批判決書，為其打上正確的語意標籤。這是最耗時但效果最好的基礎。
        *   **訓練模型：** 使用標註好的數據訓練一個分類模型 (如 SVM, Naive Bayes, 或基於深度學習的模型)。
        *   **應用模型：** 用訓練好的模型自動為新的判決書進行分類。
    *   **優點：** 能深入文本內容，捕捉案由無法反映的細節和真實爭議點。
    *   **挑戰：** 需要大量標註數據（有監督方法）、模型訓練與調優、處理法律語言的複雜性。

3.  **結合關鍵詞、法條、爭點分析：**
    *   提取判決書中頻繁出現的專業術語、關鍵詞（如：無權占有、公然侮辱、締約過失、不可抗力）。
    *   分析判決書引用的核心法條。
    *   (較難) 嘗試自動抽取出法官整理的「爭點」。
    *   基於這些信息進行規則判斷或作為特徵輸入給機器學習模型。

**建議的語意分類維度 (可多維度組合)：**

**第一層：主要法律領域 (沿用並細化)**

*   民事
*   刑事
*   行政
*   家事 (從民事獨立出來可能更清晰)
*   勞動 (從民事獨立出來)
*   智慧財產
*   商業
*   少年
*   (其他：如強制執行、非訟等程序性為主，但也可再細分)

**第二層：具體案件類型/爭議主題 (示例)**

*   **民事下：**
    *   **合同/契約糾紛:** 買賣、租賃、承攬、委任、借貸、保證、僱傭、旅遊、運輸...
    *   **侵權行為:** 交通事故、醫療疏失、工程事故、商品責任、妨害名譽/隱私、校園/職場霸凌、環境污染...
    *   **物權糾紛:** 所有權確認/返還、共有物分割、不動產登記、相鄰關係(採光/通行)...
    *   **不動產交易:** 預售屋買賣、成屋買賣、仲介糾紛...
    *   **工程營建:** 工程款、工程瑕疵、工期延宕...
    *   **金融消費:** 信用卡、貸款、保險理賠、投資糾紛...
    *   **海商/空運:** 貨損、碰撞、運費...
*   **刑事下:**
    *   **財產犯罪:** 竊盜、搶奪、強盜、詐欺、侵占、背信、恐嚇取財、贓物...
    *   **暴力犯罪:** 殺人、傷害、妨害自由、強制性交/猥褻...
    *   **公共危險:** 放火、酒駕/肇逃、危險駕駛...
    *   **偽造文書/貨幣/證券**
    *   **妨害名譽/信用**
    *   **妨害電腦使用**
    *   **毒品危害**
    *   **貪污治罪**
    *   **證券交易法/銀行法相關犯罪**
    *   **妨害公務/投票**
*   **行政下:**
    *   **稅務行政:** 所得稅、營業稅、遺贈稅、關稅、地方稅...
    *   **土地行政:** 土地徵收、地價評定、土地使用分區/變更、違章建築...
    *   **營建行政:** 建築執照、使用執照...
    *   **環境保護:** 空氣/水/廢棄物污染裁罰、環評爭議...
    *   **勞動行政:** 勞檢裁罰、勞保/就保爭議...
    *   **衛生醫療:** 食品安全、藥品管理、健保爭議...
    *   **交通裁決**
    *   **公平交易**
    *   **政府採購**
    *   **公務員懲戒/考績**
*   **家事下:**
    *   婚姻: 離婚、剩餘財產分配、婚姻無效/撤銷...
    *   親子: 監護權(酌定/改定)、扶養費、會面交往、收養、親子關係確認/否認...
    *   繼承: 遺產分割、遺囑有效性、特留分...
    *   保護令
*   **勞動下:**
    *   確認僱傭關係/給付資遣費/退休金
    *   工資/加班費爭議
    *   職業災害認定/補償
    *   就業歧視/性騷擾
    *   不當勞動行為裁決
*   **智慧財產下:**
    *   專利侵權/有效性
    *   商標侵權/有效性
    *   著作權侵權
    *   營業秘密侵害

**第三層：更細緻的標籤/屬性 (可選)**

*   **涉及行業：** 金融、營建、科技、醫療、零售...
*   **爭議金額級距**
*   **涉及特定法規：** 公司法、證交法、勞基法、個資法...
*   **程序特徵：** 是否有鑑定、是否為再審/非常上告...
*   **判決結果類型：** 全部勝訴、部分勝訴、敗訴、和解/調解成立...

**實施建議：**

1.  **從官方「案由」出發：** 這是最容易取得的結構化資訊，先做初步分類和映射。
2.  **設計層級分類體系：** 參考上述維度，建立一個符合你分析需求的、清晰的、有層級的分類樹。
3.  **小規模標註與驗證：** 選取一批代表性的判決書，人工進行語意分類標註。
4.  **開發規則或訓練模型：**
    *   如果預算/時間有限，可以先嘗試用關鍵詞、案由組合等方式建立規則庫進行分類。
    *   如果追求更高準確率和覆蓋率，投入資源進行數據標註和模型訓練 (推薦使用預訓練語言模型如 BERT 進行微調)。
5.  **迭代優化：** 持續評估分類效果，根據錯誤案例調整規則或重新訓練模型。

一個好的語意分類系統將極大提升判決書可視化系統的價值，讓使用者能更快速、準確地找到特定主題的案件、分析趨勢、比較不同案件類型。
# End